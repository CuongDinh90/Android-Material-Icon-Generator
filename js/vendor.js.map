{"version":3,"sources":["auto-reload.js","runtime.js","vendor/Blob.js","vendor/bootstrap-colorpicker.min.js","vendor/bootstrap-toggle.min.js","vendor/jszip.min.js","vendor/paper-core.min.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,CAAC,YAAW;AACV,MAAI,YAAY,OAAO,SAAP,IAAoB,OAAO,YAAP,CAD1B;AAEV,MAAI,KAAK,OAAO,MAAP,GAAiB,OAAO,MAAP,IAAiB,EAAjB,CAFhB;AAGV,MAAI,KAAK,GAAG,aAAH,IAAqB,GAAG,aAAH,KAAqB,EAArB,CAHpB;AAIV,MAAI,CAAC,SAAD,IAAc,GAAG,QAAH,EAAa,OAA/B;;AAEA,MAAI,cAAc,SAAd,WAAc,CAAS,GAAT,EAAa;AAC7B,QAAI,OAAO,KAAK,KAAL,CAAW,KAAK,GAAL,KAAa,IAAb,CAAX,CAA8B,QAA9B,EAAP,CADyB;AAE7B,UAAM,IAAI,OAAJ,CAAY,yBAAZ,EAAuC,EAAvC,CAAN,CAF6B;AAG7B,WAAO,OAAO,IAAI,OAAJ,CAAY,GAAZ,KAAoB,CAApB,GAAwB,GAAxB,GAA8B,GAA9B,CAAP,GAA2C,cAA3C,GAA4D,IAA5D,CAHsB;GAAb,CANR;;AAYV,MAAI,UAAU,UAAU,SAAV,CAAoB,WAApB,EAAV,CAZM;AAaV,MAAI,eAAe,GAAG,YAAH,IAAmB,QAAQ,OAAR,CAAgB,QAAhB,IAA4B,CAAC,CAAD,CAbxD;;AAeV,MAAI,YAAY;AACd,UAAM,gBAAU;AACd,aAAO,QAAP,CAAgB,MAAhB,CAAuB,IAAvB,EADc;KAAV;;AAIN,gBAAY,sBAAU;AACpB,SAAG,KAAH,CACG,IADH,CACQ,SAAS,gBAAT,CAA0B,sBAA1B,CADR,EAEG,MAFH,CAEU,UAAS,IAAT,EAAe;AACrB,YAAI,MAAM,KAAK,YAAL,CAAkB,iBAAlB,CAAN,CADiB;AAErB,eAAO,KAAK,IAAL,IAAa,OAAO,OAAP,CAFC;OAAf,CAFV,CAMG,OANH,CAMW,UAAS,IAAT,EAAe;AACtB,aAAK,IAAL,GAAY,YAAY,KAAK,IAAL,CAAxB,CADsB;OAAf,CANX;;;AADoB,UAYhB,YAAJ,EAAkB,WAAW,YAAW;AAAE,iBAAS,IAAT,CAAc,YAAd,CAAF;OAAX,EAA4C,EAAvD,EAAlB;KAZU;GALV,CAfM;AAmCV,MAAI,OAAO,GAAG,IAAH,IAAW,IAAX,CAnCD;AAoCV,MAAI,OAAO,GAAG,MAAH,IAAa,OAAO,QAAP,CAAgB,QAAhB,IAA4B,WAAzC,CApCD;;AAsCV,MAAI,UAAU,SAAV,OAAU,GAAU;AACtB,QAAI,aAAa,IAAI,SAAJ,CAAc,UAAU,IAAV,GAAiB,GAAjB,GAAuB,IAAvB,CAA3B,CADkB;AAEtB,eAAW,SAAX,GAAuB,UAAS,KAAT,EAAe;AACpC,UAAI,GAAG,QAAH,EAAa,OAAjB;AACA,UAAI,UAAU,MAAM,IAAN,CAFsB;AAGpC,UAAI,WAAW,UAAU,OAAV,KAAsB,UAAU,IAAV,CAHD;AAIpC,iBAJoC;KAAf,CAFD;AAQtB,eAAW,OAAX,GAAqB,YAAU;AAC7B,UAAI,WAAW,UAAX,EAAuB,WAAW,KAAX,GAA3B;KADmB,CARC;AAWtB,eAAW,OAAX,GAAqB,YAAU;AAC7B,aAAO,UAAP,CAAkB,OAAlB,EAA2B,IAA3B,EAD6B;KAAV,CAXC;GAAV,CAtCJ;AAqDV,YArDU;CAAX,CAAD;;;;;;ACDA,CAAC,UAAS,CAAT,EAAW;AAAC,MAAG,QAAO,yDAAP,KAAiB,QAAjB,IAA2B,OAAO,MAAP,KAAgB,WAAhB,EAA4B;AAAC,WAAO,OAAP,GAAe,GAAf,CAAD;GAA1D,MAAmF,IAAG,OAAO,MAAP,KAAgB,UAAhB,IAA4B,OAAO,GAAP,EAAW;AAAC,WAAO,EAAP,EAAU,CAAV,EAAD;GAA1C,MAA4D;AAAC,QAAI,CAAJ,CAAD,IAAU,OAAO,MAAP,KAAgB,WAAhB,EAA4B;AAAC,UAAE,MAAF,CAAD;KAA/B,MAA8C,IAAG,OAAO,MAAP,KAAgB,WAAhB,EAA4B;AAAC,UAAE,MAAF,CAAD;KAA/B,MAA8C,IAAG,OAAO,IAAP,KAAc,WAAd,EAA0B;AAAC,UAAE,IAAF,CAAD;KAA7B,MAAyC;AAAC,UAAE,IAAF,CAAD;KAAzC,CAAiD,CAAE,IAAF,GAAS,GAAT,CAApJ;GAA5D;CAA/F,CAAD,CAAgU,YAAU;AAAC,MAAI,MAAJ,EAAW,MAAX,EAAkB,OAAlB,CAAD,OAAkC,SAAU,CAAT,CAAW,CAAX,EAAa,CAAb,EAAe,CAAf,EAAiB;AAAC,aAAS,CAAT,CAAW,CAAX,EAAa,CAAb,EAAe;AAAC,UAAG,CAAC,EAAE,CAAF,CAAD,EAAM;AAAC,YAAG,CAAC,EAAE,CAAF,CAAD,EAAM;AAAC,cAAI,IAAE,OAAO,OAAP,IAAgB,UAAhB,IAA4B,OAA5B,CAAP,IAA8C,CAAC,CAAD,IAAI,CAAJ,EAAM,OAAO,EAAE,CAAF,EAAI,CAAC,CAAD,CAAX,CAAT,IAA2B,CAAH,EAAK,OAAO,EAAE,CAAF,EAAI,CAAC,CAAD,CAAX,CAAL,IAAwB,IAAE,IAAI,KAAJ,CAAU,yBAAuB,CAAvB,GAAyB,GAAzB,CAAZ,CAA3F,MAA2I,EAAE,IAAF,GAAO,kBAAP,EAA0B,CAA1B,CAA3I;SAAT,IAAoL,IAAE,EAAE,CAAF,IAAK,EAAC,SAAQ,EAAR,EAAN,CAAvL,CAAyM,CAAE,CAAF,EAAK,CAAL,EAAQ,IAAR,CAAa,EAAE,OAAF,EAAU,UAAS,CAAT,EAAW;AAAC,cAAI,IAAE,EAAE,CAAF,EAAK,CAAL,EAAQ,CAAR,CAAF,CAAL,OAAyB,EAAE,IAAE,CAAF,GAAI,CAAJ,CAAT,CAAlB;SAAX,EAA8C,CAArE,EAAuE,EAAE,OAAF,EAAU,CAAjF,EAAmF,CAAnF,EAAqF,CAArF,EAAuF,CAAvF,EAAzM;OAAT,OAAmT,EAAE,CAAF,EAAK,OAAL,CAApT;KAAf,IAAoV,IAAE,OAAO,OAAP,IAAgB,UAAhB,IAA4B,OAA5B,CAAvV,KAA+X,IAAI,IAAE,CAAF,EAAI,IAAE,EAAE,MAAF,EAAS,GAAvB;AAA2B,QAAE,EAAE,CAAF,CAAF;KAA3B,OAA0C,CAAP,CAA9Z;GAAjB,CAA0b,EAAC,GAAE,CAAC,UAAS,OAAT,EAAiB,MAAjB,EAAwB,OAAxB,EAAgC;AAC30B;;;;;;;;;;;;;;AAD20B,aAe30B,CAAQ,KAAR,GAAgB,SAAS,KAAT,CAAe,CAAf,EAAkB,CAAlB,EAAqB;AACnC,YAAI,UAAU,MAAV,KAAqB,CAArB,EAAwB;AAC1B,cAAI,QAAQ,EAAE,CAAF,CAAR,CADsB;AAE1B,eAAK,IAAI,IAAI,CAAJ,EAAO,IAAI,EAAE,MAAF,EAAU,GAA9B,EAAmC;AACjC,oBAAQ,MAAM,KAAN,EAAa,EAAE,CAAF,CAAb,CAAR,CADiC;WAAnC;AAGA,iBAAO,KAAP,CAL0B;SAA5B;AAOA,YAAI,KAAK,EAAE,OAAF,CAAL,CAR+B;AASnC,YAAI,KAAK,EAAE,OAAF,CAAL,CAT+B;;AAWnC,YAAI,MAAM,EAAN,EAAU;AACZ,eAAK,MAAM,EAAN,CADO;AAEZ,eAAK,MAAM,EAAN,CAFO;AAGZ,cAAI,CAAC,MAAM,OAAN,CAAc,EAAd,CAAD,EAAoB,KAAK,CAAC,EAAD,CAAL,CAAxB;AACA,cAAI,CAAC,MAAM,OAAN,CAAc,EAAd,CAAD,EAAoB,KAAK,CAAC,EAAD,CAAL,CAAxB;AACA,YAAE,OAAF,IAAa,GAAG,MAAH,CAAU,EAAV,EAAc,MAAd,CAAqB,KAArB,CAAb,CALY;SAAd;;AAQA,aAAK,IAAI,GAAJ,IAAW,CAAhB,EAAmB;AACjB,cAAI,OAAO,OAAP,EAAgB;AAClB,cAAE,GAAF,IAAS,EAAE,GAAF,CAAT,CADkB;WAApB;SADF;;AAMA,eAAO,CAAP,CAzBmC;OAArB;;;;;;;;;;AAf2zB,eAmDl0B,KAAT,CAAe,GAAf,EAAoB;AAClB,eAAO,OAAO,IAAP,IAAe,QAAQ,EAAR,CADJ;OAApB;;;;;;;;AAnD20B,aA6D30B,CAAQ,WAAR,GAAsB,WAAtB,CA7D20B;AA8D30B,eAAS,WAAT,CAAqB,GAArB,EAA0B;AACxB,eAAO,CAAC,MAAM,OAAN,CAAc,GAAd,IAAqB,IAAI,GAAJ,CAAQ,WAAR,CAArB,GACN,GAAC,IAAO,QAAO,iDAAP,KAAe,QAAf,GAA2B,OAAO,IAAP,CAAY,GAAZ,EAAiB,MAAjB,CAAwB,UAAU,GAAV,EAAe;AAAE,iBAAO,IAAI,GAAJ,CAAP,CAAF;SAAf,CAA3D,GACA,CAAC,GAAD,CADA,CADK,CAEE,MAFF,CAES,KAFT,EAEgB,IAFhB,CAEqB,GAFrB,CAAP,CADwB;OAA1B;;;;;;;;;AA9D20B,aA2E30B,CAAQ,GAAR,GAAc,SAAS,GAAT,CAAa,OAAb,EAAsB,OAAtB,EAA+B;AAC3C,YAAI,MAAM,EAAN,CADuC;AAE3C,aAAK,IAAI,IAAI,CAAJ,EAAO,IAAI,QAAQ,MAAR,EAAgB,GAApC,EAAyC;AACvC,cAAI,WAAW,QAAQ,CAAR,CAAX,EAAuB;AACzB,gBAAI,IAAJ,CAAS,QAAQ,MAAR,CAAe,YAAY,CAAC,QAAQ,CAAR,CAAD,CAAZ,CAAf,CAAT,EADyB;WAA3B,MAEO;AACL,gBAAI,IAAJ,CAAS,YAAY,QAAQ,CAAR,CAAZ,CAAT,EADK;WAFP;SADF;AAOA,YAAI,OAAO,YAAY,GAAZ,CAAP,CATuC;AAU3C,YAAI,KAAK,MAAL,EAAa;AACf,iBAAO,aAAa,IAAb,GAAoB,GAApB,CADQ;SAAjB,MAEO;AACL,iBAAO,EAAP,CADK;SAFP;OAVY,CA3E6zB;;AA6F30B,cAAQ,KAAR,GAAgB,UAAU,GAAV,EAAe;AAC7B,YAAI,OAAO,QAAO,iDAAP,KAAe,QAAf,EAAyB;AAClC,iBAAO,OAAO,IAAP,CAAY,GAAZ,EAAiB,GAAjB,CAAqB,UAAU,KAAV,EAAiB;AAC3C,mBAAO,QAAQ,GAAR,GAAc,IAAI,KAAJ,CAAd,CADoC;WAAjB,CAArB,CAEJ,IAFI,CAEC,GAFD,CAAP,CADkC;SAApC,MAIO;AACL,iBAAO,GAAP,CADK;SAJP;OADc;;;;;;;;;;AA7F2zB,aA+G30B,CAAQ,IAAR,GAAe,SAAS,IAAT,CAAc,GAAd,EAAmB,GAAnB,EAAwB,OAAxB,EAAiC,KAAjC,EAAwC;AACrD,YAAI,QAAQ,OAAR,EAAiB;AACnB,gBAAM,QAAQ,KAAR,CAAc,GAAd,CAAN,CADmB;SAArB;AAGA,YAAI,aAAa,OAAO,GAAP,IAAc,QAAQ,GAAR,EAAa;AAC1C,cAAI,GAAJ,EAAS;AACP,mBAAO,OAAO,QAAQ,GAAR,GAAc,MAAM,IAAN,GAAa,GAAb,GAAmB,GAAnB,CAArB,CADA;WAAT,MAEO;AACL,mBAAO,EAAP,CADK;WAFP;SADF,MAMO,IAAI,KAAK,IAAI,OAAJ,CAAY,MAAZ,CAAL,IAA4B,YAAY,OAAO,GAAP,EAAY;AAC7D,cAAI,KAAK,SAAL,CAAe,GAAf,EAAoB,OAApB,CAA4B,GAA5B,MAAqC,CAAC,CAAD,EAAI;AAC3C,oBAAQ,IAAR,CAAa,2DACA,4BADA,CAAb,CAD2C;WAA7C,CAD6D;AAK7D,cAAI,OAAO,OAAO,IAAI,WAAJ,KAAoB,UAA3B,EAAuC;AAChD,oBAAQ,IAAR,CAAa,2DACA,sBADA,CAAb,CADgD;WAAlD;AAIA,iBAAO,MAAM,GAAN,GAAY,IAAZ,GAAmB,KAAK,SAAL,CAAe,GAAf,EAAoB,OAApB,CAA4B,IAA5B,EAAkC,QAAlC,CAAnB,GAAiE,GAAjE,CATsD;SAAxD,MAUA,IAAI,OAAJ,EAAa;AAClB,cAAI,OAAO,OAAO,IAAI,WAAJ,KAAoB,UAA3B,EAAuC;AAChD,oBAAQ,IAAR,CAAa,mDAAb,EADgD;WAAlD;AAGA,iBAAO,MAAM,GAAN,GAAY,IAAZ,GAAmB,QAAQ,MAAR,CAAe,GAAf,CAAnB,GAAyC,GAAzC,CAJW;SAAb,MAKA;AACL,cAAI,OAAO,OAAO,IAAI,WAAJ,KAAoB,UAA3B,EAAuC;AAChD,oBAAQ,IAAR,CAAa,mDAAb,EADgD;WAAlD;AAGA,iBAAO,MAAM,GAAN,GAAY,IAAZ,GAAmB,GAAnB,GAAyB,GAAzB,CAJF;SALA;OApBM;;;;;;;;;AA/G4zB,aAuJ30B,CAAQ,KAAR,GAAgB,SAAS,KAAT,CAAe,GAAf,EAAoB,KAApB,EAA0B;AACxC,YAAI,MAAM,EAAN,CADoC;;AAGxC,YAAI,OAAO,OAAO,IAAP,CAAY,GAAZ,CAAP,CAHoC;;AAKxC,YAAI,KAAK,MAAL,EAAa;AACf,eAAK,IAAI,IAAI,CAAJ,EAAO,IAAI,KAAK,MAAL,EAAa,EAAE,CAAF,EAAK;AACpC,gBAAI,MAAM,KAAK,CAAL,CAAN;gBACA,MAAM,IAAI,GAAJ,CAAN,CAFgC;;AAIpC,gBAAI,WAAW,GAAX,EAAgB;AAClB,kBAAI,MAAM,YAAY,GAAZ,CAAN,EAAwB;AAC1B,oBAAI,IAAJ,CAAS,MAAM,GAAN,GAAY,IAAZ,GAAmB,GAAnB,GAAyB,GAAzB,CAAT,CAD0B;eAA5B;aADF,MAIO;AACL,kBAAI,IAAJ,CAAS,QAAQ,IAAR,CAAa,GAAb,EAAkB,GAAlB,EAAuB,KAAvB,EAA8B,KAA9B,CAAT,EADK;aAJP;WAJF;SADF;;AAeA,eAAO,IAAI,IAAJ,CAAS,EAAT,CAAP,CApBwC;OAA1B;;;;;;;;;;AAvJ2zB,UAsLv0B,yBAAyB;AAC3B,aAAK,OAAL;AACA,aAAK,MAAL;AACA,aAAK,MAAL;AACA,aAAK,QAAL;OAJE,CAtLu0B;AA4L30B,UAAI,kBAAkB,SAAlB,CA5Lu0B;;AA8L30B,eAAS,gBAAT,CAA0B,CAA1B,EAA6B;AAC3B,eAAO,uBAAuB,CAAvB,KAA6B,CAA7B,CADoB;OAA7B;;AAIA,cAAQ,MAAR,GAAiB,WAAjB,CAlM20B;AAmM30B,eAAS,WAAT,CAAqB,IAArB,EAA0B;AACxB,YAAI,SAAS,OAAO,IAAP,EAAa,OAAb,CAAqB,eAArB,EAAsC,gBAAtC,CAAT,CADoB;AAExB,YAAI,WAAW,KAAK,IAAL,EAAW,OAAO,IAAP,CAA1B,KACK,OAAO,MAAP,CADL;OAFF;;;;;;;;;;;;AAnM20B,aAmN30B,CAAQ,OAAR,GAAkB,SAAS,OAAT,CAAiB,GAAjB,EAAsB,QAAtB,EAAgC,MAAhC,EAAwC,GAAxC,EAA4C;AAC5D,YAAI,EAAE,eAAe,KAAf,CAAF,EAAyB,MAAM,GAAN,CAA7B;AACA,YAAI,CAAC,OAAO,MAAP,IAAiB,WAAjB,IAAgC,CAAC,QAAD,CAAjC,IAA+C,CAAC,GAAD,EAAM;AACvD,cAAI,OAAJ,IAAe,cAAc,MAAd,CADwC;AAEvD,gBAAM,GAAN,CAFuD;SAAzD;AAIA,YAAI;AACF,gBAAM,OAAO,QAAQ,IAAR,EAAc,YAAd,CAA2B,QAA3B,EAAqC,MAArC,CAAP,CADJ;SAAJ,CAEE,OAAO,EAAP,EAAW;AACX,kBAAQ,GAAR,EAAa,IAAb,EAAmB,MAAnB,EADW;SAAX;AAGF,YAAI,UAAU,CAAV;YACA,QAAQ,IAAI,KAAJ,CAAU,IAAV,CAAR;YACA,QAAQ,KAAK,GAAL,CAAS,SAAS,OAAT,EAAkB,CAA3B,CAAR;YACA,MAAM,KAAK,GAAL,CAAS,MAAM,MAAN,EAAc,SAAS,OAAT,CAA7B;;;AAdwD,YAiBxD,UAAU,MAAM,KAAN,CAAY,KAAZ,EAAmB,GAAnB,EAAwB,GAAxB,CAA4B,UAAS,IAAT,EAAe,CAAf,EAAiB;AACzD,cAAI,OAAO,IAAI,KAAJ,GAAY,CAAZ,CAD8C;AAEzD,iBAAO,CAAC,QAAQ,MAAR,GAAiB,MAAjB,GAA0B,MAA1B,CAAD,GACH,IADG,GAEH,IAFG,GAGH,IAHG,CAFkD;SAAjB,CAA5B,CAMX,IANW,CAMN,IANM,CAAV;;;AAjBwD,WA0B5D,CAAI,IAAJ,GAAW,QAAX,CA1B4D;AA2B5D,YAAI,OAAJ,GAAc,CAAC,YAAY,MAAZ,CAAD,GAAuB,GAAvB,GAA6B,MAA7B,GACV,IADU,GACH,OADG,GACO,MADP,GACgB,IAAI,OAAJ,CA5B8B;AA6B5D,cAAM,GAAN,CA7B4D;OAA5C,CAnNyzB;;AAmP30B,cAAQ,SAAR,GAAoB,SAAS,SAAT,CAAmB,MAAnB,EAA2B,QAA3B,EAAqC;AACvD,aAAK,MAAL,GAAc,MAAd,CADuD;AAEvD,aAAK,QAAL,GAAgB,QAAhB,CAFuD;OAArC,CAnPuzB;KAAhC,EAwPzyB,EAAC,MAAK,CAAL,EAxPuyB,CAAF,EAwP5xB,GAAE,CAAC,UAAS,OAAT,EAAiB,MAAjB,EAAwB,OAAxB,EAAgC,EAAhC,EAEb,EAFY,CAAF,EAxPgW,EA0PrW,EA1PqW,EA0PlW,CAAC,CAAD,CA1PkW,EA0P7V,CA1P6V,CAAP,CAA3B;CAAV,CAAhU;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClNA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CCRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACbA;AACA;AACA;AACA;AACA;AACA;AACA","file":"public/js/vendor.js","sourcesContent":["/* jshint ignore:start */\n(function() {\n  var WebSocket = window.WebSocket || window.MozWebSocket;\n  var br = window.brunch = (window.brunch || {});\n  var ar = br['auto-reload'] = (br['auto-reload'] || {});\n  if (!WebSocket || ar.disabled) return;\n\n  var cacheBuster = function(url){\n    var date = Math.round(Date.now() / 1000).toString();\n    url = url.replace(/(\\&|\\\\?)cacheBuster=\\d*/, '');\n    return url + (url.indexOf('?') >= 0 ? '&' : '?') +'cacheBuster=' + date;\n  };\n\n  var browser = navigator.userAgent.toLowerCase();\n  var forceRepaint = ar.forceRepaint || browser.indexOf('chrome') > -1;\n\n  var reloaders = {\n    page: function(){\n      window.location.reload(true);\n    },\n\n    stylesheet: function(){\n      [].slice\n        .call(document.querySelectorAll('link[rel=stylesheet]'))\n        .filter(function(link) {\n          var val = link.getAttribute('data-autoreload');\n          return link.href && val != 'false';\n        })\n        .forEach(function(link) {\n          link.href = cacheBuster(link.href);\n        });\n\n      // Hack to force page repaint after 25ms.\n      if (forceRepaint) setTimeout(function() { document.body.offsetHeight; }, 25);\n    }\n  };\n  var port = ar.port || 9485;\n  var host = br.server || window.location.hostname || 'localhost';\n\n  var connect = function(){\n    var connection = new WebSocket('ws://' + host + ':' + port);\n    connection.onmessage = function(event){\n      if (ar.disabled) return;\n      var message = event.data;\n      var reloader = reloaders[message] || reloaders.page;\n      reloader();\n    };\n    connection.onerror = function(){\n      if (connection.readyState) connection.close();\n    };\n    connection.onclose = function(){\n      window.setTimeout(connect, 1000);\n    };\n  };\n  connect();\n})();\n/* jshint ignore:end */","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.jade = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\n/**\n * Merge two attribute objects giving precedence\n * to values in object `b`. Classes are special-cased\n * allowing for arrays and merging/joining appropriately\n * resulting in a string.\n *\n * @param {Object} a\n * @param {Object} b\n * @return {Object} a\n * @api private\n */\n\nexports.merge = function merge(a, b) {\n  if (arguments.length === 1) {\n    var attrs = a[0];\n    for (var i = 1; i < a.length; i++) {\n      attrs = merge(attrs, a[i]);\n    }\n    return attrs;\n  }\n  var ac = a['class'];\n  var bc = b['class'];\n\n  if (ac || bc) {\n    ac = ac || [];\n    bc = bc || [];\n    if (!Array.isArray(ac)) ac = [ac];\n    if (!Array.isArray(bc)) bc = [bc];\n    a['class'] = ac.concat(bc).filter(nulls);\n  }\n\n  for (var key in b) {\n    if (key != 'class') {\n      a[key] = b[key];\n    }\n  }\n\n  return a;\n};\n\n/**\n * Filter null `val`s.\n *\n * @param {*} val\n * @return {Boolean}\n * @api private\n */\n\nfunction nulls(val) {\n  return val != null && val !== '';\n}\n\n/**\n * join array as classes.\n *\n * @param {*} val\n * @return {String}\n */\nexports.joinClasses = joinClasses;\nfunction joinClasses(val) {\n  return (Array.isArray(val) ? val.map(joinClasses) :\n    (val && typeof val === 'object') ? Object.keys(val).filter(function (key) { return val[key]; }) :\n    [val]).filter(nulls).join(' ');\n}\n\n/**\n * Render the given classes.\n *\n * @param {Array} classes\n * @param {Array.<Boolean>} escaped\n * @return {String}\n */\nexports.cls = function cls(classes, escaped) {\n  var buf = [];\n  for (var i = 0; i < classes.length; i++) {\n    if (escaped && escaped[i]) {\n      buf.push(exports.escape(joinClasses([classes[i]])));\n    } else {\n      buf.push(joinClasses(classes[i]));\n    }\n  }\n  var text = joinClasses(buf);\n  if (text.length) {\n    return ' class=\"' + text + '\"';\n  } else {\n    return '';\n  }\n};\n\n\nexports.style = function (val) {\n  if (val && typeof val === 'object') {\n    return Object.keys(val).map(function (style) {\n      return style + ':' + val[style];\n    }).join(';');\n  } else {\n    return val;\n  }\n};\n/**\n * Render the given attribute.\n *\n * @param {String} key\n * @param {String} val\n * @param {Boolean} escaped\n * @param {Boolean} terse\n * @return {String}\n */\nexports.attr = function attr(key, val, escaped, terse) {\n  if (key === 'style') {\n    val = exports.style(val);\n  }\n  if ('boolean' == typeof val || null == val) {\n    if (val) {\n      return ' ' + (terse ? key : key + '=\"' + key + '\"');\n    } else {\n      return '';\n    }\n  } else if (0 == key.indexOf('data') && 'string' != typeof val) {\n    if (JSON.stringify(val).indexOf('&') !== -1) {\n      console.warn('Since Jade 2.0.0, ampersands (`&`) in data attributes ' +\n                   'will be escaped to `&amp;`');\n    };\n    if (val && typeof val.toISOString === 'function') {\n      console.warn('Jade will eliminate the double quotes around dates in ' +\n                   'ISO form after 2.0.0');\n    }\n    return ' ' + key + \"='\" + JSON.stringify(val).replace(/'/g, '&apos;') + \"'\";\n  } else if (escaped) {\n    if (val && typeof val.toISOString === 'function') {\n      console.warn('Jade will stringify dates in ISO form after 2.0.0');\n    }\n    return ' ' + key + '=\"' + exports.escape(val) + '\"';\n  } else {\n    if (val && typeof val.toISOString === 'function') {\n      console.warn('Jade will stringify dates in ISO form after 2.0.0');\n    }\n    return ' ' + key + '=\"' + val + '\"';\n  }\n};\n\n/**\n * Render the given attributes object.\n *\n * @param {Object} obj\n * @param {Object} escaped\n * @return {String}\n */\nexports.attrs = function attrs(obj, terse){\n  var buf = [];\n\n  var keys = Object.keys(obj);\n\n  if (keys.length) {\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i]\n        , val = obj[key];\n\n      if ('class' == key) {\n        if (val = joinClasses(val)) {\n          buf.push(' ' + key + '=\"' + val + '\"');\n        }\n      } else {\n        buf.push(exports.attr(key, val, false, terse));\n      }\n    }\n  }\n\n  return buf.join('');\n};\n\n/**\n * Escape the given string of `html`.\n *\n * @param {String} html\n * @return {String}\n * @api private\n */\n\nvar jade_encode_html_rules = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;'\n};\nvar jade_match_html = /[&<>\"]/g;\n\nfunction jade_encode_char(c) {\n  return jade_encode_html_rules[c] || c;\n}\n\nexports.escape = jade_escape;\nfunction jade_escape(html){\n  var result = String(html).replace(jade_match_html, jade_encode_char);\n  if (result === '' + html) return html;\n  else return result;\n};\n\n/**\n * Re-throw the given `err` in context to the\n * the jade in `filename` at the given `lineno`.\n *\n * @param {Error} err\n * @param {String} filename\n * @param {String} lineno\n * @api private\n */\n\nexports.rethrow = function rethrow(err, filename, lineno, str){\n  if (!(err instanceof Error)) throw err;\n  if ((typeof window != 'undefined' || !filename) && !str) {\n    err.message += ' on line ' + lineno;\n    throw err;\n  }\n  try {\n    str = str || require('fs').readFileSync(filename, 'utf8')\n  } catch (ex) {\n    rethrow(err, null, lineno)\n  }\n  var context = 3\n    , lines = str.split('\\n')\n    , start = Math.max(lineno - context, 0)\n    , end = Math.min(lines.length, lineno + context);\n\n  // Error context\n  var context = lines.slice(start, end).map(function(line, i){\n    var curr = i + start + 1;\n    return (curr == lineno ? '  > ' : '    ')\n      + curr\n      + '| '\n      + line;\n  }).join('\\n');\n\n  // Alter exception message\n  err.path = filename;\n  err.message = (filename || 'Jade') + ':' + lineno\n    + '\\n' + context + '\\n\\n' + err.message;\n  throw err;\n};\n\nexports.DebugItem = function DebugItem(lineno, filename) {\n  this.lineno = lineno;\n  this.filename = filename;\n}\n\n},{\"fs\":2}],2:[function(require,module,exports){\n\n},{}]},{},[1])(1)\n});","/* Blob.js\n * A Blob implementation.\n * 2014-07-24\n *\n * By Eli Grey, http://eligrey.com\n * By Devin Samarin, https://github.com/dsamarin\n * License: MIT\n *   See https://github.com/eligrey/Blob.js/blob/master/LICENSE.md\n */\n\n/*global self, unescape */\n/*jslint bitwise: true, regexp: true, confusion: true, es5: true, vars: true, white: true,\n  plusplus: true */\n\n/*! @source http://purl.eligrey.com/github/Blob.js/blob/master/Blob.js */\n\n(function (view) {\n\t\"use strict\";\n\n\tview.URL = view.URL || view.webkitURL;\n\n\tif (view.Blob && view.URL) {\n\t\ttry {\n\t\t\tnew Blob;\n\t\t\treturn;\n\t\t} catch (e) {}\n\t}\n\n\t// Internally we use a BlobBuilder implementation to base Blob off of\n\t// in order to support older browsers that only have BlobBuilder\n\tvar BlobBuilder = view.BlobBuilder || view.WebKitBlobBuilder || view.MozBlobBuilder || (function(view) {\n\t\tvar\n\t\t\t  get_class = function(object) {\n\t\t\t\treturn Object.prototype.toString.call(object).match(/^\\[object\\s(.*)\\]$/)[1];\n\t\t\t}\n\t\t\t, FakeBlobBuilder = function BlobBuilder() {\n\t\t\t\tthis.data = [];\n\t\t\t}\n\t\t\t, FakeBlob = function Blob(data, type, encoding) {\n\t\t\t\tthis.data = data;\n\t\t\t\tthis.size = data.length;\n\t\t\t\tthis.type = type;\n\t\t\t\tthis.encoding = encoding;\n\t\t\t}\n\t\t\t, FBB_proto = FakeBlobBuilder.prototype\n\t\t\t, FB_proto = FakeBlob.prototype\n\t\t\t, FileReaderSync = view.FileReaderSync\n\t\t\t, FileException = function(type) {\n\t\t\t\tthis.code = this[this.name = type];\n\t\t\t}\n\t\t\t, file_ex_codes = (\n\t\t\t\t  \"NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR \"\n\t\t\t\t+ \"NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR\"\n\t\t\t).split(\" \")\n\t\t\t, file_ex_code = file_ex_codes.length\n\t\t\t, real_URL = view.URL || view.webkitURL || view\n\t\t\t, real_create_object_URL = real_URL.createObjectURL\n\t\t\t, real_revoke_object_URL = real_URL.revokeObjectURL\n\t\t\t, URL = real_URL\n\t\t\t, btoa = view.btoa\n\t\t\t, atob = view.atob\n\n\t\t\t, ArrayBuffer = view.ArrayBuffer\n\t\t\t, Uint8Array = view.Uint8Array\n\n\t\t\t, origin = /^[\\w-]+:\\/*\\[?[\\w\\.:-]+\\]?(?::[0-9]+)?/\n\t\t;\n\t\tFakeBlob.fake = FB_proto.fake = true;\n\t\twhile (file_ex_code--) {\n\t\t\tFileException.prototype[file_ex_codes[file_ex_code]] = file_ex_code + 1;\n\t\t}\n\t\t// Polyfill URL\n\t\tif (!real_URL.createObjectURL) {\n\t\t\tURL = view.URL = function(uri) {\n\t\t\t\tvar\n\t\t\t\t\t  uri_info = document.createElementNS(\"http://www.w3.org/1999/xhtml\", \"a\")\n\t\t\t\t\t, uri_origin\n\t\t\t\t;\n\t\t\t\turi_info.href = uri;\n\t\t\t\tif (!(\"origin\" in uri_info)) {\n\t\t\t\t\tif (uri_info.protocol.toLowerCase() === \"data:\") {\n\t\t\t\t\t\turi_info.origin = null;\n\t\t\t\t\t} else {\n\t\t\t\t\t\turi_origin = uri.match(origin);\n\t\t\t\t\t\turi_info.origin = uri_origin && uri_origin[1];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn uri_info;\n\t\t\t};\n\t\t}\n\t\tURL.createObjectURL = function(blob) {\n\t\t\tvar\n\t\t\t\t  type = blob.type\n\t\t\t\t, data_URI_header\n\t\t\t;\n\t\t\tif (type === null) {\n\t\t\t\ttype = \"application/octet-stream\";\n\t\t\t}\n\t\t\tif (blob instanceof FakeBlob) {\n\t\t\t\tdata_URI_header = \"data:\" + type;\n\t\t\t\tif (blob.encoding === \"base64\") {\n\t\t\t\t\treturn data_URI_header + \";base64,\" + blob.data;\n\t\t\t\t} else if (blob.encoding === \"URI\") {\n\t\t\t\t\treturn data_URI_header + \",\" + decodeURIComponent(blob.data);\n\t\t\t\t} if (btoa) {\n\t\t\t\t\treturn data_URI_header + \";base64,\" + btoa(blob.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn data_URI_header + \",\" + encodeURIComponent(blob.data);\n\t\t\t\t}\n\t\t\t} else if (real_create_object_URL) {\n\t\t\t\treturn real_create_object_URL.call(real_URL, blob);\n\t\t\t}\n\t\t};\n\t\tURL.revokeObjectURL = function(object_URL) {\n\t\t\tif (object_URL.substring(0, 5) !== \"data:\" && real_revoke_object_URL) {\n\t\t\t\treal_revoke_object_URL.call(real_URL, object_URL);\n\t\t\t}\n\t\t};\n\t\tFBB_proto.append = function(data/*, endings*/) {\n\t\t\tvar bb = this.data;\n\t\t\t// decode data to a binary string\n\t\t\tif (Uint8Array && (data instanceof ArrayBuffer || data instanceof Uint8Array)) {\n\t\t\t\tvar\n\t\t\t\t\t  str = \"\"\n\t\t\t\t\t, buf = new Uint8Array(data)\n\t\t\t\t\t, i = 0\n\t\t\t\t\t, buf_len = buf.length\n\t\t\t\t;\n\t\t\t\tfor (; i < buf_len; i++) {\n\t\t\t\t\tstr += String.fromCharCode(buf[i]);\n\t\t\t\t}\n\t\t\t\tbb.push(str);\n\t\t\t} else if (get_class(data) === \"Blob\" || get_class(data) === \"File\") {\n\t\t\t\tif (FileReaderSync) {\n\t\t\t\t\tvar fr = new FileReaderSync;\n\t\t\t\t\tbb.push(fr.readAsBinaryString(data));\n\t\t\t\t} else {\n\t\t\t\t\t// async FileReader won't work as BlobBuilder is sync\n\t\t\t\t\tthrow new FileException(\"NOT_READABLE_ERR\");\n\t\t\t\t}\n\t\t\t} else if (data instanceof FakeBlob) {\n\t\t\t\tif (data.encoding === \"base64\" && atob) {\n\t\t\t\t\tbb.push(atob(data.data));\n\t\t\t\t} else if (data.encoding === \"URI\") {\n\t\t\t\t\tbb.push(decodeURIComponent(data.data));\n\t\t\t\t} else if (data.encoding === \"raw\") {\n\t\t\t\t\tbb.push(data.data);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (typeof data !== \"string\") {\n\t\t\t\t\tdata += \"\"; // convert unsupported types to strings\n\t\t\t\t}\n\t\t\t\t// decode UTF-16 to binary string\n\t\t\t\tbb.push(unescape(encodeURIComponent(data)));\n\t\t\t}\n\t\t};\n\t\tFBB_proto.getBlob = function(type) {\n\t\t\tif (!arguments.length) {\n\t\t\t\ttype = null;\n\t\t\t}\n\t\t\treturn new FakeBlob(this.data.join(\"\"), type, \"raw\");\n\t\t};\n\t\tFBB_proto.toString = function() {\n\t\t\treturn \"[object BlobBuilder]\";\n\t\t};\n\t\tFB_proto.slice = function(start, end, type) {\n\t\t\tvar args = arguments.length;\n\t\t\tif (args < 3) {\n\t\t\t\ttype = null;\n\t\t\t}\n\t\t\treturn new FakeBlob(\n\t\t\t\t  this.data.slice(start, args > 1 ? end : this.data.length)\n\t\t\t\t, type\n\t\t\t\t, this.encoding\n\t\t\t);\n\t\t};\n\t\tFB_proto.toString = function() {\n\t\t\treturn \"[object Blob]\";\n\t\t};\n\t\tFB_proto.close = function() {\n\t\t\tthis.size = 0;\n\t\t\tdelete this.data;\n\t\t};\n\t\treturn FakeBlobBuilder;\n\t}(view));\n\n\tview.Blob = function(blobParts, options) {\n\t\tvar type = options ? (options.type || \"\") : \"\";\n\t\tvar builder = new BlobBuilder();\n\t\tif (blobParts) {\n\t\t\tfor (var i = 0, len = blobParts.length; i < len; i++) {\n\t\t\t\tif (Uint8Array && blobParts[i] instanceof Uint8Array) {\n\t\t\t\t\tbuilder.append(blobParts[i].buffer);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tbuilder.append(blobParts[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tvar blob = builder.getBlob(type);\n\t\tif (!blob.slice && blob.webkitSlice) {\n\t\t\tblob.slice = blob.webkitSlice;\n\t\t}\n\t\treturn blob;\n\t};\n\n\tvar getPrototypeOf = Object.getPrototypeOf || function(object) {\n\t\treturn object.__proto__;\n\t};\n\tview.Blob.prototype = getPrototypeOf(new view.Blob());\n}(typeof self !== \"undefined\" && self || typeof window !== \"undefined\" && window || this.content || this));","!function(a){\"use strict\";\"object\"==typeof exports?module.exports=a(window.jQuery):\"function\"==typeof define&&define.amd?define([\"jquery\"],a):window.jQuery&&!window.jQuery.fn.colorpicker&&a(window.jQuery)}(function(a){\"use strict\";var b=function(b,c){this.value={h:0,s:0,b:0,a:1},this.origFormat=null,c&&a.extend(this.colors,c),b&&(void 0!==b.toLowerCase?(b+=\"\",this.setColor(b)):void 0!==b.h&&(this.value=b))};b.prototype={constructor:b,colors:{aliceblue:\"#f0f8ff\",antiquewhite:\"#faebd7\",aqua:\"#00ffff\",aquamarine:\"#7fffd4\",azure:\"#f0ffff\",beige:\"#f5f5dc\",bisque:\"#ffe4c4\",black:\"#000000\",blanchedalmond:\"#ffebcd\",blue:\"#0000ff\",blueviolet:\"#8a2be2\",brown:\"#a52a2a\",burlywood:\"#deb887\",cadetblue:\"#5f9ea0\",chartreuse:\"#7fff00\",chocolate:\"#d2691e\",coral:\"#ff7f50\",cornflowerblue:\"#6495ed\",cornsilk:\"#fff8dc\",crimson:\"#dc143c\",cyan:\"#00ffff\",darkblue:\"#00008b\",darkcyan:\"#008b8b\",darkgoldenrod:\"#b8860b\",darkgray:\"#a9a9a9\",darkgreen:\"#006400\",darkkhaki:\"#bdb76b\",darkmagenta:\"#8b008b\",darkolivegreen:\"#556b2f\",darkorange:\"#ff8c00\",darkorchid:\"#9932cc\",darkred:\"#8b0000\",darksalmon:\"#e9967a\",darkseagreen:\"#8fbc8f\",darkslateblue:\"#483d8b\",darkslategray:\"#2f4f4f\",darkturquoise:\"#00ced1\",darkviolet:\"#9400d3\",deeppink:\"#ff1493\",deepskyblue:\"#00bfff\",dimgray:\"#696969\",dodgerblue:\"#1e90ff\",firebrick:\"#b22222\",floralwhite:\"#fffaf0\",forestgreen:\"#228b22\",fuchsia:\"#ff00ff\",gainsboro:\"#dcdcdc\",ghostwhite:\"#f8f8ff\",gold:\"#ffd700\",goldenrod:\"#daa520\",gray:\"#808080\",green:\"#008000\",greenyellow:\"#adff2f\",honeydew:\"#f0fff0\",hotpink:\"#ff69b4\",indianred:\"#cd5c5c\",indigo:\"#4b0082\",ivory:\"#fffff0\",khaki:\"#f0e68c\",lavender:\"#e6e6fa\",lavenderblush:\"#fff0f5\",lawngreen:\"#7cfc00\",lemonchiffon:\"#fffacd\",lightblue:\"#add8e6\",lightcoral:\"#f08080\",lightcyan:\"#e0ffff\",lightgoldenrodyellow:\"#fafad2\",lightgrey:\"#d3d3d3\",lightgreen:\"#90ee90\",lightpink:\"#ffb6c1\",lightsalmon:\"#ffa07a\",lightseagreen:\"#20b2aa\",lightskyblue:\"#87cefa\",lightslategray:\"#778899\",lightsteelblue:\"#b0c4de\",lightyellow:\"#ffffe0\",lime:\"#00ff00\",limegreen:\"#32cd32\",linen:\"#faf0e6\",magenta:\"#ff00ff\",maroon:\"#800000\",mediumaquamarine:\"#66cdaa\",mediumblue:\"#0000cd\",mediumorchid:\"#ba55d3\",mediumpurple:\"#9370d8\",mediumseagreen:\"#3cb371\",mediumslateblue:\"#7b68ee\",mediumspringgreen:\"#00fa9a\",mediumturquoise:\"#48d1cc\",mediumvioletred:\"#c71585\",midnightblue:\"#191970\",mintcream:\"#f5fffa\",mistyrose:\"#ffe4e1\",moccasin:\"#ffe4b5\",navajowhite:\"#ffdead\",navy:\"#000080\",oldlace:\"#fdf5e6\",olive:\"#808000\",olivedrab:\"#6b8e23\",orange:\"#ffa500\",orangered:\"#ff4500\",orchid:\"#da70d6\",palegoldenrod:\"#eee8aa\",palegreen:\"#98fb98\",paleturquoise:\"#afeeee\",palevioletred:\"#d87093\",papayawhip:\"#ffefd5\",peachpuff:\"#ffdab9\",peru:\"#cd853f\",pink:\"#ffc0cb\",plum:\"#dda0dd\",powderblue:\"#b0e0e6\",purple:\"#800080\",red:\"#ff0000\",rosybrown:\"#bc8f8f\",royalblue:\"#4169e1\",saddlebrown:\"#8b4513\",salmon:\"#fa8072\",sandybrown:\"#f4a460\",seagreen:\"#2e8b57\",seashell:\"#fff5ee\",sienna:\"#a0522d\",silver:\"#c0c0c0\",skyblue:\"#87ceeb\",slateblue:\"#6a5acd\",slategray:\"#708090\",snow:\"#fffafa\",springgreen:\"#00ff7f\",steelblue:\"#4682b4\",tan:\"#d2b48c\",teal:\"#008080\",thistle:\"#d8bfd8\",tomato:\"#ff6347\",turquoise:\"#40e0d0\",violet:\"#ee82ee\",wheat:\"#f5deb3\",white:\"#ffffff\",whitesmoke:\"#f5f5f5\",yellow:\"#ffff00\",yellowgreen:\"#9acd32\",transparent:\"transparent\"},_sanitizeNumber:function(a){return\"number\"==typeof a?a:isNaN(a)||null===a||\"\"===a||void 0===a?1:void 0!==a.toLowerCase?parseFloat(a):1},isTransparent:function(a){return a?(a=a.toLowerCase().trim(),\"transparent\"===a||a.match(/#?00000000/)||a.match(/(rgba|hsla)\\(0,0,0,0?\\.?0\\)/)):!1},rgbaIsTransparent:function(a){return 0===a.r&&0===a.g&&0===a.b&&0===a.a},setColor:function(a){a=a.toLowerCase().trim(),a&&(this.isTransparent(a)?this.value={h:0,s:0,b:0,a:0}:this.value=this.stringToHSB(a)||{h:0,s:0,b:0,a:1})},stringToHSB:function(b){b=b.toLowerCase();var c;\"undefined\"!=typeof this.colors[b]&&(b=this.colors[b],c=\"alias\");var d=this,e=!1;return a.each(this.stringParsers,function(a,f){var g=f.re.exec(b),h=g&&f.parse.apply(d,[g]),i=c||f.format||\"rgba\";return h?(e=i.match(/hsla?/)?d.RGBtoHSB.apply(d,d.HSLtoRGB.apply(d,h)):d.RGBtoHSB.apply(d,h),d.origFormat=i,!1):!0}),e},setHue:function(a){this.value.h=1-a},setSaturation:function(a){this.value.s=a},setBrightness:function(a){this.value.b=1-a},setAlpha:function(a){this.value.a=parseInt(100*(1-a),10)/100},toRGB:function(a,b,c,d){a||(a=this.value.h,b=this.value.s,c=this.value.b),a*=360;var e,f,g,h,i;return a=a%360/60,i=c*b,h=i*(1-Math.abs(a%2-1)),e=f=g=c-i,a=~~a,e+=[i,h,0,0,h,i][a],f+=[h,i,i,h,0,0][a],g+=[0,0,h,i,i,h][a],{r:Math.round(255*e),g:Math.round(255*f),b:Math.round(255*g),a:d||this.value.a}},toHex:function(a,b,c,d){var e=this.toRGB(a,b,c,d);return this.rgbaIsTransparent(e)?\"transparent\":\"#\"+(1<<24|parseInt(e.r)<<16|parseInt(e.g)<<8|parseInt(e.b)).toString(16).substr(1)},toHSL:function(a,b,c,d){a=a||this.value.h,b=b||this.value.s,c=c||this.value.b,d=d||this.value.a;var e=a,f=(2-b)*c,g=b*c;return g/=f>0&&1>=f?f:2-f,f/=2,g>1&&(g=1),{h:isNaN(e)?0:e,s:isNaN(g)?0:g,l:isNaN(f)?0:f,a:isNaN(d)?0:d}},toAlias:function(a,b,c,d){var e=this.toHex(a,b,c,d);for(var f in this.colors)if(this.colors[f]===e)return f;return!1},RGBtoHSB:function(a,b,c,d){a/=255,b/=255,c/=255;var e,f,g,h;return g=Math.max(a,b,c),h=g-Math.min(a,b,c),e=0===h?null:g===a?(b-c)/h:g===b?(c-a)/h+2:(a-b)/h+4,e=(e+360)%6*60/360,f=0===h?0:h/g,{h:this._sanitizeNumber(e),s:f,b:g,a:this._sanitizeNumber(d)}},HueToRGB:function(a,b,c){return 0>c?c+=1:c>1&&(c-=1),1>6*c?a+(b-a)*c*6:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a},HSLtoRGB:function(a,b,c,d){0>b&&(b=0);var e;e=.5>=c?c*(1+b):c+b-c*b;var f=2*c-e,g=a+1/3,h=a,i=a-1/3,j=Math.round(255*this.HueToRGB(f,e,g)),k=Math.round(255*this.HueToRGB(f,e,h)),l=Math.round(255*this.HueToRGB(f,e,i));return[j,k,l,this._sanitizeNumber(d)]},toString:function(a){a=a||\"rgba\";var b=!1;switch(a){case\"rgb\":return b=this.toRGB(),this.rgbaIsTransparent(b)?\"transparent\":\"rgb(\"+b.r+\",\"+b.g+\",\"+b.b+\")\";case\"rgba\":return b=this.toRGB(),\"rgba(\"+b.r+\",\"+b.g+\",\"+b.b+\",\"+b.a+\")\";case\"hsl\":return b=this.toHSL(),\"hsl(\"+Math.round(360*b.h)+\",\"+Math.round(100*b.s)+\"%,\"+Math.round(100*b.l)+\"%)\";case\"hsla\":return b=this.toHSL(),\"hsla(\"+Math.round(360*b.h)+\",\"+Math.round(100*b.s)+\"%,\"+Math.round(100*b.l)+\"%,\"+b.a+\")\";case\"hex\":return this.toHex();case\"alias\":return this.toAlias()||this.toHex();default:return b}},stringParsers:[{re:/rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*?\\)/,format:\"rgb\",parse:function(a){return[a[1],a[2],a[3],1]}},{re:/rgb\\(\\s*(\\d+(?:\\.\\d+)?)\\%\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*?\\)/,format:\"rgb\",parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],1]}},{re:/rgba\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*(?:,\\s*(\\d+(?:\\.\\d+)?)\\s*)?\\)/,format:\"rgba\",parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba\\(\\s*(\\d+(?:\\.\\d+)?)\\%\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*(?:,\\s*(\\d+(?:\\.\\d+)?)\\s*)?\\)/,format:\"rgba\",parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/hsl\\(\\s*(\\d+(?:\\.\\d+)?)\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*?\\)/,format:\"hsl\",parse:function(a){return[a[1]/360,a[2]/100,a[3]/100,a[4]]}},{re:/hsla\\(\\s*(\\d+(?:\\.\\d+)?)\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*(?:,\\s*(\\d+(?:\\.\\d+)?)\\s*)?\\)/,format:\"hsla\",parse:function(a){return[a[1]/360,a[2]/100,a[3]/100,a[4]]}},{re:/#?([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,format:\"hex\",parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16),1]}},{re:/#?([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,format:\"hex\",parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16),1]}}],colorNameToHex:function(a){return\"undefined\"!=typeof this.colors[a.toLowerCase()]?this.colors[a.toLowerCase()]:!1}};var c={horizontal:!1,inline:!1,color:!1,format:!1,input:\"input\",container:!1,component:\".add-on, .input-group-addon\",sliders:{saturation:{maxLeft:100,maxTop:100,callLeft:\"setSaturation\",callTop:\"setBrightness\"},hue:{maxLeft:0,maxTop:100,callLeft:!1,callTop:\"setHue\"},alpha:{maxLeft:0,maxTop:100,callLeft:!1,callTop:\"setAlpha\"}},slidersHorz:{saturation:{maxLeft:100,maxTop:100,callLeft:\"setSaturation\",callTop:\"setBrightness\"},hue:{maxLeft:100,maxTop:0,callLeft:\"setHue\",callTop:!1},alpha:{maxLeft:100,maxTop:0,callLeft:\"setAlpha\",callTop:!1}},template:'<div class=\"colorpicker dropdown-menu\"><div class=\"colorpicker-saturation\"><i><b></b></i></div><div class=\"colorpicker-hue\"><i></i></div><div class=\"colorpicker-alpha\"><i></i></div><div class=\"colorpicker-color\"><div /></div><div class=\"colorpicker-selectors\"></div></div>',align:\"right\",customClass:null,colorSelectors:null},d=function(d,e){if(this.element=a(d).addClass(\"colorpicker-element\"),this.options=a.extend(!0,{},c,this.element.data(),e),this.component=this.options.component,this.component=this.component!==!1?this.element.find(this.component):!1,this.component&&0===this.component.length&&(this.component=!1),this.container=this.options.container===!0?this.element:this.options.container,this.container=this.container!==!1?a(this.container):!1,this.input=this.element.is(\"input\")?this.element:this.options.input?this.element.find(this.options.input):!1,this.input&&0===this.input.length&&(this.input=!1),this.color=new b(this.options.color!==!1?this.options.color:this.getValue(),this.options.colorSelectors),this.format=this.options.format!==!1?this.options.format:this.color.origFormat,this.options.color!==!1&&(this.updateInput(this.color),this.updateData(this.color)),this.picker=a(this.options.template),this.options.customClass&&this.picker.addClass(this.options.customClass),this.options.inline?this.picker.addClass(\"colorpicker-inline colorpicker-visible\"):this.picker.addClass(\"colorpicker-hidden\"),this.options.horizontal&&this.picker.addClass(\"colorpicker-horizontal\"),(\"rgba\"===this.format||\"hsla\"===this.format||this.options.format===!1)&&this.picker.addClass(\"colorpicker-with-alpha\"),\"right\"===this.options.align&&this.picker.addClass(\"colorpicker-right\"),this.options.inline===!0&&this.picker.addClass(\"colorpicker-no-arrow\"),this.options.colorSelectors){var f=this;a.each(this.options.colorSelectors,function(b,c){var d=a(\"<i />\").css(\"background-color\",c).data(\"class\",b);d.click(function(){f.setValue(a(this).css(\"background-color\"))}),f.picker.find(\".colorpicker-selectors\").append(d)}),this.picker.find(\".colorpicker-selectors\").show()}this.picker.on(\"mousedown.colorpicker touchstart.colorpicker\",a.proxy(this.mousedown,this)),this.picker.appendTo(this.container?this.container:a(\"body\")),this.input!==!1&&(this.input.on({\"keyup.colorpicker\":a.proxy(this.keyup,this)}),this.input.on({\"change.colorpicker\":a.proxy(this.change,this)}),this.component===!1&&this.element.on({\"focus.colorpicker\":a.proxy(this.show,this)}),this.options.inline===!1&&this.element.on({\"focusout.colorpicker\":a.proxy(this.hide,this)})),this.component!==!1&&this.component.on({\"click.colorpicker\":a.proxy(this.show,this)}),this.input===!1&&this.component===!1&&this.element.on({\"click.colorpicker\":a.proxy(this.show,this)}),this.input!==!1&&this.component!==!1&&\"color\"===this.input.attr(\"type\")&&this.input.on({\"click.colorpicker\":a.proxy(this.show,this),\"focus.colorpicker\":a.proxy(this.show,this)}),this.update(),a(a.proxy(function(){this.element.trigger(\"create\")},this))};d.Color=b,d.prototype={constructor:d,destroy:function(){this.picker.remove(),this.element.removeData(\"colorpicker\").off(\".colorpicker\"),this.input!==!1&&this.input.off(\".colorpicker\"),this.component!==!1&&this.component.off(\".colorpicker\"),this.element.removeClass(\"colorpicker-element\"),this.element.trigger({type:\"destroy\"})},reposition:function(){if(this.options.inline!==!1||this.options.container)return!1;var a=this.container&&this.container[0]!==document.body?\"position\":\"offset\",b=this.component||this.element,c=b[a]();\"right\"===this.options.align&&(c.left-=this.picker.outerWidth()-b.outerWidth()),this.picker.css({top:c.top+b.outerHeight(),left:c.left})},show:function(b){return this.isDisabled()?!1:(this.picker.addClass(\"colorpicker-visible\").removeClass(\"colorpicker-hidden\"),this.reposition(),a(window).on(\"resize.colorpicker\",a.proxy(this.reposition,this)),!b||this.hasInput()&&\"color\"!==this.input.attr(\"type\")||b.stopPropagation&&b.preventDefault&&(b.stopPropagation(),b.preventDefault()),this.options.inline===!1&&a(window.document).on({\"mousedown.colorpicker\":a.proxy(this.hide,this)}),void this.element.trigger({type:\"showPicker\",color:this.color}))},hide:function(){this.picker.addClass(\"colorpicker-hidden\").removeClass(\"colorpicker-visible\"),a(window).off(\"resize.colorpicker\",this.reposition),a(document).off({\"mousedown.colorpicker\":this.hide}),this.update(),this.element.trigger({type:\"hidePicker\",color:this.color})},updateData:function(a){return a=a||this.color.toString(this.format),this.element.data(\"color\",a),a},updateInput:function(a){if(a=a||this.color.toString(this.format),this.input!==!1){if(this.options.colorSelectors){var c=new b(a,this.options.colorSelectors),d=c.toAlias();\"undefined\"!=typeof this.options.colorSelectors[d]&&(a=d)}this.input.prop(\"value\",a)}return a},updatePicker:function(a){void 0!==a&&(this.color=new b(a,this.options.colorSelectors));var c=this.options.horizontal===!1?this.options.sliders:this.options.slidersHorz,d=this.picker.find(\"i\");return 0!==d.length?(this.options.horizontal===!1?(c=this.options.sliders,d.eq(1).css(\"top\",c.hue.maxTop*(1-this.color.value.h)).end().eq(2).css(\"top\",c.alpha.maxTop*(1-this.color.value.a))):(c=this.options.slidersHorz,d.eq(1).css(\"left\",c.hue.maxLeft*(1-this.color.value.h)).end().eq(2).css(\"left\",c.alpha.maxLeft*(1-this.color.value.a))),d.eq(0).css({top:c.saturation.maxTop-this.color.value.b*c.saturation.maxTop,left:this.color.value.s*c.saturation.maxLeft}),this.picker.find(\".colorpicker-saturation\").css(\"backgroundColor\",this.color.toHex(this.color.value.h,1,1,1)),this.picker.find(\".colorpicker-alpha\").css(\"backgroundColor\",this.color.toHex()),this.picker.find(\".colorpicker-color, .colorpicker-color div\").css(\"backgroundColor\",this.color.toString(this.format)),a):void 0},updateComponent:function(a){if(a=a||this.color.toString(this.format),this.component!==!1){var b=this.component.find(\"i\").eq(0);b.length>0?b.css({backgroundColor:a}):this.component.css({backgroundColor:a})}return a},update:function(a){var b;return(this.getValue(!1)!==!1||a===!0)&&(b=this.updateComponent(),this.updateInput(b),this.updateData(b),this.updatePicker()),b},setValue:function(a){this.color=new b(a,this.options.colorSelectors),this.update(!0),this.element.trigger({type:\"changeColor\",color:this.color,value:a})},getValue:function(a){a=void 0===a?\"#000000\":a;var b;return b=this.hasInput()?this.input.val():this.element.data(\"color\"),(void 0===b||\"\"===b||null===b)&&(b=a),b},hasInput:function(){return this.input!==!1},isDisabled:function(){return this.hasInput()?this.input.prop(\"disabled\")===!0:!1},disable:function(){return this.hasInput()?(this.input.prop(\"disabled\",!0),this.element.trigger({type:\"disable\",color:this.color,value:this.getValue()}),!0):!1},enable:function(){return this.hasInput()?(this.input.prop(\"disabled\",!1),this.element.trigger({type:\"enable\",color:this.color,value:this.getValue()}),!0):!1},currentSlider:null,mousePointer:{left:0,top:0},mousedown:function(b){b.pageX||b.pageY||!b.originalEvent||(b.pageX=b.originalEvent.touches[0].pageX,b.pageY=b.originalEvent.touches[0].pageY),b.stopPropagation(),b.preventDefault();var c=a(b.target),d=c.closest(\"div\"),e=this.options.horizontal?this.options.slidersHorz:this.options.sliders;if(!d.is(\".colorpicker\")){if(d.is(\".colorpicker-saturation\"))this.currentSlider=a.extend({},e.saturation);else if(d.is(\".colorpicker-hue\"))this.currentSlider=a.extend({},e.hue);else{if(!d.is(\".colorpicker-alpha\"))return!1;this.currentSlider=a.extend({},e.alpha)}var f=d.offset();this.currentSlider.guide=d.find(\"i\")[0].style,this.currentSlider.left=b.pageX-f.left,this.currentSlider.top=b.pageY-f.top,this.mousePointer={left:b.pageX,top:b.pageY},a(document).on({\"mousemove.colorpicker\":a.proxy(this.mousemove,this),\"touchmove.colorpicker\":a.proxy(this.mousemove,this),\"mouseup.colorpicker\":a.proxy(this.mouseup,this),\"touchend.colorpicker\":a.proxy(this.mouseup,this)}).trigger(\"mousemove\")}return!1},mousemove:function(a){a.pageX||a.pageY||!a.originalEvent||(a.pageX=a.originalEvent.touches[0].pageX,a.pageY=a.originalEvent.touches[0].pageY),a.stopPropagation(),a.preventDefault();var b=Math.max(0,Math.min(this.currentSlider.maxLeft,this.currentSlider.left+((a.pageX||this.mousePointer.left)-this.mousePointer.left))),c=Math.max(0,Math.min(this.currentSlider.maxTop,this.currentSlider.top+((a.pageY||this.mousePointer.top)-this.mousePointer.top)));return this.currentSlider.guide.left=b+\"px\",this.currentSlider.guide.top=c+\"px\",this.currentSlider.callLeft&&this.color[this.currentSlider.callLeft].call(this.color,b/this.currentSlider.maxLeft),this.currentSlider.callTop&&this.color[this.currentSlider.callTop].call(this.color,c/this.currentSlider.maxTop),\"setAlpha\"===this.currentSlider.callTop&&this.options.format===!1&&(1!==this.color.value.a?(this.format=\"rgba\",this.color.origFormat=\"rgba\"):(this.format=\"hex\",this.color.origFormat=\"hex\")),this.update(!0),this.element.trigger({type:\"changeColor\",color:this.color}),!1},mouseup:function(b){return b.stopPropagation(),b.preventDefault(),a(document).off({\"mousemove.colorpicker\":this.mousemove,\"touchmove.colorpicker\":this.mousemove,\"mouseup.colorpicker\":this.mouseup,\"touchend.colorpicker\":this.mouseup}),!1},change:function(a){this.keyup(a)},keyup:function(a){38===a.keyCode?(this.color.value.a<1&&(this.color.value.a=Math.round(100*(this.color.value.a+.01))/100),this.update(!0)):40===a.keyCode?(this.color.value.a>0&&(this.color.value.a=Math.round(100*(this.color.value.a-.01))/100),this.update(!0)):(this.color=new b(this.input.val(),this.options.colorSelectors),this.color.origFormat&&this.options.format===!1&&(this.format=this.color.origFormat),this.getValue(!1)!==!1&&(this.updateData(),this.updateComponent(),this.updatePicker())),this.element.trigger({type:\"changeColor\",color:this.color,value:this.input.val()})}},a.colorpicker=d,a.fn.colorpicker=function(b){var c,e=arguments,f=this.each(function(){var f=a(this),g=f.data(\"colorpicker\"),h=\"object\"==typeof b?b:{};g||\"string\"==typeof b?\"string\"==typeof b&&(c=g[b].apply(g,Array.prototype.slice.call(e,1))):f.data(\"colorpicker\",new d(this,h))});return\"getValue\"===b?c:f},a.fn.colorpicker.constructor=d});","/*! ========================================================================\n * Bootstrap Toggle: bootstrap-toggle.js v2.2.0\n * http://www.bootstraptoggle.com\n * ========================================================================\n * Copyright 2014 Min Hur, The New York Times Company\n * Licensed under MIT\n * ======================================================================== */\n+function(a){\"use strict\";function b(b){return this.each(function(){var d=a(this),e=d.data(\"bs.toggle\"),f=\"object\"==typeof b&&b;e||d.data(\"bs.toggle\",e=new c(this,f)),\"string\"==typeof b&&e[b]&&e[b]()})}var c=function(b,c){this.$element=a(b),this.options=a.extend({},this.defaults(),c),this.render()};c.VERSION=\"2.2.0\",c.DEFAULTS={on:\"On\",off:\"Off\",onstyle:\"primary\",offstyle:\"default\",size:\"normal\",style:\"\",width:null,height:null},c.prototype.defaults=function(){return{on:this.$element.attr(\"data-on\")||c.DEFAULTS.on,off:this.$element.attr(\"data-off\")||c.DEFAULTS.off,onstyle:this.$element.attr(\"data-onstyle\")||c.DEFAULTS.onstyle,offstyle:this.$element.attr(\"data-offstyle\")||c.DEFAULTS.offstyle,size:this.$element.attr(\"data-size\")||c.DEFAULTS.size,style:this.$element.attr(\"data-style\")||c.DEFAULTS.style,width:this.$element.attr(\"data-width\")||c.DEFAULTS.width,height:this.$element.attr(\"data-height\")||c.DEFAULTS.height}},c.prototype.render=function(){this._onstyle=\"btn-\"+this.options.onstyle,this._offstyle=\"btn-\"+this.options.offstyle;var b=\"large\"===this.options.size?\"btn-lg\":\"small\"===this.options.size?\"btn-sm\":\"mini\"===this.options.size?\"btn-xs\":\"\",c=a('<label class=\"btn\">').html(this.options.on).addClass(this._onstyle+\" \"+b),d=a('<label class=\"btn\">').html(this.options.off).addClass(this._offstyle+\" \"+b+\" active\"),e=a('<span class=\"toggle-handle btn btn-default\">').addClass(b),f=a('<div class=\"toggle-group\">').append(c,d,e),g=a('<div class=\"toggle btn\" data-toggle=\"toggle\">').addClass(this.$element.prop(\"checked\")?this._onstyle:this._offstyle+\" off\").addClass(b).addClass(this.options.style);this.$element.wrap(g),a.extend(this,{$toggle:this.$element.parent(),$toggleOn:c,$toggleOff:d,$toggleGroup:f}),this.$toggle.append(f);var h=this.options.width||Math.max(c.outerWidth(),d.outerWidth())+e.outerWidth()/2,i=this.options.height||Math.max(c.outerHeight(),d.outerHeight());c.addClass(\"toggle-on\"),d.addClass(\"toggle-off\"),this.$toggle.css({width:h,height:i}),this.options.height&&(c.css(\"line-height\",c.height()+\"px\"),d.css(\"line-height\",d.height()+\"px\")),this.update(!0),this.trigger(!0)},c.prototype.toggle=function(){this.$element.prop(\"checked\")?this.off():this.on()},c.prototype.on=function(a){return this.$element.prop(\"disabled\")?!1:(this.$toggle.removeClass(this._offstyle+\" off\").addClass(this._onstyle),this.$element.prop(\"checked\",!0),void(a||this.trigger()))},c.prototype.off=function(a){return this.$element.prop(\"disabled\")?!1:(this.$toggle.removeClass(this._onstyle).addClass(this._offstyle+\" off\"),this.$element.prop(\"checked\",!1),void(a||this.trigger()))},c.prototype.enable=function(){this.$toggle.removeAttr(\"disabled\"),this.$element.prop(\"disabled\",!1)},c.prototype.disable=function(){this.$toggle.attr(\"disabled\",\"disabled\"),this.$element.prop(\"disabled\",!0)},c.prototype.update=function(a){this.$element.prop(\"disabled\")?this.disable():this.enable(),this.$element.prop(\"checked\")?this.on(a):this.off(a)},c.prototype.trigger=function(b){this.$element.off(\"change.bs.toggle\"),b||this.$element.change(),this.$element.on(\"change.bs.toggle\",a.proxy(function(){this.update()},this))},c.prototype.destroy=function(){this.$element.off(\"change.bs.toggle\"),this.$toggleGroup.remove(),this.$element.removeData(\"bs.toggle\"),this.$element.unwrap()};var d=a.fn.bootstrapToggle;a.fn.bootstrapToggle=b,a.fn.bootstrapToggle.Constructor=c,a.fn.toggle.noConflict=function(){return a.fn.bootstrapToggle=d,this},a(function(){a(\"input[type=checkbox][data-toggle^=toggle]\").bootstrapToggle()}),a(document).on(\"click.bs.toggle\",\"div[data-toggle^=toggle]\",function(b){var c=a(this).find(\"input[type=checkbox]\");c.bootstrapToggle(\"toggle\"),b.preventDefault()})}(jQuery);\n//# sourceMappingURL=bootstrap-toggle.min.js.map","/*!\n\nJSZip - A Javascript class for generating and reading zip files\n<http://stuartk.com/jszip>\n\n(c) 2009-2014 Stuart Knightley <stuart [at] stuartk.com>\nDual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/master/LICENSE.markdown.\n\nJSZip uses the library pako released under the MIT license :\nhttps://github.com/nodeca/pako/blob/master/LICENSE\n*/\n!function(a){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=a();else if(\"function\"==typeof define&&define.amd)define([],a);else{var b;\"undefined\"!=typeof window?b=window:\"undefined\"!=typeof global?b=global:\"undefined\"!=typeof self&&(b=self),b.JSZip=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i=\"function\"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error(\"Cannot find module '\"+g+\"'\")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f=\"function\"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){\"use strict\";var d=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";c.encode=function(a){for(var b,c,e,f,g,h,i,j=\"\",k=0;k<a.length;)b=a.charCodeAt(k++),c=a.charCodeAt(k++),e=a.charCodeAt(k++),f=b>>2,g=(3&b)<<4|c>>4,h=(15&c)<<2|e>>6,i=63&e,isNaN(c)?h=i=64:isNaN(e)&&(i=64),j=j+d.charAt(f)+d.charAt(g)+d.charAt(h)+d.charAt(i);return j},c.decode=function(a){var b,c,e,f,g,h,i,j=\"\",k=0;for(a=a.replace(/[^A-Za-z0-9\\+\\/\\=]/g,\"\");k<a.length;)f=d.indexOf(a.charAt(k++)),g=d.indexOf(a.charAt(k++)),h=d.indexOf(a.charAt(k++)),i=d.indexOf(a.charAt(k++)),b=f<<2|g>>4,c=(15&g)<<4|h>>2,e=(3&h)<<6|i,j+=String.fromCharCode(b),64!=h&&(j+=String.fromCharCode(c)),64!=i&&(j+=String.fromCharCode(e));return j}},{}],2:[function(a,b){\"use strict\";function c(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}c.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},b.exports=c},{}],3:[function(a,b,c){\"use strict\";c.STORE={magic:\"\\x00\\x00\",compress:function(a){return a},uncompress:function(a){return a},compressInputType:null,uncompressInputType:null},c.DEFLATE=a(\"./flate\")},{\"./flate\":8}],4:[function(a,b){\"use strict\";var c=a(\"./utils\"),d=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];b.exports=function(a,b){if(\"undefined\"==typeof a||!a.length)return 0;var e=\"string\"!==c.getTypeOf(a);\"undefined\"==typeof b&&(b=0);var f=0,g=0,h=0;b=-1^b;for(var i=0,j=a.length;j>i;i++)h=e?a[i]:a.charCodeAt(i),g=255&(b^h),f=d[g],b=b>>>8^f;return-1^b}},{\"./utils\":21}],5:[function(a,b){\"use strict\";function c(){this.data=null,this.length=0,this.index=0}var d=a(\"./utils\");c.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<a||0>a)throw new Error(\"End of data reached (data length = \"+this.length+\", asked index = \"+a+\"). Corrupted zip ?\")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var b,c=0;for(this.checkOffset(a),b=this.index+a-1;b>=this.index;b--)c=(c<<8)+this.byteAt(b);return this.index+=a,c},readString:function(a){return d.transformTo(\"string\",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date((a>>25&127)+1980,(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1)}},b.exports=c},{\"./utils\":21}],6:[function(a,b,c){\"use strict\";c.base64=!1,c.binary=!1,c.dir=!1,c.createFolders=!1,c.date=null,c.compression=null,c.compressionOptions=null,c.comment=null,c.unixPermissions=null,c.dosPermissions=null},{}],7:[function(a,b,c){\"use strict\";var d=a(\"./utils\");c.string2binary=function(a){return d.string2binary(a)},c.string2Uint8Array=function(a){return d.transformTo(\"uint8array\",a)},c.uint8Array2String=function(a){return d.transformTo(\"string\",a)},c.string2Blob=function(a){var b=d.transformTo(\"arraybuffer\",a);return d.arrayBuffer2Blob(b)},c.arrayBuffer2Blob=function(a){return d.arrayBuffer2Blob(a)},c.transformTo=function(a,b){return d.transformTo(a,b)},c.getTypeOf=function(a){return d.getTypeOf(a)},c.checkSupport=function(a){return d.checkSupport(a)},c.MAX_VALUE_16BITS=d.MAX_VALUE_16BITS,c.MAX_VALUE_32BITS=d.MAX_VALUE_32BITS,c.pretty=function(a){return d.pretty(a)},c.findCompression=function(a){return d.findCompression(a)},c.isRegExp=function(a){return d.isRegExp(a)}},{\"./utils\":21}],8:[function(a,b,c){\"use strict\";var d=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Uint32Array,e=a(\"pako\");c.uncompressInputType=d?\"uint8array\":\"array\",c.compressInputType=d?\"uint8array\":\"array\",c.magic=\"\\b\\x00\",c.compress=function(a,b){return e.deflateRaw(a,{level:b.level||-1})},c.uncompress=function(a){return e.inflateRaw(a)}},{pako:24}],9:[function(a,b){\"use strict\";function c(a,b){return this instanceof c?(this.files={},this.comment=null,this.root=\"\",a&&this.load(a,b),void(this.clone=function(){var a=new c;for(var b in this)\"function\"!=typeof this[b]&&(a[b]=this[b]);return a})):new c(a,b)}var d=a(\"./base64\");c.prototype=a(\"./object\"),c.prototype.load=a(\"./load\"),c.support=a(\"./support\"),c.defaults=a(\"./defaults\"),c.utils=a(\"./deprecatedPublicUtils\"),c.base64={encode:function(a){return d.encode(a)},decode:function(a){return d.decode(a)}},c.compressions=a(\"./compressions\"),b.exports=c},{\"./base64\":1,\"./compressions\":3,\"./defaults\":6,\"./deprecatedPublicUtils\":7,\"./load\":10,\"./object\":13,\"./support\":17}],10:[function(a,b){\"use strict\";var c=a(\"./base64\"),d=a(\"./zipEntries\");b.exports=function(a,b){var e,f,g,h;for(b=b||{},b.base64&&(a=c.decode(a)),f=new d(a,b),e=f.files,g=0;g<e.length;g++)h=e[g],this.file(h.fileName,h.decompressed,{binary:!0,optimizedBinaryString:!0,date:h.date,dir:h.dir,comment:h.fileComment.length?h.fileComment:null,unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions,createFolders:b.createFolders});return f.zipComment.length&&(this.comment=f.zipComment),this}},{\"./base64\":1,\"./zipEntries\":22}],11:[function(a,b){(function(a){\"use strict\";b.exports=function(b,c){return new a(b,c)},b.exports.test=function(b){return a.isBuffer(b)}}).call(this,\"undefined\"!=typeof Buffer?Buffer:void 0)},{}],12:[function(a,b){\"use strict\";function c(a){this.data=a,this.length=this.data.length,this.index=0}var d=a(\"./uint8ArrayReader\");c.prototype=new d,c.prototype.readData=function(a){this.checkOffset(a);var b=this.data.slice(this.index,this.index+a);return this.index+=a,b},b.exports=c},{\"./uint8ArrayReader\":18}],13:[function(a,b){\"use strict\";var c=a(\"./support\"),d=a(\"./utils\"),e=a(\"./crc32\"),f=a(\"./signature\"),g=a(\"./defaults\"),h=a(\"./base64\"),i=a(\"./compressions\"),j=a(\"./compressedObject\"),k=a(\"./nodeBuffer\"),l=a(\"./utf8\"),m=a(\"./stringWriter\"),n=a(\"./uint8ArrayWriter\"),o=function(a){if(a._data instanceof j&&(a._data=a._data.getContent(),a.options.binary=!0,a.options.base64=!1,\"uint8array\"===d.getTypeOf(a._data))){var b=a._data;a._data=new Uint8Array(b.length),0!==b.length&&a._data.set(b,0)}return a._data},p=function(a){var b=o(a),e=d.getTypeOf(b);return\"string\"===e?!a.options.binary&&c.nodebuffer?k(b,\"utf-8\"):a.asBinary():b},q=function(a){var b=o(this);return null===b||\"undefined\"==typeof b?\"\":(this.options.base64&&(b=h.decode(b)),b=a&&this.options.binary?D.utf8decode(b):d.transformTo(\"string\",b),a||this.options.binary||(b=d.transformTo(\"string\",D.utf8encode(b))),b)},r=function(a,b,c){this.name=a,this.dir=c.dir,this.date=c.date,this.comment=c.comment,this.unixPermissions=c.unixPermissions,this.dosPermissions=c.dosPermissions,this._data=b,this.options=c,this._initialMetadata={dir:c.dir,date:c.date}};r.prototype={asText:function(){return q.call(this,!0)},asBinary:function(){return q.call(this,!1)},asNodeBuffer:function(){var a=p(this);return d.transformTo(\"nodebuffer\",a)},asUint8Array:function(){var a=p(this);return d.transformTo(\"uint8array\",a)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var s=function(a,b){var c,d=\"\";for(c=0;b>c;c++)d+=String.fromCharCode(255&a),a>>>=8;return d},t=function(){var a,b,c={};for(a=0;a<arguments.length;a++)for(b in arguments[a])arguments[a].hasOwnProperty(b)&&\"undefined\"==typeof c[b]&&(c[b]=arguments[a][b]);return c},u=function(a){return a=a||{},a.base64!==!0||null!==a.binary&&void 0!==a.binary||(a.binary=!0),a=t(a,g),a.date=a.date||new Date,null!==a.compression&&(a.compression=a.compression.toUpperCase()),a},v=function(a,b,c){var e,f=d.getTypeOf(b);if(c=u(c),\"string\"==typeof c.unixPermissions&&(c.unixPermissions=parseInt(c.unixPermissions,8)),c.unixPermissions&&16384&c.unixPermissions&&(c.dir=!0),c.dosPermissions&&16&c.dosPermissions&&(c.dir=!0),c.dir&&(a=x(a)),c.createFolders&&(e=w(a))&&y.call(this,e,!0),c.dir||null===b||\"undefined\"==typeof b)c.base64=!1,c.binary=!1,b=null,f=null;else if(\"string\"===f)c.binary&&!c.base64&&c.optimizedBinaryString!==!0&&(b=d.string2binary(b));else{if(c.base64=!1,c.binary=!0,!(f||b instanceof j))throw new Error(\"The data of '\"+a+\"' is in an unsupported format !\");\"arraybuffer\"===f&&(b=d.transformTo(\"uint8array\",b))}var g=new r(a,b,c);return this.files[a]=g,g},w=function(a){\"/\"==a.slice(-1)&&(a=a.substring(0,a.length-1));var b=a.lastIndexOf(\"/\");return b>0?a.substring(0,b):\"\"},x=function(a){return\"/\"!=a.slice(-1)&&(a+=\"/\"),a},y=function(a,b){return b=\"undefined\"!=typeof b?b:!1,a=x(a),this.files[a]||v.call(this,a,null,{dir:!0,createFolders:b}),this.files[a]},z=function(a,b,c){var f,g=new j;return a._data instanceof j?(g.uncompressedSize=a._data.uncompressedSize,g.crc32=a._data.crc32,0===g.uncompressedSize||a.dir?(b=i.STORE,g.compressedContent=\"\",g.crc32=0):a._data.compressionMethod===b.magic?g.compressedContent=a._data.getCompressedContent():(f=a._data.getContent(),g.compressedContent=b.compress(d.transformTo(b.compressInputType,f),c))):(f=p(a),(!f||0===f.length||a.dir)&&(b=i.STORE,f=\"\"),g.uncompressedSize=f.length,g.crc32=e(f),g.compressedContent=b.compress(d.transformTo(b.compressInputType,f),c)),g.compressedSize=g.compressedContent.length,g.compressionMethod=b.magic,g},A=function(a,b){var c=a;return a||(c=b?16893:33204),(65535&c)<<16},B=function(a){return 63&(a||0)},C=function(a,b,c,g,h){var i,j,k,m,n=(c.compressedContent,d.transformTo(\"string\",l.utf8encode(b.name))),o=b.comment||\"\",p=d.transformTo(\"string\",l.utf8encode(o)),q=n.length!==b.name.length,r=p.length!==o.length,t=b.options,u=\"\",v=\"\",w=\"\";k=b._initialMetadata.dir!==b.dir?b.dir:t.dir,m=b._initialMetadata.date!==b.date?b.date:t.date;var x=0,y=0;k&&(x|=16),\"UNIX\"===h?(y=798,x|=A(b.unixPermissions,k)):(y=20,x|=B(b.dosPermissions,k)),i=m.getHours(),i<<=6,i|=m.getMinutes(),i<<=5,i|=m.getSeconds()/2,j=m.getFullYear()-1980,j<<=4,j|=m.getMonth()+1,j<<=5,j|=m.getDate(),q&&(v=s(1,1)+s(e(n),4)+n,u+=\"up\"+s(v.length,2)+v),r&&(w=s(1,1)+s(this.crc32(p),4)+p,u+=\"uc\"+s(w.length,2)+w);var z=\"\";z+=\"\\n\\x00\",z+=q||r?\"\\x00\\b\":\"\\x00\\x00\",z+=c.compressionMethod,z+=s(i,2),z+=s(j,2),z+=s(c.crc32,4),z+=s(c.compressedSize,4),z+=s(c.uncompressedSize,4),z+=s(n.length,2),z+=s(u.length,2);var C=f.LOCAL_FILE_HEADER+z+n+u,D=f.CENTRAL_FILE_HEADER+s(y,2)+z+s(p.length,2)+\"\\x00\\x00\\x00\\x00\"+s(x,4)+s(g,4)+n+u+p;return{fileRecord:C,dirRecord:D,compressedObject:c}},D={load:function(){throw new Error(\"Load method is not defined. Is the file jszip-load.js included ?\")},filter:function(a){var b,c,d,e,f=[];for(b in this.files)this.files.hasOwnProperty(b)&&(d=this.files[b],e=new r(d.name,d._data,t(d.options)),c=b.slice(this.root.length,b.length),b.slice(0,this.root.length)===this.root&&a(c,e)&&f.push(e));return f},file:function(a,b,c){if(1===arguments.length){if(d.isRegExp(a)){var e=a;return this.filter(function(a,b){return!b.dir&&e.test(a)})}return this.filter(function(b,c){return!c.dir&&b===a})[0]||null}return a=this.root+a,v.call(this,a,b,c),this},folder:function(a){if(!a)return this;if(d.isRegExp(a))return this.filter(function(b,c){return c.dir&&a.test(b)});var b=this.root+a,c=y.call(this,b),e=this.clone();return e.root=c.name,e},remove:function(a){a=this.root+a;var b=this.files[a];if(b||(\"/\"!=a.slice(-1)&&(a+=\"/\"),b=this.files[a]),b&&!b.dir)delete this.files[a];else for(var c=this.filter(function(b,c){return c.name.slice(0,a.length)===a}),d=0;d<c.length;d++)delete this.files[c[d].name];return this},generate:function(a){a=t(a||{},{base64:!0,compression:\"STORE\",compressionOptions:null,type:\"base64\",platform:\"DOS\",comment:null,mimeType:\"application/zip\"}),d.checkSupport(a.type),(\"darwin\"===a.platform||\"freebsd\"===a.platform||\"linux\"===a.platform||\"sunos\"===a.platform)&&(a.platform=\"UNIX\"),\"win32\"===a.platform&&(a.platform=\"DOS\");var b,c,e=[],g=0,j=0,k=d.transformTo(\"string\",this.utf8encode(a.comment||this.comment||\"\"));for(var l in this.files)if(this.files.hasOwnProperty(l)){var o=this.files[l],p=o.options.compression||a.compression.toUpperCase(),q=i[p];if(!q)throw new Error(p+\" is not a valid compression method !\");var r=o.options.compressionOptions||a.compressionOptions||{},u=z.call(this,o,q,r),v=C.call(this,l,o,u,g,a.platform);g+=v.fileRecord.length+u.compressedSize,j+=v.dirRecord.length,e.push(v)}var w=\"\";w=f.CENTRAL_DIRECTORY_END+\"\\x00\\x00\\x00\\x00\"+s(e.length,2)+s(e.length,2)+s(j,4)+s(g,4)+s(k.length,2)+k;var x=a.type.toLowerCase();for(b=\"uint8array\"===x||\"arraybuffer\"===x||\"blob\"===x||\"nodebuffer\"===x?new n(g+j+w.length):new m(g+j+w.length),c=0;c<e.length;c++)b.append(e[c].fileRecord),b.append(e[c].compressedObject.compressedContent);for(c=0;c<e.length;c++)b.append(e[c].dirRecord);b.append(w);var y=b.finalize();switch(a.type.toLowerCase()){case\"uint8array\":case\"arraybuffer\":case\"nodebuffer\":return d.transformTo(a.type.toLowerCase(),y);case\"blob\":return d.arrayBuffer2Blob(d.transformTo(\"arraybuffer\",y),a.mimeType);case\"base64\":return a.base64?h.encode(y):y;default:return y}},crc32:function(a,b){return e(a,b)},utf8encode:function(a){return d.transformTo(\"string\",l.utf8encode(a))},utf8decode:function(a){return l.utf8decode(a)}};b.exports=D},{\"./base64\":1,\"./compressedObject\":2,\"./compressions\":3,\"./crc32\":4,\"./defaults\":6,\"./nodeBuffer\":11,\"./signature\":14,\"./stringWriter\":16,\"./support\":17,\"./uint8ArrayWriter\":19,\"./utf8\":20,\"./utils\":21}],14:[function(a,b,c){\"use strict\";c.LOCAL_FILE_HEADER=\"PK\u0003\u0004\",c.CENTRAL_FILE_HEADER=\"PK\u0001\u0002\",c.CENTRAL_DIRECTORY_END=\"PK\u0005\u0006\",c.ZIP64_CENTRAL_DIRECTORY_LOCATOR=\"PK\u0006\u0007\",c.ZIP64_CENTRAL_DIRECTORY_END=\"PK\u0006\u0006\",c.DATA_DESCRIPTOR=\"PK\u0007\\b\"},{}],15:[function(a,b){\"use strict\";function c(a,b){this.data=a,b||(this.data=e.string2binary(this.data)),this.length=this.data.length,this.index=0}var d=a(\"./dataReader\"),e=a(\"./utils\");c.prototype=new d,c.prototype.byteAt=function(a){return this.data.charCodeAt(a)},c.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)},c.prototype.readData=function(a){this.checkOffset(a);var b=this.data.slice(this.index,this.index+a);return this.index+=a,b},b.exports=c},{\"./dataReader\":5,\"./utils\":21}],16:[function(a,b){\"use strict\";var c=a(\"./utils\"),d=function(){this.data=[]};d.prototype={append:function(a){a=c.transformTo(\"string\",a),this.data.push(a)},finalize:function(){return this.data.join(\"\")}},b.exports=d},{\"./utils\":21}],17:[function(a,b,c){(function(a){\"use strict\";if(c.base64=!0,c.array=!0,c.string=!0,c.arraybuffer=\"undefined\"!=typeof ArrayBuffer&&\"undefined\"!=typeof Uint8Array,c.nodebuffer=\"undefined\"!=typeof a,c.uint8array=\"undefined\"!=typeof Uint8Array,\"undefined\"==typeof ArrayBuffer)c.blob=!1;else{var b=new ArrayBuffer(0);try{c.blob=0===new Blob([b],{type:\"application/zip\"}).size}catch(d){try{var e=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,f=new e;f.append(b),c.blob=0===f.getBlob(\"application/zip\").size}catch(d){c.blob=!1}}}}).call(this,\"undefined\"!=typeof Buffer?Buffer:void 0)},{}],18:[function(a,b){\"use strict\";function c(a){a&&(this.data=a,this.length=this.data.length,this.index=0)}var d=a(\"./dataReader\");c.prototype=new d,c.prototype.byteAt=function(a){return this.data[a]},c.prototype.lastIndexOfSignature=function(a){for(var b=a.charCodeAt(0),c=a.charCodeAt(1),d=a.charCodeAt(2),e=a.charCodeAt(3),f=this.length-4;f>=0;--f)if(this.data[f]===b&&this.data[f+1]===c&&this.data[f+2]===d&&this.data[f+3]===e)return f;return-1},c.prototype.readData=function(a){if(this.checkOffset(a),0===a)return new Uint8Array(0);var b=this.data.subarray(this.index,this.index+a);return this.index+=a,b},b.exports=c},{\"./dataReader\":5}],19:[function(a,b){\"use strict\";var c=a(\"./utils\"),d=function(a){this.data=new Uint8Array(a),this.index=0};d.prototype={append:function(a){0!==a.length&&(a=c.transformTo(\"uint8array\",a),this.data.set(a,this.index),this.index+=a.length)},finalize:function(){return this.data}},b.exports=d},{\"./utils\":21}],20:[function(a,b,c){\"use strict\";for(var d=a(\"./utils\"),e=a(\"./support\"),f=a(\"./nodeBuffer\"),g=new Array(256),h=0;256>h;h++)g[h]=h>=252?6:h>=248?5:h>=240?4:h>=224?3:h>=192?2:1;g[254]=g[254]=1;var i=function(a){var b,c,d,f,g,h=a.length,i=0;for(f=0;h>f;f++)c=a.charCodeAt(f),55296===(64512&c)&&h>f+1&&(d=a.charCodeAt(f+1),56320===(64512&d)&&(c=65536+(c-55296<<10)+(d-56320),f++)),i+=128>c?1:2048>c?2:65536>c?3:4;for(b=e.uint8array?new Uint8Array(i):new Array(i),g=0,f=0;i>g;f++)c=a.charCodeAt(f),55296===(64512&c)&&h>f+1&&(d=a.charCodeAt(f+1),56320===(64512&d)&&(c=65536+(c-55296<<10)+(d-56320),f++)),128>c?b[g++]=c:2048>c?(b[g++]=192|c>>>6,b[g++]=128|63&c):65536>c?(b[g++]=224|c>>>12,b[g++]=128|c>>>6&63,b[g++]=128|63&c):(b[g++]=240|c>>>18,b[g++]=128|c>>>12&63,b[g++]=128|c>>>6&63,b[g++]=128|63&c);return b},j=function(a,b){var c;for(b=b||a.length,b>a.length&&(b=a.length),c=b-1;c>=0&&128===(192&a[c]);)c--;return 0>c?b:0===c?b:c+g[a[c]]>b?c:b},k=function(a){var b,c,e,f,h=a.length,i=new Array(2*h);for(c=0,b=0;h>b;)if(e=a[b++],128>e)i[c++]=e;else if(f=g[e],f>4)i[c++]=65533,b+=f-1;else{for(e&=2===f?31:3===f?15:7;f>1&&h>b;)e=e<<6|63&a[b++],f--;f>1?i[c++]=65533:65536>e?i[c++]=e:(e-=65536,i[c++]=55296|e>>10&1023,i[c++]=56320|1023&e)}return i.length!==c&&(i.subarray?i=i.subarray(0,c):i.length=c),d.applyFromCharCode(i)};c.utf8encode=function(a){return e.nodebuffer?f(a,\"utf-8\"):i(a)},c.utf8decode=function(a){if(e.nodebuffer)return d.transformTo(\"nodebuffer\",a).toString(\"utf-8\");a=d.transformTo(e.uint8array?\"uint8array\":\"array\",a);for(var b=[],c=0,f=a.length,g=65536;f>c;){var h=j(a,Math.min(c+g,f));b.push(e.uint8array?k(a.subarray(c,h)):k(a.slice(c,h))),c=h}return b.join(\"\")}},{\"./nodeBuffer\":11,\"./support\":17,\"./utils\":21}],21:[function(a,b,c){\"use strict\";function d(a){return a}function e(a,b){for(var c=0;c<a.length;++c)b[c]=255&a.charCodeAt(c);return b}function f(a){var b=65536,d=[],e=a.length,f=c.getTypeOf(a),g=0,h=!0;try{switch(f){case\"uint8array\":String.fromCharCode.apply(null,new Uint8Array(0));break;case\"nodebuffer\":String.fromCharCode.apply(null,j(0))}}catch(i){h=!1}if(!h){for(var k=\"\",l=0;l<a.length;l++)k+=String.fromCharCode(a[l]);return k}for(;e>g&&b>1;)try{d.push(\"array\"===f||\"nodebuffer\"===f?String.fromCharCode.apply(null,a.slice(g,Math.min(g+b,e))):String.fromCharCode.apply(null,a.subarray(g,Math.min(g+b,e)))),g+=b}catch(i){b=Math.floor(b/2)}return d.join(\"\")}function g(a,b){for(var c=0;c<a.length;c++)b[c]=a[c];return b}var h=a(\"./support\"),i=a(\"./compressions\"),j=a(\"./nodeBuffer\");c.string2binary=function(a){for(var b=\"\",c=0;c<a.length;c++)b+=String.fromCharCode(255&a.charCodeAt(c));return b},c.arrayBuffer2Blob=function(a,b){c.checkSupport(\"blob\"),b=b||\"application/zip\";try{return new Blob([a],{type:b})}catch(d){try{var e=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,f=new e;return f.append(a),f.getBlob(b)}catch(d){throw new Error(\"Bug : can't construct the Blob.\")}}},c.applyFromCharCode=f;var k={};k.string={string:d,array:function(a){return e(a,new Array(a.length))},arraybuffer:function(a){return k.string.uint8array(a).buffer},uint8array:function(a){return e(a,new Uint8Array(a.length))},nodebuffer:function(a){return e(a,j(a.length))}},k.array={string:f,array:d,arraybuffer:function(a){return new Uint8Array(a).buffer},uint8array:function(a){return new Uint8Array(a)},nodebuffer:function(a){return j(a)}},k.arraybuffer={string:function(a){return f(new Uint8Array(a))},array:function(a){return g(new Uint8Array(a),new Array(a.byteLength))},arraybuffer:d,uint8array:function(a){return new Uint8Array(a)},nodebuffer:function(a){return j(new Uint8Array(a))}},k.uint8array={string:f,array:function(a){return g(a,new Array(a.length))},arraybuffer:function(a){return a.buffer},uint8array:d,nodebuffer:function(a){return j(a)}},k.nodebuffer={string:f,array:function(a){return g(a,new Array(a.length))},arraybuffer:function(a){return k.nodebuffer.uint8array(a).buffer},uint8array:function(a){return g(a,new Uint8Array(a.length))},nodebuffer:d},c.transformTo=function(a,b){if(b||(b=\"\"),!a)return b;c.checkSupport(a);var d=c.getTypeOf(b),e=k[d][a](b);return e},c.getTypeOf=function(a){return\"string\"==typeof a?\"string\":\"[object Array]\"===Object.prototype.toString.call(a)?\"array\":h.nodebuffer&&j.test(a)?\"nodebuffer\":h.uint8array&&a instanceof Uint8Array?\"uint8array\":h.arraybuffer&&a instanceof ArrayBuffer?\"arraybuffer\":void 0},c.checkSupport=function(a){var b=h[a.toLowerCase()];if(!b)throw new Error(a+\" is not supported by this browser\")},c.MAX_VALUE_16BITS=65535,c.MAX_VALUE_32BITS=-1,c.pretty=function(a){var b,c,d=\"\";for(c=0;c<(a||\"\").length;c++)b=a.charCodeAt(c),d+=\"\\\\x\"+(16>b?\"0\":\"\")+b.toString(16).toUpperCase();return d},c.findCompression=function(a){for(var b in i)if(i.hasOwnProperty(b)&&i[b].magic===a)return i[b];return null},c.isRegExp=function(a){return\"[object RegExp]\"===Object.prototype.toString.call(a)}},{\"./compressions\":3,\"./nodeBuffer\":11,\"./support\":17}],22:[function(a,b){\"use strict\";function c(a,b){this.files=[],this.loadOptions=b,a&&this.load(a)}var d=a(\"./stringReader\"),e=a(\"./nodeBufferReader\"),f=a(\"./uint8ArrayReader\"),g=a(\"./utils\"),h=a(\"./signature\"),i=a(\"./zipEntry\"),j=a(\"./support\"),k=a(\"./object\");c.prototype={checkSignature:function(a){var b=this.reader.readString(4);if(b!==a)throw new Error(\"Corrupted zip or bug : unexpected signature (\"+g.pretty(b)+\", expected \"+g.pretty(a)+\")\")},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2),this.zipComment=this.reader.readString(this.zipCommentLength),this.zipComment=k.utf8decode(this.zipComment)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var a,b,c,d=this.zip64EndOfCentralSize-44,e=0;d>e;)a=this.reader.readInt(2),b=this.reader.readInt(4),c=this.reader.readString(b),this.zip64ExtensibleData[a]={id:a,length:b,value:c}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error(\"Multi-volumes zip are not supported\")},readLocalFiles:function(){var a,b;for(a=0;a<this.files.length;a++)b=this.files[a],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(h.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var a;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===h.CENTRAL_FILE_HEADER;)a=new i({zip64:this.zip64},this.loadOptions),a.readCentralPart(this.reader),this.files.push(a)},readEndOfCentral:function(){var a=this.reader.lastIndexOfSignature(h.CENTRAL_DIRECTORY_END);if(-1===a){var b=!0;try{this.reader.setIndex(0),this.checkSignature(h.LOCAL_FILE_HEADER),b=!1}catch(c){}throw new Error(b?\"Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html\":\"Corrupted zip : can't find end of central directory\")}if(this.reader.setIndex(a),this.checkSignature(h.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===g.MAX_VALUE_16BITS||this.diskWithCentralDirStart===g.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===g.MAX_VALUE_16BITS||this.centralDirRecords===g.MAX_VALUE_16BITS||this.centralDirSize===g.MAX_VALUE_32BITS||this.centralDirOffset===g.MAX_VALUE_32BITS){if(this.zip64=!0,a=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),-1===a)throw new Error(\"Corrupted zip : can't find the ZIP64 end of central directory locator\");this.reader.setIndex(a),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}},prepareReader:function(a){var b=g.getTypeOf(a);this.reader=\"string\"!==b||j.uint8array?\"nodebuffer\"===b?new e(a):new f(g.transformTo(\"uint8array\",a)):new d(a,this.loadOptions.optimizedBinaryString)},load:function(a){this.prepareReader(a),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},b.exports=c},{\"./nodeBufferReader\":12,\"./object\":13,\"./signature\":14,\"./stringReader\":15,\"./support\":17,\"./uint8ArrayReader\":18,\"./utils\":21,\"./zipEntry\":23}],23:[function(a,b){\"use strict\";function c(a,b){this.options=a,this.loadOptions=b}var d=a(\"./stringReader\"),e=a(\"./utils\"),f=a(\"./compressedObject\"),g=a(\"./object\"),h=0,i=3;c.prototype={isEncrypted:function(){return 1===(1&this.bitFlag)},useUTF8:function(){return 2048===(2048&this.bitFlag)},prepareCompressedContent:function(a,b,c){return function(){var d=a.index;a.setIndex(b);var e=a.readData(c);return a.setIndex(d),e}},prepareContent:function(a,b,c,d,f){return function(){var a=e.transformTo(d.uncompressInputType,this.getCompressedContent()),b=d.uncompress(a);if(b.length!==f)throw new Error(\"Bug : uncompressed data size mismatch\");return b}},readLocalPart:function(a){var b,c;if(a.skip(22),this.fileNameLength=a.readInt(2),c=a.readInt(2),this.fileName=a.readString(this.fileNameLength),a.skip(c),-1==this.compressedSize||-1==this.uncompressedSize)throw new Error(\"Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)\");if(b=e.findCompression(this.compressionMethod),null===b)throw new Error(\"Corrupted zip : compression \"+e.pretty(this.compressionMethod)+\" unknown (inner file : \"+this.fileName+\")\");if(this.decompressed=new f,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(a,a.index,this.compressedSize,b),this.decompressed.getContent=this.prepareContent(a,a.index,this.compressedSize,b,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=e.transformTo(\"string\",this.decompressed.getContent()),g.crc32(this.decompressed)!==this.crc32))throw new Error(\"Corrupted zip : CRC32 mismatch\")},readCentralPart:function(a){if(this.versionMadeBy=a.readInt(2),this.versionNeeded=a.readInt(2),this.bitFlag=a.readInt(2),this.compressionMethod=a.readString(2),this.date=a.readDate(),this.crc32=a.readInt(4),this.compressedSize=a.readInt(4),this.uncompressedSize=a.readInt(4),this.fileNameLength=a.readInt(2),this.extraFieldsLength=a.readInt(2),this.fileCommentLength=a.readInt(2),this.diskNumberStart=a.readInt(2),this.internalFileAttributes=a.readInt(2),this.externalFileAttributes=a.readInt(4),this.localHeaderOffset=a.readInt(4),this.isEncrypted())throw new Error(\"Encrypted zip are not supported\");this.fileName=a.readString(this.fileNameLength),this.readExtraFields(a),this.parseZIP64ExtraField(a),this.fileComment=a.readString(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var a=this.versionMadeBy>>8;this.dir=16&this.externalFileAttributes?!0:!1,a===h&&(this.dosPermissions=63&this.externalFileAttributes),a===i&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||\"/\"!==this.fileName.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var a=new d(this.extraFields[1].value);this.uncompressedSize===e.MAX_VALUE_32BITS&&(this.uncompressedSize=a.readInt(8)),this.compressedSize===e.MAX_VALUE_32BITS&&(this.compressedSize=a.readInt(8)),this.localHeaderOffset===e.MAX_VALUE_32BITS&&(this.localHeaderOffset=a.readInt(8)),this.diskNumberStart===e.MAX_VALUE_32BITS&&(this.diskNumberStart=a.readInt(4))}},readExtraFields:function(a){var b,c,d,e=a.index;for(this.extraFields=this.extraFields||{};a.index<e+this.extraFieldsLength;)b=a.readInt(2),c=a.readInt(2),d=a.readString(c),this.extraFields[b]={id:b,length:c,value:d}},handleUTF8:function(){if(this.useUTF8())this.fileName=g.utf8decode(this.fileName),this.fileComment=g.utf8decode(this.fileComment);else{var a=this.findExtraFieldUnicodePath();null!==a&&(this.fileName=a);var b=this.findExtraFieldUnicodeComment();null!==b&&(this.fileComment=b)}},findExtraFieldUnicodePath:function(){var a=this.extraFields[28789];if(a){var b=new d(a.value);return 1!==b.readInt(1)?null:g.crc32(this.fileName)!==b.readInt(4)?null:g.utf8decode(b.readString(a.length-5))\n}return null},findExtraFieldUnicodeComment:function(){var a=this.extraFields[25461];if(a){var b=new d(a.value);return 1!==b.readInt(1)?null:g.crc32(this.fileComment)!==b.readInt(4)?null:g.utf8decode(b.readString(a.length-5))}return null}},b.exports=c},{\"./compressedObject\":2,\"./object\":13,\"./stringReader\":15,\"./utils\":21}],24:[function(a,b){\"use strict\";var c=a(\"./lib/utils/common\").assign,d=a(\"./lib/deflate\"),e=a(\"./lib/inflate\"),f=a(\"./lib/zlib/constants\"),g={};c(g,d,e,f),b.exports=g},{\"./lib/deflate\":25,\"./lib/inflate\":26,\"./lib/utils/common\":27,\"./lib/zlib/constants\":30}],25:[function(a,b,c){\"use strict\";function d(a,b){var c=new s(b);if(c.push(a,!0),c.err)throw c.msg;return c.result}function e(a,b){return b=b||{},b.raw=!0,d(a,b)}function f(a,b){return b=b||{},b.gzip=!0,d(a,b)}var g=a(\"./zlib/deflate.js\"),h=a(\"./utils/common\"),i=a(\"./utils/strings\"),j=a(\"./zlib/messages\"),k=a(\"./zlib/zstream\"),l=0,m=4,n=0,o=1,p=-1,q=0,r=8,s=function(a){this.options=h.assign({level:p,method:r,chunkSize:16384,windowBits:15,memLevel:8,strategy:q,to:\"\"},a||{});var b=this.options;b.raw&&b.windowBits>0?b.windowBits=-b.windowBits:b.gzip&&b.windowBits>0&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new k,this.strm.avail_out=0;var c=g.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(c!==n)throw new Error(j[c]);b.header&&g.deflateSetHeader(this.strm,b.header)};s.prototype.push=function(a,b){var c,d,e=this.strm,f=this.options.chunkSize;if(this.ended)return!1;d=b===~~b?b:b===!0?m:l,e.input=\"string\"==typeof a?i.string2buf(a):a,e.next_in=0,e.avail_in=e.input.length;do{if(0===e.avail_out&&(e.output=new h.Buf8(f),e.next_out=0,e.avail_out=f),c=g.deflate(e,d),c!==o&&c!==n)return this.onEnd(c),this.ended=!0,!1;(0===e.avail_out||0===e.avail_in&&d===m)&&this.onData(\"string\"===this.options.to?i.buf2binstring(h.shrinkBuf(e.output,e.next_out)):h.shrinkBuf(e.output,e.next_out))}while((e.avail_in>0||0===e.avail_out)&&c!==o);return d===m?(c=g.deflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===n):!0},s.prototype.onData=function(a){this.chunks.push(a)},s.prototype.onEnd=function(a){a===n&&(this.result=\"string\"===this.options.to?this.chunks.join(\"\"):h.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg},c.Deflate=s,c.deflate=d,c.deflateRaw=e,c.gzip=f},{\"./utils/common\":27,\"./utils/strings\":28,\"./zlib/deflate.js\":32,\"./zlib/messages\":37,\"./zlib/zstream\":39}],26:[function(a,b,c){\"use strict\";function d(a,b){var c=new m(b);if(c.push(a,!0),c.err)throw c.msg;return c.result}function e(a,b){return b=b||{},b.raw=!0,d(a,b)}var f=a(\"./zlib/inflate.js\"),g=a(\"./utils/common\"),h=a(\"./utils/strings\"),i=a(\"./zlib/constants\"),j=a(\"./zlib/messages\"),k=a(\"./zlib/zstream\"),l=a(\"./zlib/gzheader\"),m=function(a){this.options=g.assign({chunkSize:16384,windowBits:0,to:\"\"},a||{});var b=this.options;b.raw&&b.windowBits>=0&&b.windowBits<16&&(b.windowBits=-b.windowBits,0===b.windowBits&&(b.windowBits=-15)),!(b.windowBits>=0&&b.windowBits<16)||a&&a.windowBits||(b.windowBits+=32),b.windowBits>15&&b.windowBits<48&&0===(15&b.windowBits)&&(b.windowBits|=15),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new k,this.strm.avail_out=0;var c=f.inflateInit2(this.strm,b.windowBits);if(c!==i.Z_OK)throw new Error(j[c]);this.header=new l,f.inflateGetHeader(this.strm,this.header)};m.prototype.push=function(a,b){var c,d,e,j,k,l=this.strm,m=this.options.chunkSize;if(this.ended)return!1;d=b===~~b?b:b===!0?i.Z_FINISH:i.Z_NO_FLUSH,l.input=\"string\"==typeof a?h.binstring2buf(a):a,l.next_in=0,l.avail_in=l.input.length;do{if(0===l.avail_out&&(l.output=new g.Buf8(m),l.next_out=0,l.avail_out=m),c=f.inflate(l,i.Z_NO_FLUSH),c!==i.Z_STREAM_END&&c!==i.Z_OK)return this.onEnd(c),this.ended=!0,!1;l.next_out&&(0===l.avail_out||c===i.Z_STREAM_END||0===l.avail_in&&d===i.Z_FINISH)&&(\"string\"===this.options.to?(e=h.utf8border(l.output,l.next_out),j=l.next_out-e,k=h.buf2string(l.output,e),l.next_out=j,l.avail_out=m-j,j&&g.arraySet(l.output,l.output,e,j,0),this.onData(k)):this.onData(g.shrinkBuf(l.output,l.next_out)))}while(l.avail_in>0&&c!==i.Z_STREAM_END);return c===i.Z_STREAM_END&&(d=i.Z_FINISH),d===i.Z_FINISH?(c=f.inflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===i.Z_OK):!0},m.prototype.onData=function(a){this.chunks.push(a)},m.prototype.onEnd=function(a){a===i.Z_OK&&(this.result=\"string\"===this.options.to?this.chunks.join(\"\"):g.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg},c.Inflate=m,c.inflate=d,c.inflateRaw=e,c.ungzip=d},{\"./utils/common\":27,\"./utils/strings\":28,\"./zlib/constants\":30,\"./zlib/gzheader\":33,\"./zlib/inflate.js\":35,\"./zlib/messages\":37,\"./zlib/zstream\":39}],27:[function(a,b,c){\"use strict\";var d=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Int32Array;c.assign=function(a){for(var b=Array.prototype.slice.call(arguments,1);b.length;){var c=b.shift();if(c){if(\"object\"!=typeof c)throw new TypeError(c+\"must be non-object\");for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])}}return a},c.shrinkBuf=function(a,b){return a.length===b?a:a.subarray?a.subarray(0,b):(a.length=b,a)};var e={arraySet:function(a,b,c,d,e){if(b.subarray&&a.subarray)return void a.set(b.subarray(c,c+d),e);for(var f=0;d>f;f++)a[e+f]=b[c+f]},flattenChunks:function(a){var b,c,d,e,f,g;for(d=0,b=0,c=a.length;c>b;b++)d+=a[b].length;for(g=new Uint8Array(d),e=0,b=0,c=a.length;c>b;b++)f=a[b],g.set(f,e),e+=f.length;return g}},f={arraySet:function(a,b,c,d,e){for(var f=0;d>f;f++)a[e+f]=b[c+f]},flattenChunks:function(a){return[].concat.apply([],a)}};c.setTyped=function(a){a?(c.Buf8=Uint8Array,c.Buf16=Uint16Array,c.Buf32=Int32Array,c.assign(c,e)):(c.Buf8=Array,c.Buf16=Array,c.Buf32=Array,c.assign(c,f))},c.setTyped(d)},{}],28:[function(a,b,c){\"use strict\";function d(a,b){if(65537>b&&(a.subarray&&g||!a.subarray&&f))return String.fromCharCode.apply(null,e.shrinkBuf(a,b));for(var c=\"\",d=0;b>d;d++)c+=String.fromCharCode(a[d]);return c}var e=a(\"./common\"),f=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch(h){f=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(h){g=!1}for(var i=new e.Buf8(256),j=0;256>j;j++)i[j]=j>=252?6:j>=248?5:j>=240?4:j>=224?3:j>=192?2:1;i[254]=i[254]=1,c.string2buf=function(a){var b,c,d,f,g,h=a.length,i=0;for(f=0;h>f;f++)c=a.charCodeAt(f),55296===(64512&c)&&h>f+1&&(d=a.charCodeAt(f+1),56320===(64512&d)&&(c=65536+(c-55296<<10)+(d-56320),f++)),i+=128>c?1:2048>c?2:65536>c?3:4;for(b=new e.Buf8(i),g=0,f=0;i>g;f++)c=a.charCodeAt(f),55296===(64512&c)&&h>f+1&&(d=a.charCodeAt(f+1),56320===(64512&d)&&(c=65536+(c-55296<<10)+(d-56320),f++)),128>c?b[g++]=c:2048>c?(b[g++]=192|c>>>6,b[g++]=128|63&c):65536>c?(b[g++]=224|c>>>12,b[g++]=128|c>>>6&63,b[g++]=128|63&c):(b[g++]=240|c>>>18,b[g++]=128|c>>>12&63,b[g++]=128|c>>>6&63,b[g++]=128|63&c);return b},c.buf2binstring=function(a){return d(a,a.length)},c.binstring2buf=function(a){for(var b=new e.Buf8(a.length),c=0,d=b.length;d>c;c++)b[c]=a.charCodeAt(c);return b},c.buf2string=function(a,b){var c,e,f,g,h=b||a.length,j=new Array(2*h);for(e=0,c=0;h>c;)if(f=a[c++],128>f)j[e++]=f;else if(g=i[f],g>4)j[e++]=65533,c+=g-1;else{for(f&=2===g?31:3===g?15:7;g>1&&h>c;)f=f<<6|63&a[c++],g--;g>1?j[e++]=65533:65536>f?j[e++]=f:(f-=65536,j[e++]=55296|f>>10&1023,j[e++]=56320|1023&f)}return d(j,e)},c.utf8border=function(a,b){var c;for(b=b||a.length,b>a.length&&(b=a.length),c=b-1;c>=0&&128===(192&a[c]);)c--;return 0>c?b:0===c?b:c+i[a[c]]>b?c:b}},{\"./common\":27}],29:[function(a,b){\"use strict\";function c(a,b,c,d){for(var e=65535&a|0,f=a>>>16&65535|0,g=0;0!==c;){g=c>2e3?2e3:c,c-=g;do e=e+b[d++]|0,f=f+e|0;while(--g);e%=65521,f%=65521}return e|f<<16|0}b.exports=c},{}],30:[function(a,b){b.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],31:[function(a,b){\"use strict\";function c(){for(var a,b=[],c=0;256>c;c++){a=c;for(var d=0;8>d;d++)a=1&a?3988292384^a>>>1:a>>>1;b[c]=a}return b}function d(a,b,c,d){var f=e,g=d+c;a=-1^a;for(var h=d;g>h;h++)a=a>>>8^f[255&(a^b[h])];return-1^a}var e=c();b.exports=d},{}],32:[function(a,b,c){\"use strict\";function d(a,b){return a.msg=G[b],b}function e(a){return(a<<1)-(a>4?9:0)}function f(a){for(var b=a.length;--b>=0;)a[b]=0}function g(a){var b=a.state,c=b.pending;c>a.avail_out&&(c=a.avail_out),0!==c&&(C.arraySet(a.output,b.pending_buf,b.pending_out,c,a.next_out),a.next_out+=c,b.pending_out+=c,a.total_out+=c,a.avail_out-=c,b.pending-=c,0===b.pending&&(b.pending_out=0))}function h(a,b){D._tr_flush_block(a,a.block_start>=0?a.block_start:-1,a.strstart-a.block_start,b),a.block_start=a.strstart,g(a.strm)}function i(a,b){a.pending_buf[a.pending++]=b}function j(a,b){a.pending_buf[a.pending++]=b>>>8&255,a.pending_buf[a.pending++]=255&b}function k(a,b,c,d){var e=a.avail_in;return e>d&&(e=d),0===e?0:(a.avail_in-=e,C.arraySet(b,a.input,a.next_in,e,c),1===a.state.wrap?a.adler=E(a.adler,b,e,c):2===a.state.wrap&&(a.adler=F(a.adler,b,e,c)),a.next_in+=e,a.total_in+=e,e)}function l(a,b){var c,d,e=a.max_chain_length,f=a.strstart,g=a.prev_length,h=a.nice_match,i=a.strstart>a.w_size-jb?a.strstart-(a.w_size-jb):0,j=a.window,k=a.w_mask,l=a.prev,m=a.strstart+ib,n=j[f+g-1],o=j[f+g];a.prev_length>=a.good_match&&(e>>=2),h>a.lookahead&&(h=a.lookahead);do if(c=b,j[c+g]===o&&j[c+g-1]===n&&j[c]===j[f]&&j[++c]===j[f+1]){f+=2,c++;do;while(j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&m>f);if(d=ib-(m-f),f=m-ib,d>g){if(a.match_start=b,g=d,d>=h)break;n=j[f+g-1],o=j[f+g]}}while((b=l[b&k])>i&&0!==--e);return g<=a.lookahead?g:a.lookahead}function m(a){var b,c,d,e,f,g=a.w_size;do{if(e=a.window_size-a.lookahead-a.strstart,a.strstart>=g+(g-jb)){C.arraySet(a.window,a.window,g,g,0),a.match_start-=g,a.strstart-=g,a.block_start-=g,c=a.hash_size,b=c;do d=a.head[--b],a.head[b]=d>=g?d-g:0;while(--c);c=g,b=c;do d=a.prev[--b],a.prev[b]=d>=g?d-g:0;while(--c);e+=g}if(0===a.strm.avail_in)break;if(c=k(a.strm,a.window,a.strstart+a.lookahead,e),a.lookahead+=c,a.lookahead+a.insert>=hb)for(f=a.strstart-a.insert,a.ins_h=a.window[f],a.ins_h=(a.ins_h<<a.hash_shift^a.window[f+1])&a.hash_mask;a.insert&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[f+hb-1])&a.hash_mask,a.prev[f&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=f,f++,a.insert--,!(a.lookahead+a.insert<hb)););}while(a.lookahead<jb&&0!==a.strm.avail_in)}function n(a,b){var c=65535;for(c>a.pending_buf_size-5&&(c=a.pending_buf_size-5);;){if(a.lookahead<=1){if(m(a),0===a.lookahead&&b===H)return sb;if(0===a.lookahead)break}a.strstart+=a.lookahead,a.lookahead=0;var d=a.block_start+c;if((0===a.strstart||a.strstart>=d)&&(a.lookahead=a.strstart-d,a.strstart=d,h(a,!1),0===a.strm.avail_out))return sb;if(a.strstart-a.block_start>=a.w_size-jb&&(h(a,!1),0===a.strm.avail_out))return sb}return a.insert=0,b===K?(h(a,!0),0===a.strm.avail_out?ub:vb):a.strstart>a.block_start&&(h(a,!1),0===a.strm.avail_out)?sb:sb}function o(a,b){for(var c,d;;){if(a.lookahead<jb){if(m(a),a.lookahead<jb&&b===H)return sb;if(0===a.lookahead)break}if(c=0,a.lookahead>=hb&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+hb-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),0!==c&&a.strstart-c<=a.w_size-jb&&(a.match_length=l(a,c)),a.match_length>=hb)if(d=D._tr_tally(a,a.strstart-a.match_start,a.match_length-hb),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&a.lookahead>=hb){a.match_length--;do a.strstart++,a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+hb-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart;while(0!==--a.match_length);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+1])&a.hash_mask;else d=D._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(d&&(h(a,!1),0===a.strm.avail_out))return sb}return a.insert=a.strstart<hb-1?a.strstart:hb-1,b===K?(h(a,!0),0===a.strm.avail_out?ub:vb):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?sb:tb}function p(a,b){for(var c,d,e;;){if(a.lookahead<jb){if(m(a),a.lookahead<jb&&b===H)return sb;if(0===a.lookahead)break}if(c=0,a.lookahead>=hb&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+hb-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),a.prev_length=a.match_length,a.prev_match=a.match_start,a.match_length=hb-1,0!==c&&a.prev_length<a.max_lazy_match&&a.strstart-c<=a.w_size-jb&&(a.match_length=l(a,c),a.match_length<=5&&(a.strategy===S||a.match_length===hb&&a.strstart-a.match_start>4096)&&(a.match_length=hb-1)),a.prev_length>=hb&&a.match_length<=a.prev_length){e=a.strstart+a.lookahead-hb,d=D._tr_tally(a,a.strstart-1-a.prev_match,a.prev_length-hb),a.lookahead-=a.prev_length-1,a.prev_length-=2;do++a.strstart<=e&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+hb-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);while(0!==--a.prev_length);if(a.match_available=0,a.match_length=hb-1,a.strstart++,d&&(h(a,!1),0===a.strm.avail_out))return sb}else if(a.match_available){if(d=D._tr_tally(a,0,a.window[a.strstart-1]),d&&h(a,!1),a.strstart++,a.lookahead--,0===a.strm.avail_out)return sb}else a.match_available=1,a.strstart++,a.lookahead--}return a.match_available&&(d=D._tr_tally(a,0,a.window[a.strstart-1]),a.match_available=0),a.insert=a.strstart<hb-1?a.strstart:hb-1,b===K?(h(a,!0),0===a.strm.avail_out?ub:vb):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?sb:tb}function q(a,b){for(var c,d,e,f,g=a.window;;){if(a.lookahead<=ib){if(m(a),a.lookahead<=ib&&b===H)return sb;if(0===a.lookahead)break}if(a.match_length=0,a.lookahead>=hb&&a.strstart>0&&(e=a.strstart-1,d=g[e],d===g[++e]&&d===g[++e]&&d===g[++e])){f=a.strstart+ib;do;while(d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&f>e);a.match_length=ib-(f-e),a.match_length>a.lookahead&&(a.match_length=a.lookahead)}if(a.match_length>=hb?(c=D._tr_tally(a,1,a.match_length-hb),a.lookahead-=a.match_length,a.strstart+=a.match_length,a.match_length=0):(c=D._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++),c&&(h(a,!1),0===a.strm.avail_out))return sb}return a.insert=0,b===K?(h(a,!0),0===a.strm.avail_out?ub:vb):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?sb:tb}function r(a,b){for(var c;;){if(0===a.lookahead&&(m(a),0===a.lookahead)){if(b===H)return sb;break}if(a.match_length=0,c=D._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++,c&&(h(a,!1),0===a.strm.avail_out))return sb}return a.insert=0,b===K?(h(a,!0),0===a.strm.avail_out?ub:vb):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?sb:tb}function s(a){a.window_size=2*a.w_size,f(a.head),a.max_lazy_match=B[a.level].max_lazy,a.good_match=B[a.level].good_length,a.nice_match=B[a.level].nice_length,a.max_chain_length=B[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=hb-1,a.match_available=0,a.ins_h=0}function t(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new C.Buf16(2*fb),this.dyn_dtree=new C.Buf16(2*(2*db+1)),this.bl_tree=new C.Buf16(2*(2*eb+1)),f(this.dyn_ltree),f(this.dyn_dtree),f(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new C.Buf16(gb+1),this.heap=new C.Buf16(2*cb+1),f(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new C.Buf16(2*cb+1),f(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function u(a){var b;return a&&a.state?(a.total_in=a.total_out=0,a.data_type=X,b=a.state,b.pending=0,b.pending_out=0,b.wrap<0&&(b.wrap=-b.wrap),b.status=b.wrap?lb:qb,a.adler=2===b.wrap?0:1,b.last_flush=H,D._tr_init(b),M):d(a,O)}function v(a){var b=u(a);return b===M&&s(a.state),b}function w(a,b){return a&&a.state?2!==a.state.wrap?O:(a.state.gzhead=b,M):O}function x(a,b,c,e,f,g){if(!a)return O;var h=1;if(b===R&&(b=6),0>e?(h=0,e=-e):e>15&&(h=2,e-=16),1>f||f>Z||c!==Y||8>e||e>15||0>b||b>9||0>g||g>V)return d(a,O);8===e&&(e=9);var i=new t;return a.state=i,i.strm=a,i.wrap=h,i.gzhead=null,i.w_bits=e,i.w_size=1<<i.w_bits,i.w_mask=i.w_size-1,i.hash_bits=f+7,i.hash_size=1<<i.hash_bits,i.hash_mask=i.hash_size-1,i.hash_shift=~~((i.hash_bits+hb-1)/hb),i.window=new C.Buf8(2*i.w_size),i.head=new C.Buf16(i.hash_size),i.prev=new C.Buf16(i.w_size),i.lit_bufsize=1<<f+6,i.pending_buf_size=4*i.lit_bufsize,i.pending_buf=new C.Buf8(i.pending_buf_size),i.d_buf=i.lit_bufsize>>1,i.l_buf=3*i.lit_bufsize,i.level=b,i.strategy=g,i.method=c,v(a)}function y(a,b){return x(a,b,Y,$,_,W)}function z(a,b){var c,h,k,l;if(!a||!a.state||b>L||0>b)return a?d(a,O):O;if(h=a.state,!a.output||!a.input&&0!==a.avail_in||h.status===rb&&b!==K)return d(a,0===a.avail_out?Q:O);if(h.strm=a,c=h.last_flush,h.last_flush=b,h.status===lb)if(2===h.wrap)a.adler=0,i(h,31),i(h,139),i(h,8),h.gzhead?(i(h,(h.gzhead.text?1:0)+(h.gzhead.hcrc?2:0)+(h.gzhead.extra?4:0)+(h.gzhead.name?8:0)+(h.gzhead.comment?16:0)),i(h,255&h.gzhead.time),i(h,h.gzhead.time>>8&255),i(h,h.gzhead.time>>16&255),i(h,h.gzhead.time>>24&255),i(h,9===h.level?2:h.strategy>=T||h.level<2?4:0),i(h,255&h.gzhead.os),h.gzhead.extra&&h.gzhead.extra.length&&(i(h,255&h.gzhead.extra.length),i(h,h.gzhead.extra.length>>8&255)),h.gzhead.hcrc&&(a.adler=F(a.adler,h.pending_buf,h.pending,0)),h.gzindex=0,h.status=mb):(i(h,0),i(h,0),i(h,0),i(h,0),i(h,0),i(h,9===h.level?2:h.strategy>=T||h.level<2?4:0),i(h,wb),h.status=qb);else{var m=Y+(h.w_bits-8<<4)<<8,n=-1;n=h.strategy>=T||h.level<2?0:h.level<6?1:6===h.level?2:3,m|=n<<6,0!==h.strstart&&(m|=kb),m+=31-m%31,h.status=qb,j(h,m),0!==h.strstart&&(j(h,a.adler>>>16),j(h,65535&a.adler)),a.adler=1}if(h.status===mb)if(h.gzhead.extra){for(k=h.pending;h.gzindex<(65535&h.gzhead.extra.length)&&(h.pending!==h.pending_buf_size||(h.gzhead.hcrc&&h.pending>k&&(a.adler=F(a.adler,h.pending_buf,h.pending-k,k)),g(a),k=h.pending,h.pending!==h.pending_buf_size));)i(h,255&h.gzhead.extra[h.gzindex]),h.gzindex++;h.gzhead.hcrc&&h.pending>k&&(a.adler=F(a.adler,h.pending_buf,h.pending-k,k)),h.gzindex===h.gzhead.extra.length&&(h.gzindex=0,h.status=nb)}else h.status=nb;if(h.status===nb)if(h.gzhead.name){k=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>k&&(a.adler=F(a.adler,h.pending_buf,h.pending-k,k)),g(a),k=h.pending,h.pending===h.pending_buf_size)){l=1;break}l=h.gzindex<h.gzhead.name.length?255&h.gzhead.name.charCodeAt(h.gzindex++):0,i(h,l)}while(0!==l);h.gzhead.hcrc&&h.pending>k&&(a.adler=F(a.adler,h.pending_buf,h.pending-k,k)),0===l&&(h.gzindex=0,h.status=ob)}else h.status=ob;if(h.status===ob)if(h.gzhead.comment){k=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>k&&(a.adler=F(a.adler,h.pending_buf,h.pending-k,k)),g(a),k=h.pending,h.pending===h.pending_buf_size)){l=1;break}l=h.gzindex<h.gzhead.comment.length?255&h.gzhead.comment.charCodeAt(h.gzindex++):0,i(h,l)}while(0!==l);h.gzhead.hcrc&&h.pending>k&&(a.adler=F(a.adler,h.pending_buf,h.pending-k,k)),0===l&&(h.status=pb)}else h.status=pb;if(h.status===pb&&(h.gzhead.hcrc?(h.pending+2>h.pending_buf_size&&g(a),h.pending+2<=h.pending_buf_size&&(i(h,255&a.adler),i(h,a.adler>>8&255),a.adler=0,h.status=qb)):h.status=qb),0!==h.pending){if(g(a),0===a.avail_out)return h.last_flush=-1,M}else if(0===a.avail_in&&e(b)<=e(c)&&b!==K)return d(a,Q);if(h.status===rb&&0!==a.avail_in)return d(a,Q);if(0!==a.avail_in||0!==h.lookahead||b!==H&&h.status!==rb){var o=h.strategy===T?r(h,b):h.strategy===U?q(h,b):B[h.level].func(h,b);if((o===ub||o===vb)&&(h.status=rb),o===sb||o===ub)return 0===a.avail_out&&(h.last_flush=-1),M;if(o===tb&&(b===I?D._tr_align(h):b!==L&&(D._tr_stored_block(h,0,0,!1),b===J&&(f(h.head),0===h.lookahead&&(h.strstart=0,h.block_start=0,h.insert=0))),g(a),0===a.avail_out))return h.last_flush=-1,M}return b!==K?M:h.wrap<=0?N:(2===h.wrap?(i(h,255&a.adler),i(h,a.adler>>8&255),i(h,a.adler>>16&255),i(h,a.adler>>24&255),i(h,255&a.total_in),i(h,a.total_in>>8&255),i(h,a.total_in>>16&255),i(h,a.total_in>>24&255)):(j(h,a.adler>>>16),j(h,65535&a.adler)),g(a),h.wrap>0&&(h.wrap=-h.wrap),0!==h.pending?M:N)}function A(a){var b;return a&&a.state?(b=a.state.status,b!==lb&&b!==mb&&b!==nb&&b!==ob&&b!==pb&&b!==qb&&b!==rb?d(a,O):(a.state=null,b===qb?d(a,P):M)):O}var B,C=a(\"../utils/common\"),D=a(\"./trees\"),E=a(\"./adler32\"),F=a(\"./crc32\"),G=a(\"./messages\"),H=0,I=1,J=3,K=4,L=5,M=0,N=1,O=-2,P=-3,Q=-5,R=-1,S=1,T=2,U=3,V=4,W=0,X=2,Y=8,Z=9,$=15,_=8,ab=29,bb=256,cb=bb+1+ab,db=30,eb=19,fb=2*cb+1,gb=15,hb=3,ib=258,jb=ib+hb+1,kb=32,lb=42,mb=69,nb=73,ob=91,pb=103,qb=113,rb=666,sb=1,tb=2,ub=3,vb=4,wb=3,xb=function(a,b,c,d,e){this.good_length=a,this.max_lazy=b,this.nice_length=c,this.max_chain=d,this.func=e};B=[new xb(0,0,0,0,n),new xb(4,4,8,4,o),new xb(4,5,16,8,o),new xb(4,6,32,32,o),new xb(4,4,16,16,p),new xb(8,16,32,32,p),new xb(8,16,128,128,p),new xb(8,32,128,256,p),new xb(32,128,258,1024,p),new xb(32,258,258,4096,p)],c.deflateInit=y,c.deflateInit2=x,c.deflateReset=v,c.deflateResetKeep=u,c.deflateSetHeader=w,c.deflate=z,c.deflateEnd=A,c.deflateInfo=\"pako deflate (from Nodeca project)\"},{\"../utils/common\":27,\"./adler32\":29,\"./crc32\":31,\"./messages\":37,\"./trees\":38}],33:[function(a,b){\"use strict\";function c(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=\"\",this.comment=\"\",this.hcrc=0,this.done=!1}b.exports=c},{}],34:[function(a,b){\"use strict\";var c=30,d=12;b.exports=function(a,b){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C;e=a.state,f=a.next_in,B=a.input,g=f+(a.avail_in-5),h=a.next_out,C=a.output,i=h-(b-a.avail_out),j=h+(a.avail_out-257),k=e.dmax,l=e.wsize,m=e.whave,n=e.wnext,o=e.window,p=e.hold,q=e.bits,r=e.lencode,s=e.distcode,t=(1<<e.lenbits)-1,u=(1<<e.distbits)-1;a:do{15>q&&(p+=B[f++]<<q,q+=8,p+=B[f++]<<q,q+=8),v=r[p&t];b:for(;;){if(w=v>>>24,p>>>=w,q-=w,w=v>>>16&255,0===w)C[h++]=65535&v;else{if(!(16&w)){if(0===(64&w)){v=r[(65535&v)+(p&(1<<w)-1)];continue b}if(32&w){e.mode=d;break a}a.msg=\"invalid literal/length code\",e.mode=c;break a}x=65535&v,w&=15,w&&(w>q&&(p+=B[f++]<<q,q+=8),x+=p&(1<<w)-1,p>>>=w,q-=w),15>q&&(p+=B[f++]<<q,q+=8,p+=B[f++]<<q,q+=8),v=s[p&u];c:for(;;){if(w=v>>>24,p>>>=w,q-=w,w=v>>>16&255,!(16&w)){if(0===(64&w)){v=s[(65535&v)+(p&(1<<w)-1)];continue c}a.msg=\"invalid distance code\",e.mode=c;break a}if(y=65535&v,w&=15,w>q&&(p+=B[f++]<<q,q+=8,w>q&&(p+=B[f++]<<q,q+=8)),y+=p&(1<<w)-1,y>k){a.msg=\"invalid distance too far back\",e.mode=c;break a}if(p>>>=w,q-=w,w=h-i,y>w){if(w=y-w,w>m&&e.sane){a.msg=\"invalid distance too far back\",e.mode=c;break a}if(z=0,A=o,0===n){if(z+=l-w,x>w){x-=w;do C[h++]=o[z++];while(--w);z=h-y,A=C}}else if(w>n){if(z+=l+n-w,w-=n,x>w){x-=w;do C[h++]=o[z++];while(--w);if(z=0,x>n){w=n,x-=w;do C[h++]=o[z++];while(--w);z=h-y,A=C}}}else if(z+=n-w,x>w){x-=w;do C[h++]=o[z++];while(--w);z=h-y,A=C}for(;x>2;)C[h++]=A[z++],C[h++]=A[z++],C[h++]=A[z++],x-=3;x&&(C[h++]=A[z++],x>1&&(C[h++]=A[z++]))}else{z=h-y;do C[h++]=C[z++],C[h++]=C[z++],C[h++]=C[z++],x-=3;while(x>2);x&&(C[h++]=C[z++],x>1&&(C[h++]=C[z++]))}break}}break}}while(g>f&&j>h);x=q>>3,f-=x,q-=x<<3,p&=(1<<q)-1,a.next_in=f,a.next_out=h,a.avail_in=g>f?5+(g-f):5-(f-g),a.avail_out=j>h?257+(j-h):257-(h-j),e.hold=p,e.bits=q}},{}],35:[function(a,b,c){\"use strict\";function d(a){return(a>>>24&255)+(a>>>8&65280)+((65280&a)<<8)+((255&a)<<24)}function e(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function f(a){var b;return a&&a.state?(b=a.state,a.total_in=a.total_out=b.total=0,a.msg=\"\",b.wrap&&(a.adler=1&b.wrap),b.mode=K,b.last=0,b.havedict=0,b.dmax=32768,b.head=null,b.hold=0,b.bits=0,b.lencode=b.lendyn=new r.Buf32(ob),b.distcode=b.distdyn=new r.Buf32(pb),b.sane=1,b.back=-1,C):F}function g(a){var b;return a&&a.state?(b=a.state,b.wsize=0,b.whave=0,b.wnext=0,f(a)):F}function h(a,b){var c,d;return a&&a.state?(d=a.state,0>b?(c=0,b=-b):(c=(b>>4)+1,48>b&&(b&=15)),b&&(8>b||b>15)?F:(null!==d.window&&d.wbits!==b&&(d.window=null),d.wrap=c,d.wbits=b,g(a))):F}function i(a,b){var c,d;return a?(d=new e,a.state=d,d.window=null,c=h(a,b),c!==C&&(a.state=null),c):F}function j(a){return i(a,rb)}function k(a){if(sb){var b;for(p=new r.Buf32(512),q=new r.Buf32(32),b=0;144>b;)a.lens[b++]=8;for(;256>b;)a.lens[b++]=9;for(;280>b;)a.lens[b++]=7;for(;288>b;)a.lens[b++]=8;for(v(x,a.lens,0,288,p,0,a.work,{bits:9}),b=0;32>b;)a.lens[b++]=5;v(y,a.lens,0,32,q,0,a.work,{bits:5}),sb=!1}a.lencode=p,a.lenbits=9,a.distcode=q,a.distbits=5}function l(a,b,c,d){var e,f=a.state;return null===f.window&&(f.wsize=1<<f.wbits,f.wnext=0,f.whave=0,f.window=new r.Buf8(f.wsize)),d>=f.wsize?(r.arraySet(f.window,b,c-f.wsize,f.wsize,0),f.wnext=0,f.whave=f.wsize):(e=f.wsize-f.wnext,e>d&&(e=d),r.arraySet(f.window,b,c-d,e,f.wnext),d-=e,d?(r.arraySet(f.window,b,c-d,d,0),f.wnext=d,f.whave=f.wsize):(f.wnext+=e,f.wnext===f.wsize&&(f.wnext=0),f.whave<f.wsize&&(f.whave+=e))),0}function m(a,b){var c,e,f,g,h,i,j,m,n,o,p,q,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab=0,Bb=new r.Buf8(4),Cb=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!a||!a.state||!a.output||!a.input&&0!==a.avail_in)return F;c=a.state,c.mode===V&&(c.mode=W),h=a.next_out,f=a.output,j=a.avail_out,g=a.next_in,e=a.input,i=a.avail_in,m=c.hold,n=c.bits,o=i,p=j,xb=C;a:for(;;)switch(c.mode){case K:if(0===c.wrap){c.mode=W;break}for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(2&c.wrap&&35615===m){c.check=0,Bb[0]=255&m,Bb[1]=m>>>8&255,c.check=t(c.check,Bb,2,0),m=0,n=0,c.mode=L;break}if(c.flags=0,c.head&&(c.head.done=!1),!(1&c.wrap)||(((255&m)<<8)+(m>>8))%31){a.msg=\"incorrect header check\",c.mode=lb;break}if((15&m)!==J){a.msg=\"unknown compression method\",c.mode=lb;break}if(m>>>=4,n-=4,wb=(15&m)+8,0===c.wbits)c.wbits=wb;else if(wb>c.wbits){a.msg=\"invalid window size\",c.mode=lb;break}c.dmax=1<<wb,a.adler=c.check=1,c.mode=512&m?T:V,m=0,n=0;break;case L:for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(c.flags=m,(255&c.flags)!==J){a.msg=\"unknown compression method\",c.mode=lb;break}if(57344&c.flags){a.msg=\"unknown header flags set\",c.mode=lb;break}c.head&&(c.head.text=m>>8&1),512&c.flags&&(Bb[0]=255&m,Bb[1]=m>>>8&255,c.check=t(c.check,Bb,2,0)),m=0,n=0,c.mode=M;case M:for(;32>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.head&&(c.head.time=m),512&c.flags&&(Bb[0]=255&m,Bb[1]=m>>>8&255,Bb[2]=m>>>16&255,Bb[3]=m>>>24&255,c.check=t(c.check,Bb,4,0)),m=0,n=0,c.mode=N;case N:for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.head&&(c.head.xflags=255&m,c.head.os=m>>8),512&c.flags&&(Bb[0]=255&m,Bb[1]=m>>>8&255,c.check=t(c.check,Bb,2,0)),m=0,n=0,c.mode=O;case O:if(1024&c.flags){for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.length=m,c.head&&(c.head.extra_len=m),512&c.flags&&(Bb[0]=255&m,Bb[1]=m>>>8&255,c.check=t(c.check,Bb,2,0)),m=0,n=0}else c.head&&(c.head.extra=null);c.mode=P;case P:if(1024&c.flags&&(q=c.length,q>i&&(q=i),q&&(c.head&&(wb=c.head.extra_len-c.length,c.head.extra||(c.head.extra=new Array(c.head.extra_len)),r.arraySet(c.head.extra,e,g,q,wb)),512&c.flags&&(c.check=t(c.check,e,q,g)),i-=q,g+=q,c.length-=q),c.length))break a;c.length=0,c.mode=Q;case Q:if(2048&c.flags){if(0===i)break a;q=0;do wb=e[g+q++],c.head&&wb&&c.length<65536&&(c.head.name+=String.fromCharCode(wb));while(wb&&i>q);if(512&c.flags&&(c.check=t(c.check,e,q,g)),i-=q,g+=q,wb)break a}else c.head&&(c.head.name=null);c.length=0,c.mode=R;case R:if(4096&c.flags){if(0===i)break a;q=0;do wb=e[g+q++],c.head&&wb&&c.length<65536&&(c.head.comment+=String.fromCharCode(wb));while(wb&&i>q);if(512&c.flags&&(c.check=t(c.check,e,q,g)),i-=q,g+=q,wb)break a}else c.head&&(c.head.comment=null);c.mode=S;case S:if(512&c.flags){for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(m!==(65535&c.check)){a.msg=\"header crc mismatch\",c.mode=lb;break}m=0,n=0}c.head&&(c.head.hcrc=c.flags>>9&1,c.head.done=!0),a.adler=c.check=0,c.mode=V;break;case T:for(;32>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}a.adler=c.check=d(m),m=0,n=0,c.mode=U;case U:if(0===c.havedict)return a.next_out=h,a.avail_out=j,a.next_in=g,a.avail_in=i,c.hold=m,c.bits=n,E;a.adler=c.check=1,c.mode=V;case V:if(b===A||b===B)break a;case W:if(c.last){m>>>=7&n,n-=7&n,c.mode=ib;break}for(;3>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}switch(c.last=1&m,m>>>=1,n-=1,3&m){case 0:c.mode=X;break;case 1:if(k(c),c.mode=bb,b===B){m>>>=2,n-=2;break a}break;case 2:c.mode=$;break;case 3:a.msg=\"invalid block type\",c.mode=lb}m>>>=2,n-=2;break;case X:for(m>>>=7&n,n-=7&n;32>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if((65535&m)!==(m>>>16^65535)){a.msg=\"invalid stored block lengths\",c.mode=lb;break}if(c.length=65535&m,m=0,n=0,c.mode=Y,b===B)break a;case Y:c.mode=Z;case Z:if(q=c.length){if(q>i&&(q=i),q>j&&(q=j),0===q)break a;r.arraySet(f,e,g,q,h),i-=q,g+=q,j-=q,h+=q,c.length-=q;break}c.mode=V;break;case $:for(;14>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(c.nlen=(31&m)+257,m>>>=5,n-=5,c.ndist=(31&m)+1,m>>>=5,n-=5,c.ncode=(15&m)+4,m>>>=4,n-=4,c.nlen>286||c.ndist>30){a.msg=\"too many length or distance symbols\",c.mode=lb;break}c.have=0,c.mode=_;case _:for(;c.have<c.ncode;){for(;3>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.lens[Cb[c.have++]]=7&m,m>>>=3,n-=3}for(;c.have<19;)c.lens[Cb[c.have++]]=0;if(c.lencode=c.lendyn,c.lenbits=7,yb={bits:c.lenbits},xb=v(w,c.lens,0,19,c.lencode,0,c.work,yb),c.lenbits=yb.bits,xb){a.msg=\"invalid code lengths set\",c.mode=lb;break}c.have=0,c.mode=ab;case ab:for(;c.have<c.nlen+c.ndist;){for(;Ab=c.lencode[m&(1<<c.lenbits)-1],qb=Ab>>>24,rb=Ab>>>16&255,sb=65535&Ab,!(n>=qb);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(16>sb)m>>>=qb,n-=qb,c.lens[c.have++]=sb;else{if(16===sb){for(zb=qb+2;zb>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(m>>>=qb,n-=qb,0===c.have){a.msg=\"invalid bit length repeat\",c.mode=lb;break}wb=c.lens[c.have-1],q=3+(3&m),m>>>=2,n-=2}else if(17===sb){for(zb=qb+3;zb>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=qb,n-=qb,wb=0,q=3+(7&m),m>>>=3,n-=3}else{for(zb=qb+7;zb>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=qb,n-=qb,wb=0,q=11+(127&m),m>>>=7,n-=7}if(c.have+q>c.nlen+c.ndist){a.msg=\"invalid bit length repeat\",c.mode=lb;break}for(;q--;)c.lens[c.have++]=wb}}if(c.mode===lb)break;if(0===c.lens[256]){a.msg=\"invalid code -- missing end-of-block\",c.mode=lb;break}if(c.lenbits=9,yb={bits:c.lenbits},xb=v(x,c.lens,0,c.nlen,c.lencode,0,c.work,yb),c.lenbits=yb.bits,xb){a.msg=\"invalid literal/lengths set\",c.mode=lb;break}if(c.distbits=6,c.distcode=c.distdyn,yb={bits:c.distbits},xb=v(y,c.lens,c.nlen,c.ndist,c.distcode,0,c.work,yb),c.distbits=yb.bits,xb){a.msg=\"invalid distances set\",c.mode=lb;break}if(c.mode=bb,b===B)break a;case bb:c.mode=cb;case cb:if(i>=6&&j>=258){a.next_out=h,a.avail_out=j,a.next_in=g,a.avail_in=i,c.hold=m,c.bits=n,u(a,p),h=a.next_out,f=a.output,j=a.avail_out,g=a.next_in,e=a.input,i=a.avail_in,m=c.hold,n=c.bits,c.mode===V&&(c.back=-1);\nbreak}for(c.back=0;Ab=c.lencode[m&(1<<c.lenbits)-1],qb=Ab>>>24,rb=Ab>>>16&255,sb=65535&Ab,!(n>=qb);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(rb&&0===(240&rb)){for(tb=qb,ub=rb,vb=sb;Ab=c.lencode[vb+((m&(1<<tb+ub)-1)>>tb)],qb=Ab>>>24,rb=Ab>>>16&255,sb=65535&Ab,!(n>=tb+qb);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=tb,n-=tb,c.back+=tb}if(m>>>=qb,n-=qb,c.back+=qb,c.length=sb,0===rb){c.mode=hb;break}if(32&rb){c.back=-1,c.mode=V;break}if(64&rb){a.msg=\"invalid literal/length code\",c.mode=lb;break}c.extra=15&rb,c.mode=db;case db:if(c.extra){for(zb=c.extra;zb>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.length+=m&(1<<c.extra)-1,m>>>=c.extra,n-=c.extra,c.back+=c.extra}c.was=c.length,c.mode=eb;case eb:for(;Ab=c.distcode[m&(1<<c.distbits)-1],qb=Ab>>>24,rb=Ab>>>16&255,sb=65535&Ab,!(n>=qb);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(0===(240&rb)){for(tb=qb,ub=rb,vb=sb;Ab=c.distcode[vb+((m&(1<<tb+ub)-1)>>tb)],qb=Ab>>>24,rb=Ab>>>16&255,sb=65535&Ab,!(n>=tb+qb);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=tb,n-=tb,c.back+=tb}if(m>>>=qb,n-=qb,c.back+=qb,64&rb){a.msg=\"invalid distance code\",c.mode=lb;break}c.offset=sb,c.extra=15&rb,c.mode=fb;case fb:if(c.extra){for(zb=c.extra;zb>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.offset+=m&(1<<c.extra)-1,m>>>=c.extra,n-=c.extra,c.back+=c.extra}if(c.offset>c.dmax){a.msg=\"invalid distance too far back\",c.mode=lb;break}c.mode=gb;case gb:if(0===j)break a;if(q=p-j,c.offset>q){if(q=c.offset-q,q>c.whave&&c.sane){a.msg=\"invalid distance too far back\",c.mode=lb;break}q>c.wnext?(q-=c.wnext,ob=c.wsize-q):ob=c.wnext-q,q>c.length&&(q=c.length),pb=c.window}else pb=f,ob=h-c.offset,q=c.length;q>j&&(q=j),j-=q,c.length-=q;do f[h++]=pb[ob++];while(--q);0===c.length&&(c.mode=cb);break;case hb:if(0===j)break a;f[h++]=c.length,j--,c.mode=cb;break;case ib:if(c.wrap){for(;32>n;){if(0===i)break a;i--,m|=e[g++]<<n,n+=8}if(p-=j,a.total_out+=p,c.total+=p,p&&(a.adler=c.check=c.flags?t(c.check,f,p,h-p):s(c.check,f,p,h-p)),p=j,(c.flags?m:d(m))!==c.check){a.msg=\"incorrect data check\",c.mode=lb;break}m=0,n=0}c.mode=jb;case jb:if(c.wrap&&c.flags){for(;32>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(m!==(4294967295&c.total)){a.msg=\"incorrect length check\",c.mode=lb;break}m=0,n=0}c.mode=kb;case kb:xb=D;break a;case lb:xb=G;break a;case mb:return H;case nb:default:return F}return a.next_out=h,a.avail_out=j,a.next_in=g,a.avail_in=i,c.hold=m,c.bits=n,(c.wsize||p!==a.avail_out&&c.mode<lb&&(c.mode<ib||b!==z))&&l(a,a.output,a.next_out,p-a.avail_out)?(c.mode=mb,H):(o-=a.avail_in,p-=a.avail_out,a.total_in+=o,a.total_out+=p,c.total+=p,c.wrap&&p&&(a.adler=c.check=c.flags?t(c.check,f,p,a.next_out-p):s(c.check,f,p,a.next_out-p)),a.data_type=c.bits+(c.last?64:0)+(c.mode===V?128:0)+(c.mode===bb||c.mode===Y?256:0),(0===o&&0===p||b===z)&&xb===C&&(xb=I),xb)}function n(a){if(!a||!a.state)return F;var b=a.state;return b.window&&(b.window=null),a.state=null,C}function o(a,b){var c;return a&&a.state?(c=a.state,0===(2&c.wrap)?F:(c.head=b,b.done=!1,C)):F}var p,q,r=a(\"../utils/common\"),s=a(\"./adler32\"),t=a(\"./crc32\"),u=a(\"./inffast\"),v=a(\"./inftrees\"),w=0,x=1,y=2,z=4,A=5,B=6,C=0,D=1,E=2,F=-2,G=-3,H=-4,I=-5,J=8,K=1,L=2,M=3,N=4,O=5,P=6,Q=7,R=8,S=9,T=10,U=11,V=12,W=13,X=14,Y=15,Z=16,$=17,_=18,ab=19,bb=20,cb=21,db=22,eb=23,fb=24,gb=25,hb=26,ib=27,jb=28,kb=29,lb=30,mb=31,nb=32,ob=852,pb=592,qb=15,rb=qb,sb=!0;c.inflateReset=g,c.inflateReset2=h,c.inflateResetKeep=f,c.inflateInit=j,c.inflateInit2=i,c.inflate=m,c.inflateEnd=n,c.inflateGetHeader=o,c.inflateInfo=\"pako inflate (from Nodeca project)\"},{\"../utils/common\":27,\"./adler32\":29,\"./crc32\":31,\"./inffast\":34,\"./inftrees\":36}],36:[function(a,b){\"use strict\";var c=a(\"../utils/common\"),d=15,e=852,f=592,g=0,h=1,i=2,j=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],k=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];b.exports=function(a,b,n,o,p,q,r,s){var t,u,v,w,x,y,z,A,B,C=s.bits,D=0,E=0,F=0,G=0,H=0,I=0,J=0,K=0,L=0,M=0,N=null,O=0,P=new c.Buf16(d+1),Q=new c.Buf16(d+1),R=null,S=0;for(D=0;d>=D;D++)P[D]=0;for(E=0;o>E;E++)P[b[n+E]]++;for(H=C,G=d;G>=1&&0===P[G];G--);if(H>G&&(H=G),0===G)return p[q++]=20971520,p[q++]=20971520,s.bits=1,0;for(F=1;G>F&&0===P[F];F++);for(F>H&&(H=F),K=1,D=1;d>=D;D++)if(K<<=1,K-=P[D],0>K)return-1;if(K>0&&(a===g||1!==G))return-1;for(Q[1]=0,D=1;d>D;D++)Q[D+1]=Q[D]+P[D];for(E=0;o>E;E++)0!==b[n+E]&&(r[Q[b[n+E]]++]=E);if(a===g?(N=R=r,y=19):a===h?(N=j,O-=257,R=k,S-=257,y=256):(N=l,R=m,y=-1),M=0,E=0,D=F,x=q,I=H,J=0,v=-1,L=1<<H,w=L-1,a===h&&L>e||a===i&&L>f)return 1;for(var T=0;;){T++,z=D-J,r[E]<y?(A=0,B=r[E]):r[E]>y?(A=R[S+r[E]],B=N[O+r[E]]):(A=96,B=0),t=1<<D-J,u=1<<I,F=u;do u-=t,p[x+(M>>J)+u]=z<<24|A<<16|B|0;while(0!==u);for(t=1<<D-1;M&t;)t>>=1;if(0!==t?(M&=t-1,M+=t):M=0,E++,0===--P[D]){if(D===G)break;D=b[n+r[E]]}if(D>H&&(M&w)!==v){for(0===J&&(J=H),x+=F,I=D-J,K=1<<I;G>I+J&&(K-=P[I+J],!(0>=K));)I++,K<<=1;if(L+=1<<I,a===h&&L>e||a===i&&L>f)return 1;v=M&w,p[v]=H<<24|I<<16|x-q|0}}return 0!==M&&(p[x+M]=D-J<<24|64<<16|0),s.bits=H,0}},{\"../utils/common\":27}],37:[function(a,b){\"use strict\";b.exports={2:\"need dictionary\",1:\"stream end\",0:\"\",\"-1\":\"file error\",\"-2\":\"stream error\",\"-3\":\"data error\",\"-4\":\"insufficient memory\",\"-5\":\"buffer error\",\"-6\":\"incompatible version\"}},{}],38:[function(a,b,c){\"use strict\";function d(a){for(var b=a.length;--b>=0;)a[b]=0}function e(a){return 256>a?gb[a]:gb[256+(a>>>7)]}function f(a,b){a.pending_buf[a.pending++]=255&b,a.pending_buf[a.pending++]=b>>>8&255}function g(a,b,c){a.bi_valid>V-c?(a.bi_buf|=b<<a.bi_valid&65535,f(a,a.bi_buf),a.bi_buf=b>>V-a.bi_valid,a.bi_valid+=c-V):(a.bi_buf|=b<<a.bi_valid&65535,a.bi_valid+=c)}function h(a,b,c){g(a,c[2*b],c[2*b+1])}function i(a,b){var c=0;do c|=1&a,a>>>=1,c<<=1;while(--b>0);return c>>>1}function j(a){16===a.bi_valid?(f(a,a.bi_buf),a.bi_buf=0,a.bi_valid=0):a.bi_valid>=8&&(a.pending_buf[a.pending++]=255&a.bi_buf,a.bi_buf>>=8,a.bi_valid-=8)}function k(a,b){var c,d,e,f,g,h,i=b.dyn_tree,j=b.max_code,k=b.stat_desc.static_tree,l=b.stat_desc.has_stree,m=b.stat_desc.extra_bits,n=b.stat_desc.extra_base,o=b.stat_desc.max_length,p=0;for(f=0;U>=f;f++)a.bl_count[f]=0;for(i[2*a.heap[a.heap_max]+1]=0,c=a.heap_max+1;T>c;c++)d=a.heap[c],f=i[2*i[2*d+1]+1]+1,f>o&&(f=o,p++),i[2*d+1]=f,d>j||(a.bl_count[f]++,g=0,d>=n&&(g=m[d-n]),h=i[2*d],a.opt_len+=h*(f+g),l&&(a.static_len+=h*(k[2*d+1]+g)));if(0!==p){do{for(f=o-1;0===a.bl_count[f];)f--;a.bl_count[f]--,a.bl_count[f+1]+=2,a.bl_count[o]--,p-=2}while(p>0);for(f=o;0!==f;f--)for(d=a.bl_count[f];0!==d;)e=a.heap[--c],e>j||(i[2*e+1]!==f&&(a.opt_len+=(f-i[2*e+1])*i[2*e],i[2*e+1]=f),d--)}}function l(a,b,c){var d,e,f=new Array(U+1),g=0;for(d=1;U>=d;d++)f[d]=g=g+c[d-1]<<1;for(e=0;b>=e;e++){var h=a[2*e+1];0!==h&&(a[2*e]=i(f[h]++,h))}}function m(){var a,b,c,d,e,f=new Array(U+1);for(c=0,d=0;O-1>d;d++)for(ib[d]=c,a=0;a<1<<_[d];a++)hb[c++]=d;for(hb[c-1]=d,e=0,d=0;16>d;d++)for(jb[d]=e,a=0;a<1<<ab[d];a++)gb[e++]=d;for(e>>=7;R>d;d++)for(jb[d]=e<<7,a=0;a<1<<ab[d]-7;a++)gb[256+e++]=d;for(b=0;U>=b;b++)f[b]=0;for(a=0;143>=a;)eb[2*a+1]=8,a++,f[8]++;for(;255>=a;)eb[2*a+1]=9,a++,f[9]++;for(;279>=a;)eb[2*a+1]=7,a++,f[7]++;for(;287>=a;)eb[2*a+1]=8,a++,f[8]++;for(l(eb,Q+1,f),a=0;R>a;a++)fb[2*a+1]=5,fb[2*a]=i(a,5);kb=new nb(eb,_,P+1,Q,U),lb=new nb(fb,ab,0,R,U),mb=new nb(new Array(0),bb,0,S,W)}function n(a){var b;for(b=0;Q>b;b++)a.dyn_ltree[2*b]=0;for(b=0;R>b;b++)a.dyn_dtree[2*b]=0;for(b=0;S>b;b++)a.bl_tree[2*b]=0;a.dyn_ltree[2*X]=1,a.opt_len=a.static_len=0,a.last_lit=a.matches=0}function o(a){a.bi_valid>8?f(a,a.bi_buf):a.bi_valid>0&&(a.pending_buf[a.pending++]=a.bi_buf),a.bi_buf=0,a.bi_valid=0}function p(a,b,c,d){o(a),d&&(f(a,c),f(a,~c)),E.arraySet(a.pending_buf,a.window,b,c,a.pending),a.pending+=c}function q(a,b,c,d){var e=2*b,f=2*c;return a[e]<a[f]||a[e]===a[f]&&d[b]<=d[c]}function r(a,b,c){for(var d=a.heap[c],e=c<<1;e<=a.heap_len&&(e<a.heap_len&&q(b,a.heap[e+1],a.heap[e],a.depth)&&e++,!q(b,d,a.heap[e],a.depth));)a.heap[c]=a.heap[e],c=e,e<<=1;a.heap[c]=d}function s(a,b,c){var d,f,i,j,k=0;if(0!==a.last_lit)do d=a.pending_buf[a.d_buf+2*k]<<8|a.pending_buf[a.d_buf+2*k+1],f=a.pending_buf[a.l_buf+k],k++,0===d?h(a,f,b):(i=hb[f],h(a,i+P+1,b),j=_[i],0!==j&&(f-=ib[i],g(a,f,j)),d--,i=e(d),h(a,i,c),j=ab[i],0!==j&&(d-=jb[i],g(a,d,j)));while(k<a.last_lit);h(a,X,b)}function t(a,b){var c,d,e,f=b.dyn_tree,g=b.stat_desc.static_tree,h=b.stat_desc.has_stree,i=b.stat_desc.elems,j=-1;for(a.heap_len=0,a.heap_max=T,c=0;i>c;c++)0!==f[2*c]?(a.heap[++a.heap_len]=j=c,a.depth[c]=0):f[2*c+1]=0;for(;a.heap_len<2;)e=a.heap[++a.heap_len]=2>j?++j:0,f[2*e]=1,a.depth[e]=0,a.opt_len--,h&&(a.static_len-=g[2*e+1]);for(b.max_code=j,c=a.heap_len>>1;c>=1;c--)r(a,f,c);e=i;do c=a.heap[1],a.heap[1]=a.heap[a.heap_len--],r(a,f,1),d=a.heap[1],a.heap[--a.heap_max]=c,a.heap[--a.heap_max]=d,f[2*e]=f[2*c]+f[2*d],a.depth[e]=(a.depth[c]>=a.depth[d]?a.depth[c]:a.depth[d])+1,f[2*c+1]=f[2*d+1]=e,a.heap[1]=e++,r(a,f,1);while(a.heap_len>=2);a.heap[--a.heap_max]=a.heap[1],k(a,b),l(f,j,a.bl_count)}function u(a,b,c){var d,e,f=-1,g=b[1],h=0,i=7,j=4;for(0===g&&(i=138,j=3),b[2*(c+1)+1]=65535,d=0;c>=d;d++)e=g,g=b[2*(d+1)+1],++h<i&&e===g||(j>h?a.bl_tree[2*e]+=h:0!==e?(e!==f&&a.bl_tree[2*e]++,a.bl_tree[2*Y]++):10>=h?a.bl_tree[2*Z]++:a.bl_tree[2*$]++,h=0,f=e,0===g?(i=138,j=3):e===g?(i=6,j=3):(i=7,j=4))}function v(a,b,c){var d,e,f=-1,i=b[1],j=0,k=7,l=4;for(0===i&&(k=138,l=3),d=0;c>=d;d++)if(e=i,i=b[2*(d+1)+1],!(++j<k&&e===i)){if(l>j){do h(a,e,a.bl_tree);while(0!==--j)}else 0!==e?(e!==f&&(h(a,e,a.bl_tree),j--),h(a,Y,a.bl_tree),g(a,j-3,2)):10>=j?(h(a,Z,a.bl_tree),g(a,j-3,3)):(h(a,$,a.bl_tree),g(a,j-11,7));j=0,f=e,0===i?(k=138,l=3):e===i?(k=6,l=3):(k=7,l=4)}}function w(a){var b;for(u(a,a.dyn_ltree,a.l_desc.max_code),u(a,a.dyn_dtree,a.d_desc.max_code),t(a,a.bl_desc),b=S-1;b>=3&&0===a.bl_tree[2*cb[b]+1];b--);return a.opt_len+=3*(b+1)+5+5+4,b}function x(a,b,c,d){var e;for(g(a,b-257,5),g(a,c-1,5),g(a,d-4,4),e=0;d>e;e++)g(a,a.bl_tree[2*cb[e]+1],3);v(a,a.dyn_ltree,b-1),v(a,a.dyn_dtree,c-1)}function y(a){var b,c=4093624447;for(b=0;31>=b;b++,c>>>=1)if(1&c&&0!==a.dyn_ltree[2*b])return G;if(0!==a.dyn_ltree[18]||0!==a.dyn_ltree[20]||0!==a.dyn_ltree[26])return H;for(b=32;P>b;b++)if(0!==a.dyn_ltree[2*b])return H;return G}function z(a){pb||(m(),pb=!0),a.l_desc=new ob(a.dyn_ltree,kb),a.d_desc=new ob(a.dyn_dtree,lb),a.bl_desc=new ob(a.bl_tree,mb),a.bi_buf=0,a.bi_valid=0,n(a)}function A(a,b,c,d){g(a,(J<<1)+(d?1:0),3),p(a,b,c,!0)}function B(a){g(a,K<<1,3),h(a,X,eb),j(a)}function C(a,b,c,d){var e,f,h=0;a.level>0?(a.strm.data_type===I&&(a.strm.data_type=y(a)),t(a,a.l_desc),t(a,a.d_desc),h=w(a),e=a.opt_len+3+7>>>3,f=a.static_len+3+7>>>3,e>=f&&(e=f)):e=f=c+5,e>=c+4&&-1!==b?A(a,b,c,d):a.strategy===F||f===e?(g(a,(K<<1)+(d?1:0),3),s(a,eb,fb)):(g(a,(L<<1)+(d?1:0),3),x(a,a.l_desc.max_code+1,a.d_desc.max_code+1,h+1),s(a,a.dyn_ltree,a.dyn_dtree)),n(a),d&&o(a)}function D(a,b,c){return a.pending_buf[a.d_buf+2*a.last_lit]=b>>>8&255,a.pending_buf[a.d_buf+2*a.last_lit+1]=255&b,a.pending_buf[a.l_buf+a.last_lit]=255&c,a.last_lit++,0===b?a.dyn_ltree[2*c]++:(a.matches++,b--,a.dyn_ltree[2*(hb[c]+P+1)]++,a.dyn_dtree[2*e(b)]++),a.last_lit===a.lit_bufsize-1}var E=a(\"../utils/common\"),F=4,G=0,H=1,I=2,J=0,K=1,L=2,M=3,N=258,O=29,P=256,Q=P+1+O,R=30,S=19,T=2*Q+1,U=15,V=16,W=7,X=256,Y=16,Z=17,$=18,_=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ab=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],bb=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],cb=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],db=512,eb=new Array(2*(Q+2));d(eb);var fb=new Array(2*R);d(fb);var gb=new Array(db);d(gb);var hb=new Array(N-M+1);d(hb);var ib=new Array(O);d(ib);var jb=new Array(R);d(jb);var kb,lb,mb,nb=function(a,b,c,d,e){this.static_tree=a,this.extra_bits=b,this.extra_base=c,this.elems=d,this.max_length=e,this.has_stree=a&&a.length},ob=function(a,b){this.dyn_tree=a,this.max_code=0,this.stat_desc=b},pb=!1;c._tr_init=z,c._tr_stored_block=A,c._tr_flush_block=C,c._tr_tally=D,c._tr_align=B},{\"../utils/common\":27}],39:[function(a,b){\"use strict\";function c(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=\"\",this.state=null,this.data_type=2,this.adler=0}b.exports=c},{}]},{},[9])(9)});","var paper=function(a,b){a=a||require(\"./node/window.js\");var c=a.window,d=a.document,e=new function(){function l(b,c,d,e,h){function j(a,j){j=j||(j=f(c,a))&&(j.get?j:j.value),\"string\"==typeof j&&\"#\"===j[0]&&(j=b[j.substring(1)]||j);var o,k=\"function\"==typeof j,l=j,n=h||k&&!j.base?j&&j.get?a in b:b[a]:null;h&&n||(k&&n&&(j.base=n),k&&e!==!1&&(o=a.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(i[o[3].toLowerCase()+o[4]]=o[2]),l&&!k&&l.get&&\"function\"==typeof l.get&&m.isPlainObject(l)||(l={value:l,writable:!0}),(f(b,a)||{configurable:!0}).configurable&&(l.configurable=!0,l.enumerable=d),g(b,a,l))}var i={};if(c){for(var k in c)c.hasOwnProperty(k)&&!a.test(k)&&j(k);for(var k in i){var l=i[k],n=b[\"set\"+l],o=b[\"get\"+l]||n&&b[\"is\"+l];!o||e!==!0&&0!==o.length||j(k,{get:o,set:n})}}return b}function m(){for(var a=0,b=arguments.length;a<b;a++){var c=arguments[a];c&&j(this,c)}return this}var a=/^(statics|enumerable|beans|preserve)$/,c=[],d=c.slice,e=Object.create,f=Object.getOwnPropertyDescriptor,g=Object.defineProperty,h=c.forEach||function(a,b){for(var c=0,d=this.length;c<d;c++)a.call(b,this[c],c,this)},i=function(a,b){for(var c in this)this.hasOwnProperty(c)&&a.call(b,this[c],c,this)},j=Object.assign||function(a){for(var b=1,c=arguments.length;b<c;b++){var d=arguments[b];for(var e in d)d.hasOwnProperty(e)&&(a[e]=d[e])}return a},k=function(a,b,c){if(a){var d=f(a,\"length\");(d&&\"number\"==typeof d.value?h:i).call(a,b,c=c||a)}return c};return l(m,{inject:function(a){if(a){var b=a.statics===!0?a:a.statics,c=a.beans,d=a.preserve;b!==a&&l(this.prototype,a,a.enumerable,c,d),l(this,b,!0,c,d)}for(var e=1,f=arguments.length;e<f;e++)this.inject(arguments[e]);return this},extend:function(){for(var b,c,f,a=this,d=0,h=arguments.length;d<h&&(!b||!c);d++)f=arguments[d],b=b||f.initialize,c=c||f.prototype;return b=b||function(){a.apply(this,arguments)},c=b.prototype=c||e(this.prototype),g(c,\"constructor\",{value:b,writable:!0,configurable:!0}),l(b,this,!0),arguments.length&&this.inject.apply(b,arguments),b.base=a,b}},!0).inject({initialize:m,set:m,inject:function(){for(var a=0,b=arguments.length;a<b;a++){var c=arguments[a];c&&l(this,c,c.enumerable,c.beans,c.preserve)}return this},extend:function(){var a=e(this);return a.inject.apply(a,arguments)},each:function(a,b){return k(this,a,b)},clone:function(){return new this.constructor(this)},statics:{set:j,each:k,create:e,define:g,describe:f,clone:function(a){return j(new a.constructor,a)},isPlainObject:function(a){var b=null!=a&&a.constructor;return b&&(b===Object||b===m||\"Object\"===b.name)},pick:function(a,c){return a!==b?a:c},slice:function(a,b,c){return d.call(a,b,c)}}})};\"undefined\"!=typeof module&&(module.exports=e),e.inject({toString:function(){return null!=this._id?(this._class||\"Object\")+(this._name?\" '\"+this._name+\"'\":\" @\"+this._id):\"{ \"+e.each(this,function(a,b){if(!/^_/.test(b)){var c=typeof a;this.push(b+\": \"+(\"number\"===c?i.instance.number(a):\"string\"===c?\"'\"+a+\"'\":a))}},[]).join(\", \")+\" }\"},getClassName:function(){return this._class||\"\"},importJSON:function(a){return e.importJSON(a,this)},exportJSON:function(a){return e.exportJSON(this,a)},toJSON:function(){return e.serialize(this)},set:function(a,b){return a&&e.filter(this,a,b,this._prioritize),this},statics:{exports:{enumerable:!0},extend:function a(){var b=a.base.apply(this,arguments),c=b.prototype._class;return c&&!e.exports[c]&&(e.exports[c]=b),b},equals:function(a,b){if(a===b)return!0;if(a&&a.equals)return a.equals(b);if(b&&b.equals)return b.equals(a);if(a&&b&&\"object\"==typeof a&&\"object\"==typeof b){if(Array.isArray(a)&&Array.isArray(b)){var c=a.length;if(c!==b.length)return!1;for(;c--;)if(!e.equals(a[c],b[c]))return!1}else{var d=Object.keys(a),c=d.length;if(c!==Object.keys(b).length)return!1;for(;c--;){var f=d[c];if(!b.hasOwnProperty(f)||!e.equals(a[f],b[f]))return!1}}return!0}return!1},read:function(a,c,d,f){if(this===e){var g=this.peek(a,c);return a.__index++,g}var h=this.prototype,i=h._readIndex,j=c||i&&a.__index||0,k=a.length,l=a[j];return f=f||k-j,l instanceof this||d&&d.readNull&&null==l&&f<=1?(i&&(a.__index=j+1),l&&d&&d.clone?l.clone():l):(l=e.create(h),i&&(l.__read=!0),l=l.initialize.apply(l,j>0||j+f<k?e.slice(a,j,j+f):a)||l,i&&(a.__index=j+l.__read,l.__read=b),l)},peek:function(a,b){return a[a.__index=b||a.__index||0]},remain:function(a){return a.length-(a.__index||0)},readList:function(a,b,c,d){for(var f,e=[],g=b||0,h=d?g+d:a.length,i=g;i<h;i++)e.push(Array.isArray(f=a[i])?this.read(f,0,c):this.read(a,i,c,1));return e},readNamed:function(a,c,d,f,g){var h=this.getNamed(a,c),i=h!==b;if(i){var j=a._filtered;j||(j=a._filtered=e.create(a[0]),j._unfiltered=a[0]),j[c]=b}return this.read(i?[h]:a,d,f,g)},getNamed:function(a,c){var d=a[0];if(a._hasObject===b&&(a._hasObject=1===a.length&&e.isPlainObject(d)),a._hasObject)return c?d[c]:a._filtered||d},hasNamed:function(a,b){return!!this.getNamed(a,b)},filter:function(a,c,d,e){function g(e){if(!(d&&e in d||f&&e in f)){var g=c[e];g!==b&&(a[e]=g)}}var f;if(e){for(var j,h={},i=0,k=e.length;i<k;i++)(j=e[i])in c&&(g(j),h[j]=!0);f=h}return Object.keys(c._unfiltered||c).forEach(g),a},isPlainValue:function(a,b){return e.isPlainObject(a)||Array.isArray(a)||b&&\"string\"==typeof a},serialize:function(a,b,c,d){b=b||{};var g,f=!d;if(f&&(b.formatter=new i(b.precision),d={length:0,definitions:{},references:{},add:function(a,b){var c=\"#\"+a._id,d=this.references[c];if(!d){this.length++;var e=b.call(a),f=a._class;f&&e[0]!==f&&e.unshift(f),this.definitions[c]=e,d=this.references[c]=[c]}return d}}),a&&a._serialize){g=a._serialize(b,d);var h=a._class;!h||a._compactSerialize||!f&&c||g[0]===h||g.unshift(h)}else if(Array.isArray(a)){g=[];for(var j=0,k=a.length;j<k;j++)g[j]=e.serialize(a[j],b,c,d)}else if(e.isPlainObject(a)){g={};for(var l=Object.keys(a),j=0,k=l.length;j<k;j++){var m=l[j];g[m]=e.serialize(a[m],b,c,d)}}else g=\"number\"==typeof a?b.formatter.number(a,b.precision):a;return f&&d.length>0?[[\"dictionary\",d.definitions],g]:g},deserialize:function(a,b,c,d,f){var g=a,h=!c,i=h&&a&&a.length&&\"dictionary\"===a[0][0];if(c=c||{},Array.isArray(a)){var j=a[0],k=\"dictionary\"===j;if(1==a.length&&/^#/.test(j))return c.dictionary[j];j=e.exports[j],g=[];for(var l=j?1:0,m=a.length;l<m;l++)g.push(e.deserialize(a[l],b,c,k,i));if(j){var n=g;b?g=b(j,n,h||f):(g=e.create(j.prototype),j.apply(g,n))}}else if(e.isPlainObject(a)){g={},d&&(c.dictionary=g);for(var o in a)g[o]=e.deserialize(a[o],b,c)}return i?g[1]:g},exportJSON:function(a,b){var c=e.serialize(a,b);return b&&b.asString===!1?c:JSON.stringify(c)},importJSON:function(a,b){return e.deserialize(\"string\"==typeof a?JSON.parse(a):a,function(a,c,d){var f=d&&b&&b.constructor===a,g=f?b:e.create(a.prototype);if(1===c.length&&g instanceof u&&(f||!(g instanceof w))){var h=c[0];e.isPlainObject(h)&&(h.insert=!1)}return(f?g.set:a).apply(g,c),f&&(b=null),g})},splice:function(a,c,d,e){var f=c&&c.length,g=d===b;d=g?a.length:d,d>a.length&&(d=a.length);for(var h=0;h<f;h++)c[h]._index=d+h;if(g)return a.push.apply(a,c),[];var i=[d,e];c&&i.push.apply(i,c);for(var j=a.splice.apply(a,i),h=0,k=j.length;h<k;h++)j[h]._index=b;for(var h=d+f,k=a.length;h<k;h++)a[h]._index=h;return j},capitalize:function(a){return a.replace(/\\b[a-z]/g,function(a){return a.toUpperCase()})},camelize:function(a){return a.replace(/-(.)/g,function(a,b){return b.toUpperCase()})},hyphenate:function(a){return a.replace(/([a-z])([A-Z])/g,\"$1-$2\").toLowerCase()}}});var f={on:function(a,b){if(\"string\"!=typeof a)e.each(a,function(a,b){this.on(b,a)},this);else{var c=this._eventTypes,d=c&&c[a],f=this._callbacks=this._callbacks||{};f=f[a]=f[a]||[],f.indexOf(b)===-1&&(f.push(b),d&&d.install&&1===f.length&&d.install.call(this,a))}return this},off:function(a,b){if(\"string\"!=typeof a)return void e.each(a,function(a,b){this.off(b,a)},this);var g,c=this._eventTypes,d=c&&c[a],f=this._callbacks&&this._callbacks[a];return f&&(!b||(g=f.indexOf(b))!==-1&&1===f.length?(d&&d.uninstall&&d.uninstall.call(this,a),delete this._callbacks[a]):g!==-1&&f.splice(g,1)),this},once:function(a,b){return this.on(a,function(){b.apply(this,arguments),this.off(a,b)})},emit:function(a,b){var c=this._callbacks&&this._callbacks[a];if(!c)return!1;var d=e.slice(arguments,1),f=b&&b.target&&!b.currentTarget;c=c.slice(),f&&(b.currentTarget=this);for(var g=0,h=c.length;g<h;g++)if(c[g].apply(this,d)===!1){b&&b.stop&&b.stop();break}return f&&delete b.currentTarget,!0},responds:function(a){return!(!this._callbacks||!this._callbacks[a])},attach:\"#on\",detach:\"#off\",fire:\"#emit\",_installEvents:function(a){var b=this._eventTypes,c=this._callbacks,d=a?\"install\":\"uninstall\";if(b)for(var e in c)if(c[e].length>0){var f=b[e],g=f&&f[d];g&&g.call(this,e)}},statics:{inject:function a(b){var c=b._events;if(c){var d={};e.each(c,function(a,c){var f=\"string\"==typeof a,g=f?a:c,h=e.capitalize(g),i=g.substring(2).toLowerCase();d[i]=f?{}:a,g=\"_\"+g,b[\"get\"+h]=function(){return this[g]},b[\"set\"+h]=function(a){var b=this[g];b&&this.off(i,b),a&&this.on(i,a),this[g]=a}}),b._eventTypes=d}return a.base.apply(this,arguments)}}},g=e.extend({_class:\"PaperScope\",initialize:function b(){paper=this,this.settings=new e({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this.palettes=[],this._id=b._id++,b._scopes[this._id]=this;var c=b.prototype;if(!this.support){var d=aa.getContext(1,1)||{};c.support={nativeDash:\"setLineDash\"in d||\"mozDash\"in d,nativeBlendModes:ba.nativeModes},aa.release(d)}if(!this.agent){var f=a.navigator.userAgent.toLowerCase(),g=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(f)||[])[0],h=\"darwin\"===g?\"mac\":g,i=c.agent=c.browser={platform:h};h&&(i[h]=!0),f.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node)\\/?\\s*([.\\d]+)(?:.*version\\/([.\\d]+))?(?:.*rv\\:v?([.\\d]+))?/g,function(a,b,c,d,e){if(!i.chrome){var f=\"opera\"===b?d:/^(node|trident)$/.test(b)?e:c;i.version=f,i.versionNumber=parseFloat(f),b=\"trident\"===b?\"msie\":b,i.name=b,i[b]=!0}}),i.chrome&&delete i.webkit,i.atom&&delete i.chrome}},version:\"0.10.2-develop\",getView:function(){var a=this.project;return a&&a._view},getPaper:function(){return this},execute:function(a,b){paper.PaperScript.execute(a,this,b),T.updateFocus()},install:function(a){var b=this;e.each([\"project\",\"view\",\"tool\"],function(c){e.define(a,c,{configurable:!0,get:function(){return b[c]}})});for(var c in this)!/^_/.test(c)&&this[c]&&(a[c]=this[c])},setup:function(a){return paper=this,this.project=new t(a),this},createCanvas:function(a,b){return aa.getCanvas(a,b)},activate:function(){paper=this},clear:function(){for(var a=this.projects,b=this.tools,c=this.palettes,d=a.length-1;d>=0;d--)a[d].remove();for(var d=b.length-1;d>=0;d--)b[d].remove();for(var d=c.length-1;d>=0;d--)c[d].remove()},remove:function(){this.clear(),delete g._scopes[this._id]},statics:new function(){function a(a){return a+=\"Attribute\",function(b,c){return b[a](c)||b[a](\"data-paper-\"+c)}}return{_scopes:{},_id:0,get:function(a){return this._scopes[a]||null},getAttribute:a(\"get\"),hasAttribute:a(\"has\")}}}),h=e.extend(f,{initialize:function(a){this._scope=paper,this._index=this._scope[this._list].push(this)-1,!a&&this._scope[this._reference]||this.activate()},activate:function(){if(!this._scope)return!1;var a=this._scope[this._reference];return a&&a!==this&&a.emit(\"deactivate\"),this._scope[this._reference]=this,this.emit(\"activate\",a),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return null!=this._index&&(e.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),i=e.extend({initialize:function(a){this.precision=e.pick(a,5),this.multiplier=Math.pow(10,this.precision)},number:function(a){return this.precision<16?Math.round(a*this.multiplier)/this.multiplier:a},pair:function(a,b,c){return this.number(a)+(c||\",\")+this.number(b)},point:function(a,b){return this.number(a.x)+(b||\",\")+this.number(a.y)},size:function(a,b){return this.number(a.width)+(b||\",\")+this.number(a.height)},rectangle:function(a,b){return this.point(a,b)+(b||\",\")+this.size(a,b)}});i.instance=new i;var j=new function(){function i(a,b,c){return a<b?b:a>c?c:a}function k(a,b,d){function e(a){var b=134217729*a,c=a-b,d=c+b,e=a-d;return[d,e]}var f=b*b-a*d,g=b*b+a*d;if(3*c(f)<g){var h=e(a),i=e(b),j=e(d),k=b*b,l=i[0]*i[0]-k+2*i[0]*i[1]+i[1]*i[1],m=a*d,n=h[0]*j[0]-m+h[0]*j[1]+h[1]*j[0]+h[1]*j[1];f=k-m+(l-n)}return f}function l(){var a=Math.max.apply(Math,arguments);return a&&(a<1e-8||a>1e8)?e(2,-Math.round(f(a))):0}var a=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],b=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],c=Math.abs,d=Math.sqrt,e=Math.pow,f=Math.log2||function(a){return Math.log(a)*Math.LOG2E},g=1e-12,h=1.12e-16;return{TOLERANCE:1e-6,EPSILON:g,MACHINE_EPSILON:h,CURVETIME_EPSILON:4e-7,GEOMETRIC_EPSILON:1e-7,WINDING_EPSILON:1e-8,TRIGONOMETRIC_EPSILON:1e-8,CLIPPING_EPSILON:1e-10,KAPPA:4*(d(2)-1)/3,isZero:function(a){return a>=-g&&a<=g},clamp:i,integrate:function(c,d,e,f){for(var g=a[f-2],h=b[f-2],i=.5*(e-d),j=i+d,k=0,l=f+1>>1,m=1&f?h[k++]*c(j):0;k<l;){var n=i*g[k];m+=h[k++]*(c(j+n)+c(j-n))}return i*m},findRoot:function(a,b,d,e,f,g,h){for(var j=0;j<g;j++){var k=a(d),l=k/b(d),m=d-l;if(c(l)<h){d=m;break}k>0?(f=d,d=m<=e?.5*(e+f):m):(e=d,d=m>=f?.5*(e+f):m)}return i(d,e,f)},solveQuadratic:function(a,b,e,f,j,m){var n,o=1/0;if(c(a)<g){if(c(b)<g)return c(e)<g?-1:0;n=-e/b}else{b*=-.5;var p=k(a,b,e);if(p&&c(p)<h){var q=l(c(a),c(b),c(e));q&&(a*=q,b*=q,e*=q,p=k(a,b,e))}if(p>=-h){var r=p<0?0:d(p),s=b+(b<0?-r:r);0===s?(n=e/a,o=-n):(n=s/a,o=e/s)}}var t=0,u=null==j,v=j-g,w=m+g;return isFinite(n)&&(u||n>v&&n<w)&&(f[t++]=u?n:i(n,j,m)),o!==n&&isFinite(o)&&(u||o>v&&o<w)&&(f[t++]=u?o:i(o,j,m)),t},solveCubic:function(a,b,f,k,m,n,o){function v(c){q=c;var d=a*q;r=d+b,s=r*q+f,t=(d+r)*q+s,u=s*q+k}var q,r,s,t,u,p=l(c(a),c(b),c(f),c(k));if(p&&(a*=p,b*=p,f*=p,k*=p),c(a)<g)a=b,r=f,s=k,q=1/0;else if(c(k)<g)r=b,s=f,q=0;else{v(-(b/a)/3);var w=u/a,x=e(c(w),1/3),y=w<0?-1:1,z=-t/a,A=z>0?1.324717957244746*Math.max(x,d(z)):x,B=q-y*A;if(B!==q){do v(B),B=0===t?q:q-u/t/(1+h);while(y*B>y*q);c(a)*q*q>c(k/q)&&(s=-k/q,r=(s-f)/q)}}var C=j.solveQuadratic(a,r,s,m,n,o),D=null==n;return isFinite(q)&&(0===C||C>0&&q!==m[0]&&q!==m[1])&&(D||q>n-g&&q<o+g)&&(m[C++]=D?q:i(q,n,o)),C}}},k={_id:1,_pools:{},get:function(a){if(a){var b=this._pools[a];return b||(b=this._pools[a]={_id:1}),b._id++}return this._id++}},l=e.extend({_class:\"Point\",_readIndex:!0,initialize:function(b,c){var d=typeof b,e=this.__read,f=0;if(\"number\"===d){var g=\"number\"==typeof c;this._set(b,g?c:b),e&&(f=g?2:1)}else if(\"undefined\"===d||null===b)this._set(0,0),e&&(f=null===b?1:0);else{var h=\"string\"===d?b.split(/[\\s,]+/)||[]:b;f=1,Array.isArray(h)?this._set(+h[0],+(h.length>1?h[1]:h[0])):\"x\"in h?this._set(h.x||0,h.y||0):\"width\"in h?this._set(h.width||0,h.height||0):\"angle\"in h?(this._set(h.length||0,0),this.setAngle(h.angle||0)):(this._set(0,0),f=0)}return e&&(this.__read=f),this},set:\"#initialize\",_set:function(a,b){return this.x=a,this.y=b,this},equals:function(a){return this===a||a&&(this.x===a.x&&this.y===a.y||Array.isArray(a)&&this.x===a[0]&&this.y===a[1])||!1},clone:function(){return new l(this.x,this.y)},toString:function(){var a=i.instance;return\"{ x: \"+a.number(this.x)+\", y: \"+a.number(this.y)+\" }\"},_serialize:function(a){var b=a.formatter;return[b.number(this.x),b.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(a){if(this.isZero()){var b=this._angle||0;this._set(Math.cos(b)*a,Math.sin(b)*a)}else{var c=a/this.getLength();j.isZero(c)&&this.getAngle(),this._set(this.x*c,this.y*c)}},getAngle:function(){return 180*this.getAngleInRadians.apply(this,arguments)/Math.PI},setAngle:function(a){this.setAngleInRadians.call(this,a*Math.PI/180)},getAngleInDegrees:\"#getAngle\",setAngleInDegrees:\"#setAngle\",getAngleInRadians:function(){if(arguments.length){var a=l.read(arguments),b=this.getLength()*a.getLength();if(j.isZero(b))return NaN;var c=this.dot(a)/b;return Math.acos(c<-1?-1:c>1?1:c)}return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(a){if(this._angle=a,!this.isZero()){var b=this.getLength();this._set(Math.cos(a)*b,Math.sin(a)*b)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var a=l.read(arguments);return 180*Math.atan2(this.cross(a),this.dot(a))/Math.PI},getDistance:function(){var a=l.read(arguments),b=a.x-this.x,c=a.y-this.y,d=b*b+c*c,f=e.read(arguments);return f?d:Math.sqrt(d)},normalize:function(a){a===b&&(a=1);var c=this.getLength(),d=0!==c?a/c:0,e=new l(this.x*d,this.y*d);return d>=0&&(e._angle=this._angle),e},rotate:function(a,b){if(0===a)return this.clone();a=a*Math.PI/180;var c=b?this.subtract(b):this,d=Math.sin(a),e=Math.cos(a);return c=new l(c.x*e-c.y*d,c.x*d+c.y*e),b?c.add(b):c},transform:function(a){return a?a._transformPoint(this):this},add:function(){var a=l.read(arguments);return new l(this.x+a.x,this.y+a.y)},subtract:function(){var a=l.read(arguments);return new l(this.x-a.x,this.y-a.y)},multiply:function(){var a=l.read(arguments);return new l(this.x*a.x,this.y*a.y)},divide:function(){var a=l.read(arguments);return new l(this.x/a.x,this.y/a.y)},modulo:function(){var a=l.read(arguments);return new l(this.x%a.x,this.y%a.y)},negate:function(){return new l(-this.x,-this.y)},isInside:function(){return p.read(arguments).contains(this)},isClose:function(){var a=l.read(arguments),b=e.read(arguments);return this.getDistance(a)<=b},isCollinear:function(){var a=l.read(arguments);return l.isCollinear(this.x,this.y,a.x,a.y)},isColinear:\"#isCollinear\",isOrthogonal:function(){var a=l.read(arguments);return l.isOrthogonal(this.x,this.y,a.x,a.y)},isZero:function(){return j.isZero(this.x)&&j.isZero(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(a){return this.x*(a>1&&a<4?-1:1)>=0&&this.y*(a>2?-1:1)>=0},dot:function(){var a=l.read(arguments);return this.x*a.x+this.y*a.y},cross:function(){var a=l.read(arguments);return this.x*a.y-this.y*a.x},project:function(){var a=l.read(arguments),b=a.isZero()?0:this.dot(a)/a.dot(a);return new l(a.x*b,a.y*b)},statics:{min:function(){var a=l.read(arguments),b=l.read(arguments);return new l(Math.min(a.x,b.x),Math.min(a.y,b.y))},max:function(){var a=l.read(arguments),b=l.read(arguments);return new l(Math.max(a.x,b.x),Math.max(a.y,b.y))},random:function(){return new l(Math.random(),Math.random())},isCollinear:function(a,b,c,d){return Math.abs(a*d-b*c)<=1e-8*Math.sqrt((a*a+b*b)*(c*c+d*d))},isOrthogonal:function(a,b,c,d){return Math.abs(a*c+b*d)<=1e-8*Math.sqrt((a*a+b*b)*(c*c+d*d))}}},e.each([\"round\",\"ceil\",\"floor\",\"abs\"],function(a){var b=Math[a];this[a]=function(){return new l(b(this.x),b(this.y))}},{})),m=l.extend({initialize:function(b,c,d,e){this._x=b,this._y=c,this._owner=d,this._setter=e},_set:function(a,b,c){return this._x=a,this._y=b,c||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(a){this._x=a,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(a){this._y=a,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(a){this._owner.changeSelection(this._getSelection(),a)},_getSelection:function(){return\"setPosition\"===this._setter?4:0}}),n=e.extend({_class:\"Size\",_readIndex:!0,initialize:function(b,c){var d=typeof b,e=this.__read,f=0;if(\"number\"===d){var g=\"number\"==typeof c;this._set(b,g?c:b),e&&(f=g?2:1)}else if(\"undefined\"===d||null===b)this._set(0,0),e&&(f=null===b?1:0);else{var h=\"string\"===d?b.split(/[\\s,]+/)||[]:b;f=1,Array.isArray(h)?this._set(+h[0],+(h.length>1?h[1]:h[0])):\"width\"in h?this._set(h.width||0,h.height||0):\"x\"in h?this._set(h.x||0,h.y||0):(this._set(0,0),f=0)}return e&&(this.__read=f),this},set:\"#initialize\",_set:function(a,b){return this.width=a,this.height=b,this},equals:function(a){return a===this||a&&(this.width===a.width&&this.height===a.height||Array.isArray(a)&&this.width===a[0]&&this.height===a[1])||!1},clone:function(){return new n(this.width,this.height)},toString:function(){var a=i.instance;return\"{ width: \"+a.number(this.width)+\", height: \"+a.number(this.height)+\" }\"},_serialize:function(a){var b=a.formatter;return[b.number(this.width),b.number(this.height)]},add:function(){var a=n.read(arguments);return new n(this.width+a.width,this.height+a.height)},subtract:function(){var a=n.read(arguments);return new n(this.width-a.width,this.height-a.height)},multiply:function(){var a=n.read(arguments);return new n(this.width*a.width,this.height*a.height)},divide:function(){var a=n.read(arguments);return new n(this.width/a.width,this.height/a.height)},modulo:function(){var a=n.read(arguments);return new n(this.width%a.width,this.height%a.height)},negate:function(){return new n(-this.width,-this.height)},isZero:function(){return j.isZero(this.width)&&j.isZero(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(a,b){return new n(Math.min(a.width,b.width),Math.min(a.height,b.height))},max:function(a,b){return new n(Math.max(a.width,b.width),Math.max(a.height,b.height))},random:function(){return new n(Math.random(),Math.random())}}},e.each([\"round\",\"ceil\",\"floor\",\"abs\"],function(a){var b=Math[a];this[a]=function(){return new n(b(this.width),b(this.height))}},{})),o=n.extend({initialize:function(b,c,d,e){this._width=b,this._height=c,this._owner=d,this._setter=e},_set:function(a,b,c){return this._width=a,this._height=b,c||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(a){this._width=a,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(a){this._height=a,this._owner[this._setter](this)}}),p=e.extend({_class:\"Rectangle\",_readIndex:!0,beans:!0,initialize:function(c,d,f,g){var i,h=typeof c;if(\"number\"===h?(this._set(c,d,f,g),i=4):\"undefined\"===h||null===c?(this._set(0,0,0,0),i=null===c?1:0):1===arguments.length&&(Array.isArray(c)?(this._set.apply(this,c),i=1):c.x!==b||c.width!==b?(this._set(c.x||0,c.y||0,c.width||0,c.height||0),i=1):c.from===b&&c.to===b&&(this._set(0,0,0,0),e.filter(this,c),i=1)),i===b){var p,q,j=l.readNamed(arguments,\"from\"),k=e.peek(arguments),m=j.x,o=j.y;if(k&&k.x!==b||e.hasNamed(arguments,\"to\")){var r=l.readNamed(arguments,\"to\");p=r.x-m,q=r.y-o,p<0&&(m=r.x,p=-p),q<0&&(o=r.y,q=-q)}else{var s=n.read(arguments);p=s.width,q=s.height}this._set(m,o,p,q),i=arguments.__index}return this.__read&&(this.__read=i),this},set:\"#initialize\",_set:function(a,b,c,d){return this.x=a,this.y=b,this.width=c,this.height=d,this},clone:function(){return new p(this.x,this.y,this.width,this.height)},equals:function(a){var b=e.isPlainValue(a)?p.read(arguments):a;return b===this||b&&this.x===b.x&&this.y===b.y&&this.width===b.width&&this.height===b.height||!1},toString:function(){var a=i.instance;return\"{ x: \"+a.number(this.x)+\", y: \"+a.number(this.y)+\", width: \"+a.number(this.width)+\", height: \"+a.number(this.height)+\" }\"},_serialize:function(a){var b=a.formatter;return[b.number(this.x),b.number(this.y),b.number(this.width),b.number(this.height)]},getPoint:function(a){var b=a?l:m;return new b(this.x,this.y,this,\"setPoint\")},setPoint:function(){var a=l.read(arguments);this.x=a.x,this.y=a.y},getSize:function(a){var b=a?n:o;return new b(this.width,this.height,this,\"setSize\")},setSize:function(){var a=n.read(arguments);this._fixX&&(this.x+=(this.width-a.width)*this._fixX),this._fixY&&(this.y+=(this.height-a.height)*this._fixY),this.width=a.width,this.height=a.height,this._fixW=1,this._fixH=1},getLeft:function(){return this.x},setLeft:function(a){this._fixW||(this.width-=a-this.x),this.x=a,this._fixX=0},getTop:function(){return this.y},setTop:function(a){this._fixH||(this.height-=a-this.y),this.y=a,this._fixY=0},getRight:function(){return this.x+this.width},setRight:function(a){this._fixX!==b&&1!==this._fixX&&(this._fixW=0),this._fixW?this.x=a-this.width:this.width=a-this.x,this._fixX=1},getBottom:function(){return this.y+this.height},setBottom:function(a){this._fixY!==b&&1!==this._fixY&&(this._fixH=0),this._fixH?this.y=a-this.height:this.height=a-this.y,this._fixY=1},getCenterX:function(){return this.x+.5*this.width},setCenterX:function(a){this.x=a-.5*this.width,this._fixX=.5},getCenterY:function(){return this.y+.5*this.height},setCenterY:function(a){this.y=a-.5*this.height,this._fixY=.5},getCenter:function(a){var b=a?l:m;return new b(this.getCenterX(),this.getCenterY(),this,\"setCenter\")},setCenter:function(){var a=l.read(arguments);return this.setCenterX(a.x),this.setCenterY(a.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return 0===this.width||0===this.height},contains:function(a){return a&&a.width!==b||4===(Array.isArray(a)?a:arguments).length?this._containsRectangle(p.read(arguments)):this._containsPoint(l.read(arguments))},_containsPoint:function(a){var b=a.x,c=a.y;return b>=this.x&&c>=this.y&&b<=this.x+this.width&&c<=this.y+this.height},_containsRectangle:function(a){var b=a.x,c=a.y;return b>=this.x&&c>=this.y&&b+a.width<=this.x+this.width&&c+a.height<=this.y+this.height},intersects:function(){var a=p.read(arguments);return a.x+a.width>this.x&&a.y+a.height>this.y&&a.x<this.x+this.width&&a.y<this.y+this.height},touches:function(){var a=p.read(arguments);return a.x+a.width>=this.x&&a.y+a.height>=this.y&&a.x<=this.x+this.width&&a.y<=this.y+this.height},intersect:function(){var a=p.read(arguments),b=Math.max(this.x,a.x),c=Math.max(this.y,a.y),d=Math.min(this.x+this.width,a.x+a.width),e=Math.min(this.y+this.height,a.y+a.height);return new p(b,c,d-b,e-c)},unite:function(){var a=p.read(arguments),b=Math.min(this.x,a.x),c=Math.min(this.y,a.y),d=Math.max(this.x+this.width,a.x+a.width),e=Math.max(this.y+this.height,a.y+a.height);return new p(b,c,d-b,e-c)},include:function(){var a=l.read(arguments),b=Math.min(this.x,a.x),c=Math.min(this.y,a.y),d=Math.max(this.x+this.width,a.x),e=Math.max(this.y+this.height,a.y);return new p(b,c,d-b,e-c)},expand:function(){var a=n.read(arguments),b=a.width,c=a.height;return new p(this.x-b/2,this.y-c/2,this.width+b,this.height+c)},scale:function(a,c){return this.expand(this.width*a-this.width,this.height*(c===b?a:c)-this.height)}},e.each([[\"Top\",\"Left\"],[\"Top\",\"Right\"],[\"Bottom\",\"Left\"],[\"Bottom\",\"Right\"],[\"Left\",\"Center\"],[\"Top\",\"Center\"],[\"Right\",\"Center\"],[\"Bottom\",\"Center\"]],function(a,b){var c=a.join(\"\"),d=/^[RL]/.test(c);b>=4&&(a[1]+=d?\"Y\":\"X\");var e=a[d?0:1],f=a[d?1:0],g=\"get\"+e,h=\"get\"+f,i=\"set\"+e,j=\"set\"+f,k=\"get\"+c,n=\"set\"+c;this[k]=function(a){var b=a?l:m;return new b(this[g](),this[h](),this,n)},this[n]=function(){var a=l.read(arguments);this[i](a.x),this[j](a.y)}},{beans:!0})),q=p.extend({initialize:function(b,c,d,e,f,g){this._set(b,c,d,e,!0),this._owner=f,this._setter=g},_set:function(a,b,c,d,e){return this._x=a,this._y=b,this._width=c,this._height=d,e||this._owner[this._setter](this),this}},new function(){var a=p.prototype;return e.each([\"x\",\"y\",\"width\",\"height\"],function(a){var b=e.capitalize(a),c=\"_\"+a;this[\"get\"+b]=function(){return this[c]},this[\"set\"+b]=function(a){this[c]=a,this._dontNotify||this._owner[this._setter](this)}},e.each([\"Point\",\"Size\",\"Center\",\"Left\",\"Top\",\"Right\",\"Bottom\",\"CenterX\",\"CenterY\",\"TopLeft\",\"TopRight\",\"BottomLeft\",\"BottomRight\",\"LeftCenter\",\"TopCenter\",\"RightCenter\",\"BottomCenter\"],function(b){var c=\"set\"+b;this[c]=function(){this._dontNotify=!0,a[c].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(2&this._owner._selection)},setSelected:function(a){var b=this._owner;b.changeSelection&&b.changeSelection(2,a)}}))}),r=e.extend({_class:\"Matrix\",initialize:function a(b,c){var d=arguments.length,e=!0;if(d>=6?this._set.apply(this,arguments):1===d||2===d?b instanceof a?this._set(b._a,b._b,b._c,b._d,b._tx,b._ty,c):Array.isArray(b)?this._set.apply(this,c?b.concat([c]):b):e=!1:d?e=!1:this.reset(),!e)throw new Error(\"Unsupported matrix parameters\");return this},set:\"#initialize\",_set:function(a,b,c,d,e,f,g){return this._a=a,this._b=b,this._c=c,this._d=d,this._tx=e,this._ty=f,g||this._changed(),this},_serialize:function(a,b){return e.serialize(this.getValues(),a,!0,b)},_changed:function(){var a=this._owner;a&&(a._applyMatrix?a.transform(null,!0):a._changed(9))},clone:function(){return new r(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(a){return a===this||a&&this._a===a._a&&this._b===a._b&&this._c===a._c&&this._d===a._d&&this._tx===a._tx&&this._ty===a._ty},toString:function(){var a=i.instance;return\"[[\"+[a.number(this._a),a.number(this._c),a.number(this._tx)].join(\", \")+\"], [\"+[a.number(this._b),a.number(this._d),a.number(this._ty)].join(\", \")+\"]]\"},reset:function(a){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,a||this._changed(),this},apply:function(a,b){var c=this._owner;return!!c&&(c.transform(null,!0,e.pick(a,!0),b),this.isIdentity())},translate:function(){var a=l.read(arguments),b=a.x,c=a.y;return this._tx+=b*this._a+c*this._c,this._ty+=b*this._b+c*this._d,this._changed(),this},scale:function(){var a=l.read(arguments),b=l.read(arguments,0,{readNull:!0});return b&&this.translate(b),this._a*=a.x,this._b*=a.x,this._c*=a.y,this._d*=a.y,b&&this.translate(b.negate()),this._changed(),this},rotate:function(a){a*=Math.PI/180;var b=l.read(arguments,1),c=b.x,d=b.y,e=Math.cos(a),f=Math.sin(a),g=c-c*e+d*f,h=d-c*f-d*e,i=this._a,j=this._b,k=this._c,m=this._d;return this._a=e*i+f*k,\nthis._b=e*j+f*m,this._c=-f*i+e*k,this._d=-f*j+e*m,this._tx+=g*i+h*k,this._ty+=g*j+h*m,this._changed(),this},shear:function(){var a=l.read(arguments),b=l.read(arguments,0,{readNull:!0});b&&this.translate(b);var c=this._a,d=this._b;return this._a+=a.y*this._c,this._b+=a.y*this._d,this._c+=a.x*c,this._d+=a.x*d,b&&this.translate(b.negate()),this._changed(),this},skew:function(){var a=l.read(arguments),b=l.read(arguments,0,{readNull:!0}),c=Math.PI/180,d=new l(Math.tan(a.x*c),Math.tan(a.y*c));return this.shear(d,b)},append:function(a){if(a){var b=this._a,c=this._b,d=this._c,e=this._d,f=a._a,g=a._c,h=a._b,i=a._d,j=a._tx,k=a._ty;this._a=f*b+h*d,this._c=g*b+i*d,this._b=f*c+h*e,this._d=g*c+i*e,this._tx+=j*b+k*d,this._ty+=j*c+k*e,this._changed()}return this},prepend:function(a){if(a){var b=this._a,c=this._b,d=this._c,e=this._d,f=this._tx,g=this._ty,h=a._a,i=a._c,j=a._b,k=a._d,l=a._tx,m=a._ty;this._a=h*b+i*c,this._c=h*d+i*e,this._b=j*b+k*c,this._d=j*d+k*e,this._tx=h*f+i*g+l,this._ty=j*f+k*g+m,this._changed()}return this},appended:function(a){return this.clone().append(a)},prepended:function(a){return this.clone().prepend(a)},invert:function(){var a=this._a,b=this._b,c=this._c,d=this._d,e=this._tx,f=this._ty,g=a*d-b*c,h=null;return g&&!isNaN(g)&&isFinite(e)&&isFinite(f)&&(this._a=d/g,this._b=-b/g,this._c=-c/g,this._d=a/g,this._tx=(c*f-d*e)/g,this._ty=(b*e-a*f)/g,h=this),h},inverted:function(){return this.clone().invert()},concatenate:\"#append\",preConcatenate:\"#prepend\",chain:\"#appended\",_shiftless:function(){return new r(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return 1===this._a&&0===this._b&&0===this._c&&1===this._d&&0===this._tx&&0===this._ty},isInvertible:function(){var a=this._a*this._d-this._c*this._b;return a&&!isNaN(a)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(a,b,c){return arguments.length<3?this._transformPoint(l.read(arguments)):this._transformCoordinates(a,b,c)},_transformPoint:function(a,b,c){var d=a.x,e=a.y;return b||(b=new l),b._set(d*this._a+e*this._c+this._tx,d*this._b+e*this._d+this._ty,c)},_transformCoordinates:function(a,b,c){for(var d=0,e=2*c;d<e;d+=2){var f=a[d],g=a[d+1];b[d]=f*this._a+g*this._c+this._tx,b[d+1]=f*this._b+g*this._d+this._ty}return b},_transformCorners:function(a){var b=a.x,c=a.y,d=b+a.width,e=c+a.height,f=[b,c,d,c,d,e,b,e];return this._transformCoordinates(f,f,4)},_transformBounds:function(a,b,c){for(var d=this._transformCorners(a),e=d.slice(0,2),f=e.slice(),g=2;g<8;g++){var h=d[g],i=1&g;h<e[i]?e[i]=h:h>f[i]&&(f[i]=h)}return b||(b=new p),b._set(e[0],e[1],f[0]-e[0],f[1]-e[1],c)},inverseTransform:function(){return this._inverseTransform(l.read(arguments))},_inverseTransform:function(a,b,c){var d=this._a,e=this._b,f=this._c,g=this._d,h=this._tx,i=this._ty,j=d*g-e*f,k=null;if(j&&!isNaN(j)&&isFinite(h)&&isFinite(i)){var m=a.x-this._tx,n=a.y-this._ty;b||(b=new l),k=b._set((m*g-n*f)/j,(n*d-m*e)/j,c)}return k},decompose:function(){var i,j,k,a=this._a,b=this._b,c=this._c,d=this._d,e=a*d-b*c,f=Math.sqrt,g=Math.atan2,h=180/Math.PI;if(0!==a||0!==b){var m=f(a*a+b*b);i=Math.acos(a/m)*(b>0?1:-1),j=[m,e/m],k=[g(a*c+b*d,m*m),0]}else if(0!==c||0!==d){var n=f(c*c+d*d);i=Math.asin(c/n)*(d>0?1:-1),j=[e/n,n],k=[0,g(a*c+b*d,n*n)]}else i=0,k=j=[0,0];return{translation:this.getTranslation(),rotation:i*h,scaling:new l(j),skewing:new l(k[0]*h,k[1]*h)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new l(this._tx,this._ty)},getScaling:function(){return(this.decompose()||{}).scaling},getRotation:function(){return(this.decompose()||{}).rotation},applyToContext:function(a){this.isIdentity()||a.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},e.each([\"a\",\"b\",\"c\",\"d\",\"tx\",\"ty\"],function(a){var b=e.capitalize(a),c=\"_\"+a;this[\"get\"+b]=function(){return this[c]},this[\"set\"+b]=function(a){this[c]=a,this._changed()}},{})),s=e.extend({_class:\"Line\",initialize:function(b,c,d,e,f){var g=!1;arguments.length>=4?(this._px=b,this._py=c,this._vx=d,this._vy=e,g=f):(this._px=b.x,this._py=b.y,this._vx=c.x,this._vy=c.y,g=d),g||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new l(this._px,this._py)},getVector:function(){return new l(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(a,b){return s.intersect(this._px,this._py,this._vx,this._vy,a._px,a._py,a._vx,a._vy,!0,b)},getSide:function(a,b){return s.getSide(this._px,this._py,this._vx,this._vy,a.x,a.y,!0,b)},getDistance:function(a){return Math.abs(s.getSignedDistance(this._px,this._py,this._vx,this._vy,a.x,a.y,!0))},isCollinear:function(a){return l.isCollinear(this._vx,this._vy,a._vx,a._vy)},isOrthogonal:function(a){return l.isOrthogonal(this._vx,this._vy,a._vx,a._vy)},statics:{intersect:function(a,b,c,d,e,f,g,h,i,k){i||(c-=a,d-=b,g-=e,h-=f);var m=c*h-d*g;if(!j.isZero(m)){var n=a-e,o=b-f,p=(g*o-h*n)/m,q=(c*o-d*n)/m,r=1e-12,s=-r,t=1+r;if(k||s<p&&p<t&&s<q&&q<t)return k||(p=p<=0?0:p>=1?1:p),new l(a+p*c,b+p*d)}},getSide:function(a,b,c,d,e,f,g,h){g||(c-=a,d-=b);var i=e-a,j=f-b,k=i*d-j*c;return 0!==k||h||(k=(i*c+i*c)/(c*c+d*d),k>=0&&k<=1&&(k=0)),k<0?-1:k>0?1:0},getSignedDistance:function(a,b,c,d,e,f,g){return g||(c-=a,d-=b),0===c?d>0?e-a:a-e:0===d?c<0?f-b:b-f:((e-a)*d-(f-b)*c)/Math.sqrt(c*c+d*d)}}}),t=h.extend({_class:\"Project\",_list:\"projects\",_reference:\"project\",_compactSerialize:!0,initialize:function(b){h.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new Q(null,null,this),this._view=T.create(this,b||aa.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(a,b){return e.serialize(this._children,a,!0,b)},_changed:function(a,b){if(1&a){var c=this._view;c&&(c._needsUpdate=!0,!c._requested&&c._autoUpdate&&c.requestUpdate())}var d=this._changes;if(d&&b){var e=this._changesById,f=b._id,g=e[f];g?g.flags|=a:d.push(e[f]={item:b,flags:a})}},clear:function(){for(var a=this._children,b=a.length-1;b>=0;b--)a[b].remove()},isEmpty:function(){return!this._children.length},remove:function a(){return!!a.base.call(this)&&(this._view&&this._view.remove(),!0)},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(a){this._currentStyle.set(a)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new w({project:this,insert:!0})},getSymbolDefinitions:function(){var a=[],b={};return this.getItems({class:z,match:function(c){var d=c._definition,e=d._id;return b[e]||(b[e]=!0,a.push(d)),!1}}),a},getSymbols:\"getSymbolDefinitions\",getSelectedItems:function(){var a=this._selectionItems,b=[];for(var c in a){var d=a[c],e=d._selection;1&e&&d.isInserted()?b.push(d):e||this._updateSelection(d)}return b},_updateSelection:function(a){var b=a._id,c=this._selectionItems;a._selection?c[b]!==a&&(this._selectionCount++,c[b]=a):c[b]===a&&(this._selectionCount--,delete c[b])},selectAll:function(){for(var a=this._children,b=0,c=a.length;b<c;b++)a[b].setFullySelected(!0)},deselectAll:function(){var a=this._selectionItems;for(var b in a)a[b].setFullySelected(!1)},addLayer:function(a){return this.insertLayer(b,a)},insertLayer:function(a,b){if(b instanceof w){b._remove(!1,!0),e.splice(this._children,[b],a,0),b._setProject(this,!0);var c=b._name;c&&b.setName(c),this._changes&&b._changed(5),this._activeLayer||(this._activeLayer=b)}else b=null;return b},_insertItem:function(a,c,d){return c=this.insertLayer(a,c)||(this._activeLayer||this._insertItem(b,new w(u.NO_INSERT),!0)).insertChild(a,c),d&&c.activate&&c.activate(),c},getItems:function(a){return u._getItems(this,a)},getItem:function(a){return u._getItems(this,a,null,null,!0)[0]||null},importJSON:function(a){this.activate();var b=this._activeLayer;return e.importJSON(a,b&&b.isEmpty()&&b)},removeOn:function(a){var b=this._removeSets;if(b){\"mouseup\"===a&&(b.mousedrag=null);var c=b[a];if(c){for(var d in c){var e=c[d];for(var f in b){var g=b[f];g&&g!=c&&delete g[e._id]}e.remove()}b[a]=null}}},draw:function(a,b,c){this._updateVersion++,a.save(),b.applyToContext(a);for(var d=this._children,f=new e({offset:new l(0,0),pixelRatio:c,viewMatrix:b.isIdentity()?null:b,matrices:[new r],updateMatrix:!0}),g=0,h=d.length;g<h;g++)d[g].draw(a,f);if(a.restore(),this._selectionCount>0){a.save(),a.strokeWidth=1;var i=this._selectionItems,j=this._scope.settings.handleSize,k=this._updateVersion;for(var m in i)i[m]._drawSelection(a,b,j,i,k);a.restore()}}}),u=e.extend(f,{statics:{extend:function a(b){return b._serializeFields&&(b._serializeFields=e.set({},this.prototype._serializeFields,b._serializeFields)),a.base.apply(this,arguments)},NO_INSERT:{insert:!1}},_class:\"Item\",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:\"normal\",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new r,pivot:null,visible:!0,blendMode:\"normal\",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:[\"applyMatrix\"]},new function(){var a=[\"onMouseDown\",\"onMouseUp\",\"onMouseDrag\",\"onClick\",\"onDoubleClick\",\"onMouseMove\",\"onMouseEnter\",\"onMouseLeave\"];return e.each(a,function(a){this._events[a]={install:function(a){this.getView()._countItemEvent(a,1)},uninstall:function(a){this.getView()._countItemEvent(a,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:a}})},{initialize:function(){},_initialize:function(a,c){var d=a&&e.isPlainObject(a),f=d&&a.internal===!0,g=this._matrix=new r,h=d&&a.project||paper.project,i=paper.settings;return this._id=f?null:k.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&i.applyMatrix,c&&g.translate(c),g._owner=this,this._style=new Q(h._currentStyle,this,h),f||d&&a.insert===!1||!i.insertItems&&(!d||a.insert!==!0)?this._setProject(h):(d&&a.parent||h)._insertItem(b,this,!0),d&&a!==u.NO_INSERT&&this.set(a,{internal:!0,insert:!0,project:!0,parent:!0}),d},_serialize:function(a,b){function f(f){for(var g in f){var h=d[g];e.equals(h,\"leading\"===g?1.2*f.fontSize:f[g])||(c[g]=e.serialize(h,a,\"data\"!==g,b))}}var c={},d=this;return f(this._serializeFields),this instanceof v||f(this._style._defaults),[this._class,c]},_changed:function(a){var c=this._symbol,d=this._parent||c,e=this._project;8&a&&(this._bounds=this._position=this._decomposed=this._globalMatrix=b),d&&40&a&&u._clearBoundsCache(d),2&a&&u._clearBoundsCache(this),e&&e._changed(a,this),c&&c._changed(a)},getId:function(){return this._id},getName:function(){return this._name},setName:function(a){if(this._name&&this._removeNamed(),a===+a+\"\")throw new Error(\"Names consisting only of numbers are not supported.\");var c=this._getOwner();if(a&&c){var d=c._children,e=c._namedChildren;(e[a]=e[a]||[]).push(this),a in d||(d[a]=this)}this._name=a||b,this._changed(128)},getStyle:function(){return this._style},setStyle:function(a){this.getStyle().set(a)}},e.each([\"locked\",\"visible\",\"blendMode\",\"opacity\",\"guide\"],function(a){var b=e.capitalize(a),a=\"_\"+a;this[\"get\"+b]=function(){return this[a]},this[\"set\"+b]=function(b){b!=this[a]&&(this[a]=b,this._changed(\"_locked\"===a?128:129))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(a){if(a!==this._selection){this._selection=a;var b=this._project;b&&(b._updateSelection(this),this._changed(129))}},changeSelection:function(a,b){var c=this._selection;this.setSelection(b?c|a:c&~a)},isSelected:function(){if(this._selectChildren)for(var a=this._children,b=0,c=a.length;b<c;b++)if(a[b].isSelected())return!0;return!!(1&this._selection)},setSelected:function(a){if(this._selectChildren)for(var b=this._children,c=0,d=b.length;c<d;c++)b[c].setSelected(a);this.changeSelection(1,a)},isFullySelected:function(){var a=this._children,b=!!(1&this._selection);if(a&&b){for(var c=0,d=a.length;c<d;c++)if(!a[c].isFullySelected())return!1;return!0}return b},setFullySelected:function(a){var b=this._children;if(b)for(var c=0,d=b.length;c<d;c++)b[c].setFullySelected(a);this.changeSelection(1,a)},isClipMask:function(){return this._clipMask},setClipMask:function(a){this._clipMask!=(a=!!a)&&(this._clipMask=a,a&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(129),this._parent&&this._parent._changed(1024))},getData:function(){return this._data||(this._data={}),this._data},setData:function(a){this._data=a},getPosition:function(a){var b=this._position,c=a?l:m;if(!b){var d=this._pivot;b=this._position=d?this._matrix._transformPoint(d):this.getBounds().getCenter(!0)}return new c(b.x,b.y,this,\"setPosition\")},setPosition:function(){this.translate(l.read(arguments).subtract(this.getPosition(!0)))},getPivot:function(){var a=this._pivot;return a?new m(a.x,a.y,this,\"setPivot\"):null},setPivot:function(){this._pivot=l.read(arguments,0,{clone:!0,readNull:!0}),this._position=b}},e.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(a,b){this[b]=function(b){return this.getBounds(b,a)}},{beans:!0,getBounds:function(a,b){var c=b||a instanceof r,d=e.set({},c?b:a,this._boundsOptions);d.stroke&&!this.getStrokeScaling()||(d.cacheItem=this);var f=this._getCachedBounds(c&&a,d);return arguments.length?f:new q(f.x,f.y,f.width,f.height,this,\"setBounds\")},setBounds:function(){var a=p.read(arguments),b=this.getBounds(),c=this._matrix,d=new r,e=a.getCenter();d.translate(e),a.width==b.width&&a.height==b.height||(c.isInvertible()||(c.set(c._backup||(new r).translate(c.getTranslation())),b=this.getBounds()),d.scale(0!==b.width?a.width/b.width:0,0!==b.height?a.height/b.height:0)),e=b.getCenter(),d.translate(-e.x,-e.y),this.transform(d)},_getBounds:function(a,b){var c=this._children;return c&&c.length?(u._updateBoundsCache(this,b.cacheItem),u._getBounds(c,a,b)):new p},_getCachedBounds:function(a,b){a=a&&a._orNullIfIdentity();var c=b.internal,d=b.cacheItem,e=c?null:this._matrix._orNullIfIdentity(),f=d&&(!a||a.equals(e))&&[b.stroke?1:0,b.handle?1:0,c?1:0].join(\"\");if(u._updateBoundsCache(this._parent||this._symbol,d),f&&this._bounds&&f in this._bounds)return this._bounds[f].rect.clone();var g=this._getBounds(a||e,b);if(f){this._bounds||(this._bounds={});this._bounds[f]={rect:g.clone(),internal:b.internal}}return g},_getStrokeMatrix:function(a,b){var c=this.getStrokeScaling()?null:b&&b.internal?this:this._parent||this._symbol&&this._symbol._item,d=c?c.getViewMatrix().invert():a;return d&&d._shiftless()},statics:{_updateBoundsCache:function(a,b){if(a&&b){var c=b._id,d=a._boundsCache=a._boundsCache||{ids:{},list:[]};d.ids[c]||(d.list.push(b),d.ids[c]=b)}},_clearBoundsCache:function(a){var c=a._boundsCache;if(c){a._bounds=a._position=a._boundsCache=b;for(var d=0,e=c.list,f=e.length;d<f;d++){var g=e[d];g!==a&&(g._bounds=g._position=b,g._boundsCache&&u._clearBoundsCache(g))}}},_getBounds:function(a,b,c){var d=1/0,e=-d,f=d,g=e;c=c||{};for(var h=0,i=a.length;h<i;h++){var j=a[h];if(j._visible&&!j.isEmpty()){var k=j._getCachedBounds(b&&b.appended(j._matrix),c);d=Math.min(k.x,d),f=Math.min(k.y,f),e=Math.max(k.x+k.width,e),g=Math.max(k.y+k.height,g)}}return isFinite(d)?new p(d,f,e-d,g-f):new p}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var a=this._decompose();return a?a.rotation:0},setRotation:function(a){var b=this.getRotation();if(null!=b&&null!=a){var c=this._decomposed;this.rotate(a-b),c&&(c.rotation=a,this._decomposed=c)}},getScaling:function(){var a=this._decompose(),b=a&&a.scaling;return new m(b?b.x:1,b?b.y:1,this,\"setScaling\")},setScaling:function(){var a=this.getScaling(),b=l.read(arguments,0,{clone:!0,readNull:!0});if(a&&b&&!a.equals(b)){var c=this._decomposed;this.scale(b.x/a.x,b.y/a.y),c&&(c.scaling=b,this._decomposed=c)}},getMatrix:function(){return this._matrix},setMatrix:function(){var a=this._matrix;a.initialize.apply(a,arguments)},getGlobalMatrix:function(a){var b=this._globalMatrix,c=this._project._updateVersion;if(b&&b._updateVersion!==c&&(b=null),!b){b=this._globalMatrix=this._matrix.clone();var d=this._parent;d&&b.prepend(d.getGlobalMatrix(!0)),b._updateVersion=c}return a?b:b.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(a){(this._applyMatrix=this._canApplyMatrix&&!!a)&&this.transform(null,!0)},getTransformContent:\"#getApplyMatrix\",setTransformContent:\"#setApplyMatrix\"},{getProject:function(){return this._project},_setProject:function(a,b){if(this._project!==a){this._project&&this._installEvents(!1),this._project=a;for(var c=this._children,d=0,e=c&&c.length;d<e;d++)c[d]._setProject(a);b=!0}b&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function a(b){a.base.call(this,b);for(var c=this._children,d=0,e=c&&c.length;d<e;d++)c[d]._installEvents(b)},getLayer:function(){for(var a=this;a=a._parent;)if(a instanceof w)return a;return null},getParent:function(){return this._parent},setParent:function(a){return a.addChild(this)},_getOwner:\"#getParent\",getChildren:function(){return this._children},setChildren:function(a){this.removeChildren(),this.addChildren(a)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var a=this._getOwner();return a&&a._children[this._index+1]||null},getPreviousSibling:function(){var a=this._getOwner();return a&&a._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(a){return a===this||a&&this._class===a._class&&this._style.equals(a._style)&&this._matrix.equals(a._matrix)&&this._locked===a._locked&&this._visible===a._visible&&this._blendMode===a._blendMode&&this._opacity===a._opacity&&this._clipMask===a._clipMask&&this._guide===a._guide&&this._equals(a)||!1},_equals:function(a){return e.equals(this._children,a._children)},clone:function(a){var c=new this.constructor(u.NO_INSERT),d=this._children,f=e.pick(a?a.insert:b,a===b||a===!0),g=e.pick(a?a.deep:b,!0);d&&c.copyAttributes(this),d&&!g||c.copyContent(this),d||c.copyAttributes(this),f&&c.insertAbove(this);var h=this._name,i=this._parent;if(h&&i){for(var d=i._children,j=h,k=1;d[h];)h=j+\" \"+k++;h!==j&&c.setName(h)}return c},copyContent:function(a){for(var b=a._children,c=0,d=b&&b.length;c<d;c++)this.addChild(b[c].clone(!1),!0)},copyAttributes:function(a,b){this.setStyle(a._style);for(var c=[\"_locked\",\"_visible\",\"_blendMode\",\"_opacity\",\"_clipMask\",\"_guide\"],d=0,f=c.length;d<f;d++){var g=c[d];a.hasOwnProperty(g)&&(this[g]=a[g])}b||this._matrix.set(a._matrix,!0),this.setApplyMatrix(a._applyMatrix),this.setPivot(a._pivot),this.setSelection(a._selection);var h=a._data,i=a._name;this._data=h?e.clone(h):null,i&&this.setName(i)},rasterize:function(a,c){var d=this.getStrokeBounds(),f=(a||this.getView().getResolution())/72,g=d.getTopLeft().floor(),h=d.getBottomRight().ceil(),i=new n(h.subtract(g)),j=new y(u.NO_INSERT);if(!i.isZero()){var k=aa.getCanvas(i.multiply(f)),l=k.getContext(\"2d\"),m=(new r).scale(f).translate(g.negate());l.save(),m.applyToContext(l),this.draw(l,new e({matrices:[m]})),l.restore(),j.setCanvas(k)}return j.transform((new r).translate(g.add(i.divide(2))).scale(1/f)),(c===b||c)&&j.insertAbove(this),j},contains:function(){return!!this._contains(this._matrix._inverseTransform(l.read(arguments)))},_contains:function(a){var b=this._children;if(b){for(var c=b.length-1;c>=0;c--)if(b[c].contains(a))return!0;return!1}return a.isInside(this.getInternalBounds())},isInside:function(){return p.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new H.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(a,b){return a instanceof u&&this._asPathItem().getIntersections(a._asPathItem(),null,b,!0).length>0}},new function(){function a(){return this._hitTest(l.read(arguments),B.getOptions(arguments))}function b(){var a=l.read(arguments),b=B.getOptions(arguments),c=[];return this._hitTest(a,e.set({all:c},b)),c}function c(a,b,c,d){var e=this._children;if(e)for(var f=e.length-1;f>=0;f--){var g=e[f],h=g!==d&&g._hitTest(a,b,c);if(h&&!b.all)return h}return null}return t.inject({hitTest:a,hitTestAll:b,_hitTest:c}),{hitTest:a,hitTestAll:b,_hitTestChildren:c}},{_hitTest:function(a,b,c){function o(a){return a&&j&&!j(a)&&(a=null),a&&b.all&&b.all.push(a),a}function p(b,c){var d=l[\"get\"+c]();if(a.subtract(d).divide(h).length<=1)return new B(b,k,{name:e.hyphenate(c),point:d})}if(this._locked||!this._visible||this._guide&&!b.guides||this.isEmpty())return null;var d=this._matrix,f=c?c.appended(d):this.getGlobalMatrix().prepend(this.getView()._matrix),g=Math.max(b.tolerance,1e-6),h=b._tolerancePadding=new n(H._getStrokePadding(g,d.inverted()._shiftless()));if(a=d._inverseTransform(a),!a||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(h.multiply(2))._containsPoint(a))return null;var l,m,i=!(b.guides&&!this._guide||b.selected&&!this.isSelected()||b.type&&b.type!==e.hyphenate(this._class)||b.class&&!(this instanceof b.class)),j=b.match,k=this;if(i&&(b.center||b.bounds)&&this._parent){if(l=this.getInternalBounds(),b.center&&(m=p(\"center\",\"Center\")),!m&&b.bounds)for(var q=[\"TopLeft\",\"TopRight\",\"BottomLeft\",\"BottomRight\",\"LeftCenter\",\"TopCenter\",\"RightCenter\",\"BottomCenter\"],r=0;r<8&&!m;r++)m=p(\"bounds\",q[r]);m=o(m)}return m||(m=this._hitTestChildren(a,b,f)||i&&o(this._hitTestSelf(a,b,f,this.getStrokeScaling()?null:f.inverted()._shiftless()))||null),m&&m.point&&(m.point=d.transform(m.point)),m},_hitTestSelf:function(a,b){if(b.fill&&this.hasFill()&&this._contains(a))return new B(\"fill\",this)},matches:function(a,b){function c(a,b){for(var d in a)if(a.hasOwnProperty(d)){var f=a[d],g=b[d];if(e.isPlainObject(f)&&e.isPlainObject(g)){if(!c(f,g))return!1}else if(!e.equals(f,g))return!1}return!0}var d=typeof a;if(\"object\"===d){for(var f in a)if(a.hasOwnProperty(f)&&!this.matches(f,a[f]))return!1;return!0}if(\"function\"===d)return a(this);if(\"match\"===a)return b(this);var g=/^(empty|editable)$/.test(a)?this[\"is\"+e.capitalize(a)]():\"type\"===a?e.hyphenate(this._class):this[a];if(\"class\"===a){if(\"function\"==typeof b)return this instanceof b;g=this._class}if(\"function\"==typeof b)return!!b(g);if(b){if(b.test)return b.test(g);if(e.isPlainObject(b))return c(b,g)}return e.equals(g,b)},getItems:function(a){return u._getItems(this,a,this._matrix)},getItem:function(a){return u._getItems(this,a,this._matrix,null,!0)[0]||null},statics:{_getItems:function a(b,c,d,f,g){if(!f){var h=\"object\"==typeof c&&c,i=h&&h.overlapping,j=h&&h.inside,k=i||j,l=k&&p.read([k]);f={items:[],recursive:h&&h.recursive!==!1,inside:!!j,overlapping:!!i,rect:l,path:i&&new H.Rectangle({rectangle:l,insert:!1})},h&&(c=e.filter({},c,{recursive:!0,inside:!0,overlapping:!0}))}var m=b._children,n=f.items,l=f.rect;d=l&&(d||new r);for(var o=0,q=m&&m.length;o<q;o++){var s=m[o],t=d&&d.appended(s._matrix),u=!0;if(l){var k=s.getBounds(t);if(!l.intersects(k))continue;l.contains(k)||f.overlapping&&(k.contains(l)||f.path.intersects(s,t))||(u=!1)}if(u&&s.matches(c)&&(n.push(s),g))break;if(f.recursive!==!1&&a(s,c,t,f,g),g&&n.length>0)break}return n}}},{importJSON:function(a){var b=e.importJSON(a,this);return b!==this?this.addChild(b):b},addChild:function(a){return this.insertChild(b,a)},insertChild:function(a,b){var c=b?this.insertChildren(a,[b]):null;return c&&c[0]},addChildren:function(a){return this.insertChildren(this._children.length,a)},insertChildren:function(a,b){var c=this._children;if(c&&b&&b.length>0){b=e.slice(b);for(var d=b.length-1;d>=0;d--){var f=b[d];f?f._remove(!1,!0):b.splice(d,1)}e.splice(c,b,a,0);for(var g=this._project,h=g._changes,d=0,i=b.length;d<i;d++){var f=b[d],j=f._name;f._parent=this,f._setProject(g,!0),j&&f.setName(j),h&&this._changed(5)}this._changed(11)}else b=null;return b},_insertItem:\"#insertChild\",_insertAt:function(a,b){var c=a&&a._getOwner(),d=a!==this&&c?this:null;return d&&(d._remove(!1,!0),c._insertItem(a._index+b,d)),d},insertAbove:function(a){return this._insertAt(a,1)},insertBelow:function(a){return this._insertAt(a,0)},sendToBack:function(){var a=this._getOwner();return a?a._insertItem(0,this):null},bringToFront:function(){var a=this._getOwner();return a?a._insertItem(b,this):null},appendTop:\"#addChild\",appendBottom:function(a){return this.insertChild(0,a)},moveAbove:\"#insertAbove\",moveBelow:\"#insertBelow\",copyTo:function(a){return a._insertItem(b,this.clone(!1))},reduce:function(a){var b=this._children;if(b&&1===b.length){var c=b[0].reduce(a);return this._parent?(c.insertAbove(this),this.remove()):c.remove(),c}return this},_removeNamed:function(){var a=this._getOwner();if(a){var b=a._children,c=a._namedChildren,d=this._name,e=c[d],f=e?e.indexOf(this):-1;f!==-1&&(b[d]==this&&delete b[d],e.splice(f,1),e.length?b[d]=e[0]:delete c[d])}},_remove:function(a,b){var c=this._getOwner(),d=this._project,f=this._index;return!!c&&(this._name&&this._removeNamed(),null!=f&&(d._activeLayer===this&&(d._activeLayer=this.getNextSibling()||this.getPreviousSibling()),e.splice(c._children,null,f,1)),this._installEvents(!1),a&&d._changes&&this._changed(5),b&&c._changed(11,this),this._parent=null,!0)},remove:function(){return this._remove(!0,!0)},replaceWith:function(a){var b=a&&a.insertBelow(this);return b&&this.remove(),b},removeChildren:function(a,b){if(!this._children)return null;a=a||0,b=e.pick(b,this._children.length);for(var c=e.splice(this._children,null,a,b-a),d=c.length-1;d>=0;d--)c[d]._remove(!0,!1);return c.length>0&&this._changed(11),c},clear:\"#removeChildren\",reverseChildren:function(){if(this._children){this._children.reverse();for(var a=0,b=this._children.length;a<b;a++)this._children[a]._index=a;this._changed(11)}},isEmpty:function(){var a=this._children;return!a||!a.length},isEditable:function(){for(var a=this;a;){if(!a._visible||a._locked)return!1;a=a._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(a){function b(a){var b=[];do b.unshift(a);while(a=a._parent);return b}for(var c=b(this),d=b(a),e=0,f=Math.min(c.length,d.length);e<f;e++)if(c[e]!=d[e])return c[e]._index<d[e]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return!!this._parent&&this._parent.isInserted()},isAbove:function(a){return this._getOrder(a)===-1},isBelow:function(a){return 1===this._getOrder(a)},isParent:function(a){return this._parent===a},isChild:function(a){return a&&a._parent===this},isDescendant:function(a){for(var b=this;b=b._parent;)if(b===a)return!0;return!1},isAncestor:function(a){return!!a&&a.isDescendant(this)},isSibling:function(a){return this._parent===a._parent},isGroupedWith:function(a){for(var b=this._parent;b;){if(b._parent&&/^(Group|Layer|CompoundPath)$/.test(b._class)&&a.isDescendant(b))return!0;b=b._parent}return!1}},e.each([\"rotate\",\"scale\",\"shear\",\"skew\"],function(a){var b=\"rotate\"===a;this[a]=function(){var c=(b?e:l).read(arguments),d=l.read(arguments,0,{readNull:!0});return this.transform((new r)[a](c,d||this.getPosition(!0)))}},{translate:function(){var a=new r;return this.transform(a.translate.apply(a,arguments))},transform:function(a,b,c,d){a&&a.isIdentity()&&(a=null);var e=this._matrix,f=(b||this._applyMatrix)&&(!e.isIdentity()||a||b&&c&&this._children);if(!a&&!f)return this;if(a&&(!a.isInvertible()&&e.isInvertible()&&(e._backup=e.getValues()),e.prepend(a)),f=f&&this._transformContent(e,c,d)){var g=this._pivot,h=this._style,i=h.getFillColor(!0),j=h.getStrokeColor(!0);g&&e._transformPoint(g,g,!0),i&&i.transform(e),j&&j.transform(e),e.reset(!0),d&&this._canApplyMatrix&&(this._applyMatrix=!0)}var k=this._bounds,l=this._position;this._changed(9);var m=k&&a&&a.decompose();if(m&&!m.shearing&&m.rotation%90===0){for(var n in k){var o=k[n];if(f||!o.internal){var p=o.rect;a._transformBounds(p,p)}}var q=this._boundsGetter,p=k[q&&q.getBounds||q||\"getBounds\"];p&&(this._position=p.getCenter(!0)),this._bounds=k}else a&&l&&(this._position=a._transformPoint(l,l));return this},_transformContent:function(a,b,c){var d=this._children;if(d){for(var e=0,f=d.length;e<f;e++)d[e].transform(a,!0,b,c);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(l.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(l.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(l.read(arguments))},localToParent:function(){return this._matrix._transformPoint(l.read(arguments))},fitBounds:function(a,b){a=p.read(arguments);var c=this.getBounds(),d=c.height/c.width,e=a.height/a.width,f=(b?d>e:d<e)?a.width/c.width:a.height/c.height,g=new p(new l,new n(c.width*f,c.height*f));g.setCenter(a.getCenter()),this.setBounds(g)}}),{_setStyles:function(a,b,c){var d=this._style;if(d.hasFill()&&(a.fillStyle=d.getFillColor().toCanvasStyle(a)),d.hasStroke()){a.strokeStyle=d.getStrokeColor().toCanvasStyle(a),a.lineWidth=d.getStrokeWidth();var e=d.getStrokeJoin(),f=d.getStrokeCap(),g=d.getMiterLimit();if(e&&(a.lineJoin=e),f&&(a.lineCap=f),g&&(a.miterLimit=g),paper.support.nativeDash){var h=d.getDashArray(),i=d.getDashOffset();h&&h.length&&(\"setLineDash\"in a?(a.setLineDash(h),a.lineDashOffset=i):(a.mozDash=h,a.mozDashOffset=i))}}if(d.hasShadow()){var j=b.pixelRatio||1,k=c._shiftless().prepend((new r).scale(j,j)),m=k.transform(new l(d.getShadowBlur(),0)),n=k.transform(this.getShadowOffset());a.shadowColor=d.getShadowColor().toCanvasStyle(a),a.shadowBlur=m.getLength(),a.shadowOffsetX=n.x,a.shadowOffsetY=n.y}},draw:function(a,b,c){var d=this._updateVersion=this._project._updateVersion;if(this._visible&&0!==this._opacity){var e=b.matrices,f=b.viewMatrix,g=this._matrix,h=e[e.length-1].appended(g);if(h.isInvertible()){f=f?f.appended(h):h,e.push(h),b.updateMatrix&&(h._updateVersion=d,this._globalMatrix=h);var o,p,q,i=this._blendMode,j=this._opacity,k=\"normal\"===i,l=ba.nativeModes[i],m=k&&1===j||b.dontStart||b.clip||(l||k&&j<1)&&this._canComposite(),n=b.pixelRatio||1;if(!m){var r=this.getStrokeBounds(f);if(!r.width||!r.height)return;q=b.offset,p=b.offset=r.getTopLeft().floor(),o=a,a=aa.getContext(r.getSize().ceil().add(1).multiply(n)),1!==n&&a.scale(n,n)}a.save();var s=c?c.appended(g):this._canScaleStroke&&!this.getStrokeScaling(!0)&&f,t=!m&&b.clipItem,u=!s||t;if(m?(a.globalAlpha=j,l&&(a.globalCompositeOperation=i)):u&&a.translate(-p.x,-p.y),u&&(m?g:f).applyToContext(a),t&&b.clipItem.draw(a,b.extend({clip:!0})),s){a.setTransform(n,0,0,n,0,0);var v=b.offset;v&&a.translate(-v.x,-v.y)}this._draw(a,b,f,s),a.restore(),e.pop(),b.clip&&!b.dontFinish&&a.clip(),m||(ba.process(i,a,o,j,p.subtract(q).multiply(n)),aa.release(a),b.offset=q)}}},_isUpdated:function(a){var b=this._parent;if(b instanceof I)return b._isUpdated(a);var c=this._updateVersion===a;return!c&&b&&b._visible&&b._isUpdated(a)&&(this._updateVersion=a,c=!0),c},_drawSelection:function(a,b,c,d,e){var f=this._selection,g=1&f,h=2&f||g&&this._selectBounds,i=4&f;if(this._drawSelected||(g=!1),(g||h||i)&&this._isUpdated(e)){var j,k=this.getSelectedColor(!0)||(j=this.getLayer())&&j.getSelectedColor(!0),l=b.appended(this.getGlobalMatrix(!0)),m=c/2;if(a.strokeStyle=a.fillStyle=k?k.toCanvasStyle(a):\"#009dec\",g&&this._drawSelected(a,l,d),i){var n=this.getPosition(!0),o=n.x,p=n.y;a.beginPath(),a.arc(o,p,m,0,2*Math.PI,!0),a.stroke();for(var q=[[0,-1],[1,0],[0,1],[-1,0]],r=m,s=c+1,t=0;t<4;t++){var u=q[t],v=u[0],w=u[1];a.moveTo(o+v*r,p+w*r),\na.lineTo(o+v*s,p+w*s),a.stroke()}}if(h){var x=l._transformCorners(this.getInternalBounds());a.beginPath();for(var t=0;t<8;t++)a[t?\"lineTo\":\"moveTo\"](x[t],x[++t]);a.closePath(),a.stroke();for(var t=0;t<8;t++)a.fillRect(x[t]-m,x[++t]-m,c,c)}}},_canComposite:function(){return!1}},e.each([\"down\",\"drag\",\"up\",\"move\"],function(a){this[\"removeOn\"+e.capitalize(a)]=function(){var b={};return b[a]=!0,this.removeOn(b)}},{removeOn:function(a){for(var b in a)if(a[b]){var c=\"mouse\"+b,d=this._project,e=d._removeSets=d._removeSets||{};e[c]=e[c]||{},e[c][this._id]=this}return this}})),v=u.extend({_class:\"Group\",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(b){this._children=[],this._namedChildren={},this._initialize(b)||this.addChildren(Array.isArray(b)?b:arguments)},_changed:function a(c){a.base.call(this,c),1026&c&&(this._clipItem=b)},_getClipItem:function(){var a=this._clipItem;if(a===b){a=null;for(var c=this._children,d=0,e=c.length;d<e;d++)if(c[d]._clipMask){a=c[d];break}this._clipItem=a}return a},isClipped:function(){return!!this._getClipItem()},setClipped:function(a){var b=this.getFirstChild();b&&b.setClipMask(a)},_getBounds:function a(b,c){var d=this._getClipItem();return d?d._getCachedBounds(b&&b.appended(d._matrix),e.set({},c,{stroke:!1})):a.base.call(this,b,c)},_hitTestChildren:function a(b,c,d){var e=this._getClipItem();return(!e||e.contains(b))&&a.base.call(this,b,c,d,e)},_draw:function(a,b){var c=b.clip,d=!c&&this._getClipItem();b=b.extend({clipItem:d,clip:!1}),c?(a.beginPath(),b.dontStart=b.dontFinish=!0):d&&d.draw(a,b.extend({clip:!0}));for(var e=this._children,f=0,g=e.length;f<g;f++){var h=e[f];h!==d&&h.draw(a,b)}}}),w=v.extend({_class:\"Layer\",initialize:function(){v.apply(this,arguments)},_getOwner:function(){return this._parent||null!=this._index&&this._project},isInserted:function a(){return this._parent?a.base.call(this):null!=this._index},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),x=u.extend({_class:\"Shape\",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(b){this._initialize(b)},_equals:function(a){return this._type===a._type&&this._size.equals(a._size)&&e.equals(this._radius,a._radius)},copyContent:function(a){this.setType(a._type),this.setSize(a._size),this.setRadius(a._radius)},getType:function(){return this._type},setType:function(a){this._type=a},getShape:\"#getType\",setShape:\"#setType\",getSize:function(){var a=this._size;return new o(a.width,a.height,this,\"setSize\")},setSize:function(){var a=n.read(arguments);if(this._size){if(!this._size.equals(a)){var b=this._type,c=a.width,d=a.height;\"rectangle\"===b?this._radius.set(n.min(this._radius,a.divide(2))):\"circle\"===b?(c=d=(c+d)/2,this._radius=c/2):\"ellipse\"===b&&this._radius._set(c/2,d/2),this._size._set(c,d),this._changed(9)}}else this._size=a.clone()},getRadius:function(){var a=this._radius;return\"circle\"===this._type?a:new o(a.width,a.height,this,\"setRadius\")},setRadius:function(a){var b=this._type;if(\"circle\"===b){if(a===this._radius)return;var c=2*a;this._radius=a,this._size._set(c,c)}else if(a=n.read(arguments),this._radius){if(this._radius.equals(a))return;if(this._radius.set(a),\"rectangle\"===b){var c=n.max(this._size,a.multiply(2));this._size.set(c)}else\"ellipse\"===b&&this._size._set(2*a.width,2*a.height)}else this._radius=a.clone();this._changed(9)},isEmpty:function(){return!1},toPath:function(a){var c=new(H[e.capitalize(this._type)])({center:new l,size:this._size,radius:this._radius,insert:!1});return c.copyAttributes(this),paper.settings.applyMatrix&&c.setApplyMatrix(!0),(a===b||a)&&c.insertAbove(this),c},toShape:\"#clone\",_draw:function(a,b,c,d){var e=this._style,f=e.hasFill(),g=e.hasStroke(),h=b.dontFinish||b.clip,i=!d;if(f||g||h){var j=this._type,k=this._radius,l=\"circle\"===j;if(b.dontStart||a.beginPath(),i&&l)a.arc(0,0,k,0,2*Math.PI,!0);else{var m=l?k:k.width,n=l?k:k.height,o=this._size,p=o.width,q=o.height;if(i&&\"rectangle\"===j&&0===m&&0===n)a.rect(-p/2,-q/2,p,q);else{var r=p/2,s=q/2,t=.44771525016920644,u=m*t,v=n*t,w=[-r,-s+n,-r,-s+v,-r+u,-s,-r+m,-s,r-m,-s,r-u,-s,r,-s+v,r,-s+n,r,s-n,r,s-v,r-u,s,r-m,s,-r+m,s,-r+u,s,-r,s-v,-r,s-n];d&&d.transform(w,w,32),a.moveTo(w[0],w[1]),a.bezierCurveTo(w[2],w[3],w[4],w[5],w[6],w[7]),r!==m&&a.lineTo(w[8],w[9]),a.bezierCurveTo(w[10],w[11],w[12],w[13],w[14],w[15]),s!==n&&a.lineTo(w[16],w[17]),a.bezierCurveTo(w[18],w[19],w[20],w[21],w[22],w[23]),r!==m&&a.lineTo(w[24],w[25]),a.bezierCurveTo(w[26],w[27],w[28],w[29],w[30],w[31])}}a.closePath()}h||!f&&!g||(this._setStyles(a,b,c),f&&(a.fill(e.getFillRule()),a.shadowColor=\"rgba(0,0,0,0)\"),g&&a.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(a,b){var c=new p(this._size).setCenter(0,0),d=this._style,e=b.stroke&&d.hasStroke()&&d.getStrokeWidth();return a&&(c=a._transformBounds(c)),e?c.expand(H._getStrokePadding(e,this._getStrokeMatrix(a,b))):c}},new function(){function a(a,b,c){var d=a._radius;if(!d.isZero())for(var e=a._size.divide(2),f=1;f<=4;f++){var g=new l(f>1&&f<4?-1:1,f>2?-1:1),h=g.multiply(e),i=h.subtract(g.multiply(d)),j=new p(c?h.add(g.multiply(c)):h,i);if(j.contains(b))return{point:i,quadrant:f}}}function b(a,b,c,d){var e=a.divide(b);return(!d||e.isInQuadrant(d))&&e.subtract(e.normalize()).multiply(b).divide(c).length<=1}return{_contains:function b(c){if(\"rectangle\"===this._type){var d=a(this,c);return d?c.subtract(d.point).divide(this._radius).getLength()<=1:b.base.call(this,c)}return c.divide(this.size).getLength()<=.5},_hitTestSelf:function c(d,e,f,g){var h=!1,i=this._style,j=e.stroke&&i.hasStroke(),k=e.fill&&i.hasFill();if(j||k){var l=this._type,m=this._radius,n=j?i.getStrokeWidth()/2:0,o=e._tolerancePadding.add(H._getStrokePadding(n,!i.getStrokeScaling()&&g));if(\"rectangle\"===l){var q=o.multiply(2),r=a(this,d,q);if(r)h=b(d.subtract(r.point),m,o,r.quadrant);else{var s=new p(this._size).setCenter(0,0),t=s.expand(q),u=s.expand(q.negate());h=t._containsPoint(d)&&!u._containsPoint(d)}}else h=b(d,m,o)}return h?new B(j?\"stroke\":\"fill\",this):c.base.apply(this,arguments)}}},{statics:new function(){function a(a,b,c,d,f){var g=new x(e.getNamed(f));return g._type=a,g._size=c,g._radius=d,g.translate(b)}return{Circle:function(){var b=l.readNamed(arguments,\"center\"),c=e.readNamed(arguments,\"radius\");return a(\"circle\",b,new n(2*c),c,arguments)},Rectangle:function(){var b=p.readNamed(arguments,\"rectangle\"),c=n.min(n.readNamed(arguments,\"radius\"),b.getSize(!0).divide(2));return a(\"rectangle\",b.getCenter(!0),b.getSize(!0),c,arguments)},Ellipse:function(){var b=x._readEllipse(arguments),c=b.radius;return a(\"ellipse\",b.center,c.multiply(2),c,arguments)},_readEllipse:function(a){var b,c;if(e.hasNamed(a,\"radius\"))b=l.readNamed(a,\"center\"),c=n.readNamed(a,\"radius\");else{var d=p.readNamed(a,\"rectangle\");b=d.getCenter(!0),c=d.getSize(!0).divide(2)}return{center:b,radius:c}}}}}),y=u.extend({_class:\"Raster\",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:[\"crossOrigin\"],initialize:function(c,e){if(!this._initialize(c,e!==b&&l.read(arguments,1))){var f=\"string\"==typeof c?d.getElementById(c):c;f?this.setImage(f):this.setSource(c)}this._size||(this._size=new n,this._loaded=!1)},_equals:function(a){return this.getSource()===a.getSource()},copyContent:function(a){var b=a._image,c=a._canvas;if(b)this._setImage(b);else if(c){var d=aa.getCanvas(a._size);d.getContext(\"2d\").drawImage(c,0,0),this._setImage(d)}this._crossOrigin=a._crossOrigin},getSize:function(){var a=this._size;return new o(a?a.width:0,a?a.height:0,this,\"setSize\")},setSize:function(){var a=n.read(arguments);if(!a.equals(this._size))if(a.width>0&&a.height>0){var b=this.getElement();this._setImage(aa.getCanvas(a)),b&&this.getContext(!0).drawImage(b,0,0,a.width,a.height)}else this._canvas&&aa.release(this._canvas),this._size=a.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(a){this.setSize(a,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(a){this.setSize(this.getWidth(),a)},getLoaded:function(){return this._loaded},isEmpty:function(){var a=this._size;return!a||0===a.width&&0===a.height},getResolution:function(){var a=this._matrix,b=new l(0,0).transform(a),c=new l(1,0).transform(a).subtract(b),d=new l(0,1).transform(a).subtract(b);return new n(72/c.getLength(),72/d.getLength())},getPpi:\"#getResolution\",getImage:function(){return this._image},setImage:function(a){function c(a){var c=b.getView(),d=a&&a.type||\"load\";c&&b.responds(d)&&(paper=c._scope,b.emit(d,new V(a)))}var b=this;this._setImage(a),this._loaded?setTimeout(c,0):a&&S.add(a,{load:function(d){b._setImage(a),c(d)},error:c})},_setImage:function(a){this._canvas&&aa.release(this._canvas),a&&a.getContext?(this._image=null,this._canvas=a,this._loaded=!0):(this._image=a,this._canvas=null,this._loaded=!!(a&&a.src&&a.complete)),this._size=new n(a?a.naturalWidth||a.width:0,a?a.naturalHeight||a.height:0),this._context=null,this._changed(521)},getCanvas:function(){if(!this._canvas){var a=aa.getContext(this._size);try{this._image&&a.drawImage(this._image,0,0),this._canvas=a.canvas}catch(b){aa.release(a)}}return this._canvas},setCanvas:\"#setImage\",getContext:function(a){return this._context||(this._context=this.getCanvas().getContext(\"2d\")),a&&(this._image=null,this._changed(513)),this._context},setContext:function(a){this._context=a},getSource:function(){var a=this._image;return a&&a.src||this.toDataURL()},setSource:function(b){var c=new a.Image,d=this._crossOrigin;d&&(c.crossOrigin=d),c.src=b,this.setImage(c)},getCrossOrigin:function(){var a=this._image;return a&&a.crossOrigin||this._crossOrigin||\"\"},setCrossOrigin:function(a){this._crossOrigin=a;var b=this._image;b&&(b.crossOrigin=a)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var a=p.read(arguments),b=aa.getContext(a.getSize());return b.drawImage(this.getCanvas(),a.x,a.y,a.width,a.height,0,0,a.width,a.height),b.canvas},getSubRaster:function(){var a=p.read(arguments),b=new y(u.NO_INSERT);return b._setImage(this.getSubCanvas(a)),b.translate(a.getCenter().subtract(this.getSize().divide(2))),b._matrix.prepend(this._matrix),b.insertAbove(this),b},toDataURL:function(){var a=this._image,b=a&&a.src;if(/^data:/.test(b))return b;var c=this.getCanvas();return c?c.toDataURL.apply(c,arguments):null},drawImage:function(a){var b=l.read(arguments,1);this.getContext(!0).drawImage(a,b.x,b.y)},getAverageColor:function(a){var b,c;if(a?a instanceof G?(c=a,b=a.getBounds()):\"object\"==typeof a&&(\"width\"in a?b=new p(a):\"x\"in a&&(b=new p(a.x-.5,a.y-.5,1,1))):b=this.getBounds(),!b)return null;var d=32,f=Math.min(b.width,d),g=Math.min(b.height,d),h=y._sampleContext;h?h.clearRect(0,0,d+1,d+1):h=y._sampleContext=aa.getContext(new n(d)),h.save();var i=(new r).scale(f/b.width,g/b.height).translate(-b.x,-b.y);i.applyToContext(h),c&&c.draw(h,new e({clip:!0,matrices:[i]})),this._matrix.applyToContext(h);var j=this.getElement(),k=this._size;j&&h.drawImage(j,-k.width/2,-k.height/2),h.restore();for(var l=h.getImageData(.5,.5,Math.ceil(f),Math.ceil(g)).data,m=[0,0,0],o=0,q=0,s=l.length;q<s;q+=4){var t=l[q+3];o+=t,t/=255,m[0]+=l[q]*t,m[1]+=l[q+1]*t,m[2]+=l[q+2]*t}for(var q=0;q<3;q++)m[q]/=o;return o?N.read(m):null},getPixel:function(){var a=l.read(arguments),b=this.getContext().getImageData(a.x,a.y,1,1).data;return new N(\"rgb\",[b[0]/255,b[1]/255,b[2]/255],b[3]/255)},setPixel:function(){var a=l.read(arguments),b=N.read(arguments),c=b._convert(\"rgb\"),d=b._alpha,e=this.getContext(!0),f=e.createImageData(1,1),g=f.data;g[0]=255*c[0],g[1]=255*c[1],g[2]=255*c[2],g[3]=null!=d?255*d:255,e.putImageData(f,a.x,a.y)},createImageData:function(){var a=n.read(arguments);return this.getContext().createImageData(a.width,a.height)},getImageData:function(){var a=p.read(arguments);return a.isEmpty()&&(a=new p(this._size)),this.getContext().getImageData(a.x,a.y,a.width,a.height)},setImageData:function(a){var b=l.read(arguments,1);this.getContext(!0).putImageData(a,b.x,b.y)},_getBounds:function(a,b){var c=new p(this._size).setCenter(0,0);return a?a._transformBounds(c):c},_hitTestSelf:function(a){if(this._contains(a)){var b=this;return new B(\"pixel\",b,{offset:a.add(b._size.divide(2)).round(),color:{get:function(){return b.getPixel(this.offset)}}})}},_draw:function(a){var b=this.getElement();b&&(a.globalAlpha=this._opacity,a.drawImage(b,-this._size.width/2,-this._size.height/2))},_canComposite:function(){return!0}}),z=u.extend({_class:\"SymbolItem\",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(c,d){this._initialize(c,d!==b&&l.read(arguments,1))||this.setDefinition(c instanceof A?c:new A(c))},_equals:function(a){return this._definition===a._definition},copyContent:function(a){this.setDefinition(a._definition)},getDefinition:function(){return this._definition},setDefinition:function(a){this._definition=a,this._changed(9)},getSymbol:\"#getDefinition\",setSymbol:\"#setDefinition\",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(a,b){var c=this._definition._item;return c._getCachedBounds(c._matrix.prepended(a),b)},_hitTestSelf:function(a,b,c,d){var e=this._definition._item._hitTest(a,b,c);return e&&(e.item=this),e},_draw:function(a,b){this._definition._item.draw(a,b)}}),A=e.extend({_class:\"SymbolDefinition\",initialize:function(b,c){this._id=k.get(),this.project=paper.project,b&&this.setItem(b,c)},_serialize:function(a,b){return b.add(this,function(){return e.serialize([this._class,this._item],a,!1,b)})},_changed:function(a){8&a&&u._clearBoundsCache(this),1&a&&this.project._changed(a)},getItem:function(){return this._item},setItem:function(a,b){a._symbol&&(a=a.clone()),this._item&&(this._item._symbol=null),this._item=a,a.remove(),a.setSelected(!1),b||a.setPosition(new l),a._symbol=this,this._changed(9)},getDefinition:\"#getItem\",setDefinition:\"#setItem\",place:function(a){return new z(this,a)},clone:function(){return new A(this._item.clone(!1))},equals:function(a){return a===this||a&&this._item.equals(a._item)||!1}}),B=e.extend({_class:\"HitResult\",initialize:function(b,c,d){this.type=b,this.item=c,d&&(d.enumerable=!0,this.inject(d))},statics:{getOptions:function(a){var b=a&&e.read(a);return e.set({type:null,tolerance:paper.settings.hitTolerance,fill:!b,stroke:!b,segments:!b,handles:!1,ends:!1,center:!1,bounds:!1,guides:!1,selected:!1},b)}}}),C=e.extend({_class:\"Segment\",beans:!0,_selection:0,initialize:function(c,d,e,f,g,h){var j,k,l,m,i=arguments.length;i>0&&(null==c||\"object\"==typeof c?1===i&&c&&\"point\"in c?(j=c.point,k=c.handleIn,l=c.handleOut,m=c.selection):(j=c,k=d,l=e,m=f):(j=[c,d],k=e!==b?[e,f]:null,l=g!==b?[g,h]:null)),new D(j,this,\"_point\"),new D(k,this,\"_handleIn\"),new D(l,this,\"_handleOut\"),m&&this.setSelection(m)},_serialize:function(a,b){var c=this._point,d=this._selection,f=d||this.hasHandles()?[c,this._handleIn,this._handleOut]:c;return d&&f.push(d),e.serialize(f,a,!0,b)},_changed:function(a){var b=this._path;if(b){var e,c=b._curves,d=this._index;c&&(a&&a!==this._point&&a!==this._handleIn||!(e=d>0?c[d-1]:b._closed?c[c.length-1]:null)||e._changed(),a&&a!==this._point&&a!==this._handleOut||!(e=c[d])||e._changed()),b._changed(25)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(l.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(l.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(l.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(a){var b=this._selection,c=this._path;this._selection=a=a||0,c&&a!==b&&(c._updateSelection(this,b,a),c._changed(129))},changeSelection:function(a,b){var c=this._selection;this.setSelection(b?c|a:c&~a)},isSelected:function(){return!!(7&this._selection)},setSelected:function(a){this.changeSelection(7,a)},getIndex:function(){return this._index!==b?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var a=this._path,b=this._index;return a?(b>0&&!a._closed&&b===a._segments.length-1&&b--,a.getCurves()[b]||null):null},getLocation:function(){var a=this.getCurve();return a?new F(a,this===a._segment1?0:1):null},getNext:function(){var a=this._path&&this._path._segments;return a&&(a[this._index+1]||this._path._closed&&a[0])||null},smooth:function(a,c,d){var e=a||{},f=e.type,g=e.factor,h=this.getPrevious(),i=this.getNext(),j=(h||this)._point,k=this._point,m=(i||this)._point,n=j.getDistance(k),o=k.getDistance(m);if(f&&\"catmull-rom\"!==f){if(\"geometric\"!==f)throw new Error(\"Smoothing method '\"+f+\"' not supported.\");if(h&&i){var w=j.subtract(m),x=g===b?.4:g,y=x*n/(n+o);c||this.setHandleIn(w.multiply(y)),d||this.setHandleOut(w.multiply(y-x))}}else{var p=g===b?.5:g,q=Math.pow(n,p),r=q*q,s=Math.pow(o,p),t=s*s;if(!c&&h){var u=2*t+3*s*q+r,v=3*s*(s+q);this.setHandleIn(0!==v?new l((t*j._x+u*k._x-r*m._x)/v-k._x,(t*j._y+u*k._y-r*m._y)/v-k._y):new l)}if(!d&&i){var u=2*r+3*q*s+t,v=3*q*(q+s);this.setHandleOut(0!==v?new l((r*m._x+u*k._x-t*j._x)/v-k._x,(r*m._y+u*k._y-t*j._y)/v-k._y):new l)}}},getPrevious:function(){var a=this._path&&this._path._segments;return a&&(a[this._index-1]||this._path._closed&&a[a.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var a=this._path;return a&&this._index===a._segments.length-1||!1},reverse:function(){var a=this._handleIn,b=this._handleOut,c=a.clone();a.set(b),b.set(c)},reversed:function(){return new C(this._point,this._handleOut,this._handleIn)},remove:function(){return!!this._path&&!!this._path.removeSegment(this._index)},clone:function(){return new C(this._point,this._handleIn,this._handleOut)},equals:function(a){return a===this||a&&this._class===a._class&&this._point.equals(a._point)&&this._handleIn.equals(a._handleIn)&&this._handleOut.equals(a._handleOut)||!1},toString:function(){var a=[\"point: \"+this._point];return this._handleIn.isZero()||a.push(\"handleIn: \"+this._handleIn),this._handleOut.isZero()||a.push(\"handleOut: \"+this._handleOut),\"{ \"+a.join(\", \")+\" }\"},transform:function(a){this._transformCoordinates(a,new Array(6),!0),this._changed()},interpolate:function(a,b,c){var d=1-c,e=c,f=a._point,g=b._point,h=a._handleIn,i=b._handleIn,j=b._handleOut,k=a._handleOut;this._point._set(d*f._x+e*g._x,d*f._y+e*g._y,!0),this._handleIn._set(d*h._x+e*i._x,d*h._y+e*i._y,!0),this._handleOut._set(d*k._x+e*j._x,d*k._y+e*j._y,!0),this._changed()},_transformCoordinates:function(a,b,c){var d=this._point,e=c&&this._handleIn.isZero()?null:this._handleIn,f=c&&this._handleOut.isZero()?null:this._handleOut,g=d._x,h=d._y,i=2;return b[0]=g,b[1]=h,e&&(b[i++]=e._x+g,b[i++]=e._y+h),f&&(b[i++]=f._x+g,b[i++]=f._y+h),a&&(a._transformCoordinates(b,b,i/2),g=b[0],h=b[1],c?(d._x=g,d._y=h,i=2,e&&(e._x=b[i++]-g,e._y=b[i++]-h),f&&(f._x=b[i++]-g,f._y=b[i++]-h)):(e||(b[i++]=g,b[i++]=h),f||(b[i++]=g,b[i++]=h))),b}}),D=l.extend({initialize:function(c,d,e){var f,g,h;if(c)if((f=c[0])!==b)g=c[1];else{var i=c;(f=i.x)===b&&(i=l.read(arguments),f=i.x),g=i.y,h=i.selected}else f=g=0;this._x=f,this._y=g,this._owner=d,d[e]=this,h&&this.setSelected(!0)},_set:function(a,b){return this._x=a,this._y=b,this._owner._changed(this),this},getX:function(){return this._x},setX:function(a){this._x=a,this._owner._changed(this)},getY:function(){return this._y},setY:function(a){this._y=a,this._owner._changed(this)},isZero:function(){return j.isZero(this._x)&&j.isZero(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(a){this._owner.changeSelection(this._getSelection(),a)},_getSelection:function(){var a=this._owner;return this===a._point?1:this===a._handleIn?2:this===a._handleOut?4:0}}),E=e.extend({_class:\"Curve\",initialize:function(b,c,d,e,f,g,h,i){var k,l,m,n,o,p,j=arguments.length;3===j?(this._path=b,k=c,l=d):j?1===j?\"segment1\"in b?(k=new C(b.segment1),l=new C(b.segment2)):\"point1\"in b?(m=b.point1,o=b.handle1,p=b.handle2,n=b.point2):Array.isArray(b)&&(m=[b[0],b[1]],n=[b[6],b[7]],o=[b[2]-b[0],b[3]-b[1]],p=[b[4]-b[6],b[5]-b[7]]):2===j?(k=new C(b),l=new C(c)):4===j?(m=b,o=c,p=d,n=e):8===j&&(m=[b,c],n=[h,i],o=[d-b,e-c],p=[f-h,g-i]):(k=new C,l=new C),this._segment1=k||new C(m,null,o),this._segment2=l||new C(n,p,null)},_serialize:function(a,b){return e.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],a,!0,b)},_changed:function(){this._length=this._bounds=b},clone:function(){return new E(this._segment1,this._segment2)},toString:function(){var a=[\"point1: \"+this._segment1._point];return this._segment1._handleOut.isZero()||a.push(\"handle1: \"+this._segment1._handleOut),this._segment2._handleIn.isZero()||a.push(\"handle2: \"+this._segment2._handleIn),a.push(\"point2: \"+this._segment2._point),\"{ \"+a.join(\", \")+\" }\"},remove:function(){var a=!1;if(this._path){var b=this._segment2,c=b._handleOut;a=b.remove(),a&&this._segment1._handleOut.set(c)}return a},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(l.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(l.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(l.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(l.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var a=this._path&&this._path._curves;return a&&(a[this._segment1._index+1]||this._path._closed&&a[0])||null},getPrevious:function(){var a=this._path&&this._path._curves;return a&&(a[this._segment1._index-1]||this._path._closed&&a[a.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var a=this._path;return a&&this._segment1._index===a._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle2().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(a){this.getPoint1().setSelected(a),this.getHandle1().setSelected(a),this.getHandle2().setSelected(a),this.getPoint2().setSelected(a)},getValues:function(a){return E.getValues(this._segment1,this._segment2,a)},getPoints:function(){for(var a=this.getValues(),b=[],c=0;c<8;c+=2)b.push(new l(a[c],a[c+1]));return b},getLength:function(){return null==this._length&&(this._length=E.getLength(this.getValues(),0,1)),this._length},getArea:function(){return E.getArea(this.getValues())},getLine:function(){return new s(this._segment1._point,this._segment2._point)},getPart:function(a,b){return new E(E.getPart(this.getValues(),a,b))},getPartLength:function(a,b){return E.getLength(this.getValues(),a,b)},getIntersections:function(a){return E._getIntersections(this.getValues(),a&&a!==this?a.getValues():null,this,a,[],{})},divideAt:function(a){return this.divideAtTime(a&&a.curve===this?a.time:this.getTimeAt(a))},divideAtTime:function(a,b){var c=4e-7,d=1-c,e=null;if(a>=c&&a<=d){var f=E.subdivide(this.getValues(),a),g=f[0],h=f[1],i=b||this.hasHandles(),j=this._segment1,k=this._segment2,m=this._path;i&&(j._handleOut._set(g[2]-g[0],g[3]-g[1]),k._handleIn._set(h[4]-h[6],h[5]-h[7]));var n=g[6],o=g[7],p=new C(new l(n,o),i&&new l(g[4]-n,g[5]-o),i&&new l(h[2]-n,h[3]-o));m?(m.insert(j._index+1,p),e=this.getNext()):(this._segment2=p,this._changed(),e=new E(p,k))}return e},splitAt:function(a){return this._path?this._path.splitAt(a):null},splitAtTime:function(a){return this.splitAt(this.getLocationAtTime(a))},divide:function(a,c){return this.divideAtTime(a===b?.5:c?a:this.getTimeAt(a))},split:function(a,c){return this.splitAtTime(a===b?.5:c?a:this.getTimeAt(a))},reversed:function(){return new E(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(a,b,c,d){var e=a._point,f=a._handleOut,g=b._handleIn,h=b._point,i=e.x,j=e.y,k=h.x,l=h.y,m=d?[i,j,i,j,k,l,k,l]:[i,j,i+f._x,j+f._y,k+g._x,l+g._y,k,l];return c&&c._transformCoordinates(m,m,4),m},subdivide:function(a,c){var d=a[0],e=a[1],f=a[2],g=a[3],h=a[4],i=a[5],j=a[6],k=a[7];c===b&&(c=.5);var l=1-c,m=l*d+c*f,n=l*e+c*g,o=l*f+c*h,p=l*g+c*i,q=l*h+c*j,r=l*i+c*k,s=l*m+c*o,t=l*n+c*p,u=l*o+c*q,v=l*p+c*r,w=l*s+c*u,x=l*t+c*v;return[[d,e,m,n,s,t,w,x],[w,x,u,v,q,r,j,k]]},getMonoCurves:function(a,b){var c=[],d=b?0:1,e=a[d],f=a[d+2],g=a[d+4],h=a[d+6];if(e>=f==f>=g&&f>=g==g>=h||E.isStraight(a))c.push(a);else{var i=3*(f-g)-e+h,k=2*(e+g)-4*f,l=f-e,m=4e-7,n=1-m,o=[],p=j.solveQuadratic(i,k,l,o,m,n);if(p){o.sort();var q=o[0],r=E.subdivide(a,q);c.push(r[0]),p>1&&(q=(o[1]-q)/(1-q),r=E.subdivide(r[1],q),c.push(r[0])),c.push(r[1])}else c.push(a)}return c},solveCubic:function(a,b,c,d,e,f){var g=a[b],h=a[b+2],i=a[b+4],k=a[b+6],l=0;if(!(g<c&&k<c&&h<c&&i<c||g>c&&k>c&&h>c&&i>c)){var m=3*(h-g),n=3*(i-h)-m,o=k-g-m-n;l=j.solveCubic(o,n,m,g-c,d,e,f)}return l},getTimeOf:function(a,b){var c=new l(a[0],a[1]),d=new l(a[6],a[7]),e=1e-12,f=1e-7,g=b.isClose(c,e)?0:b.isClose(d,e)?1:null;if(null===g)for(var h=[b.x,b.y],i=[],j=0;j<2;j++)for(var k=E.solveCubic(a,j,h[j],i,0,1),m=0;m<k;m++){var n=i[m];if(b.isClose(E.getPoint(a,n),f))return n}return b.isClose(c,f)?0:b.isClose(d,f)?1:null},getNearestTime:function(a,b){function o(c){if(c>=0&&c<=1){var d=b.getDistance(E.getPoint(a,c),!0);if(d<m)return m=d,n=c,!0}}if(E.isStraight(a)){var c=a[0],d=a[1],e=a[6],f=a[7],g=e-c,h=f-d,i=g*g+h*h;if(0===i)return 0;var j=((b.x-c)*g+(b.y-d)*h)/i;return j<1e-12?0:j>.999999999999?1:E.getTimeOf(a,new l(c+j*g,d+j*h))}for(var k=100,m=1/0,n=0,p=0;p<=k;p++)o(p/k);for(var q=1/(2*k);q>4e-7;)o(n-q)||o(n+q)||(q/=2);return n},getPart:function(a,b,c){var d=b>c;if(d){var e=b;b=c,c=e}return b>0&&(a=E.subdivide(a,b)[1]),c<1&&(a=E.subdivide(a,(c-b)/(1-b))[0]),d?[a[6],a[7],a[4],a[5],a[2],a[3],a[0],a[1]]:a},isFlatEnough:function(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],i=a[6],j=a[7],k=3*e-2*c-i,l=3*f-2*d-j,m=3*g-2*i-c,n=3*h-2*j-d;return Math.max(k*k,m*m)+Math.max(l*l,n*n)<=16*b*b},getArea:function(a){var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],i=a[7];return 3*((i-c)*(d+f)-(h-b)*(e+g)+e*(b-f)-d*(c-g)+i*(f+b/3)-h*(g+c/3))/20},getBounds:function(a){for(var b=a.slice(0,2),c=b.slice(),d=[0,0],e=0;e<2;e++)E._addBounds(a[e],a[e+2],a[e+4],a[e+6],e,0,b,c,d);return new p(b[0],b[1],c[0]-b[0],c[1]-b[1])},_addBounds:function(a,b,c,d,e,f,g,h,i){function k(a,b){var c=a-b,d=a+b;c<g[e]&&(g[e]=c),d>h[e]&&(h[e]=d)}f/=2;var l=g[e]-f,m=h[e]+f;if(a<l||b<l||c<l||d<l||a>m||b>m||c>m||d>m)if(b<a!=b<d&&c<a!=c<d)k(a,f),k(d,f);else{var n=3*(b-c)-a+d,o=2*(a+c)-4*b,p=b-a,q=j.solveQuadratic(n,o,p,i),r=4e-7,s=1-r;k(d,0);for(var t=0;t<q;t++){var u=i[t],v=1-u;r<u&&u<s&&k(v*v*v*a+3*v*v*u*b+3*v*u*u*c+u*u*u*d,f)}}}}},e.each([\"getBounds\",\"getStrokeBounds\",\"getHandleBounds\"],function(a){this[a]=function(){this._bounds||(this._bounds={});var b=this._bounds[a];return b||(b=this._bounds[a]=H[a]([this._segment1,this._segment2],!1,this._path)),b.clone()}},{}),e.each({isStraight:function(a,b,c){if(b.isZero()&&c.isZero())return!0;var d=a.getVector(),e=1e-7;if(d.isZero())return!1;if(a.getDistance(b)<e&&a.getDistance(c)<e){var f=d.dot(d),g=d.dot(b)/f,h=d.dot(c)/f;return g>=0&&g<=1&&h<=0&&h>=-1}return!1},isLinear:function(a,b,c){var d=a.getVector().divide(3);return b.equals(d)&&c.negate().equals(d)}},function(a,b){this[b]=function(){var b=this._segment1,c=this._segment2;return a(new s(b._point,c._point),b._handleOut,c._handleIn)},this.statics[b]=function(b){var c=b[0],d=b[1],e=b[6],f=b[7];return a(new s(c,d,e,f),new l(b[2]-c,b[3]-d),new l(b[4]-e,b[5]-f))}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(a){var b=this._segment1,c=this._segment2;return(!b._point.equals(c._point)||b.hasHandles()||c.hasHandles())&&this.getLength()>(a||0)},isCollinear:function(a){return a&&this.isStraight()&&a.isStraight()&&this.getLine().isCollinear(a.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(a,b){return this.getLocationAtTime(b?a:this.getTimeAt(a))},getLocationAtTime:function(a){return null!=a&&a>=0&&a<=1?new F(this,a):null},getTimeAt:function(a,b){return E.getTimeAt(this.getValues(),a,b)},getParameterAt:\"#getTimeAt\",getOffsetAtTime:function(a){return this.getPartLength(0,a)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(l.read(arguments)))},getOffsetOf:function(){var a=this.getLocationOf.apply(this,arguments);return a?a.getOffset():null},getTimeOf:function(){return E.getTimeOf(this.getValues(),l.read(arguments))},getParameterOf:\"#getTimeOf\",getNearestLocation:function(){var a=l.read(arguments),b=this.getValues(),c=E.getNearestTime(b,a),d=E.getPoint(b,c);return new F(this,c,d,null,a.getDistance(d))},getNearestPoint:function(){var a=this.getNearestLocation.apply(this,arguments);return a?a.getPoint():a}},new function(){var a=[\"getPoint\",\"getTangent\",\"getNormal\",\"getWeightedTangent\",\"getWeightedNormal\",\"getCurvature\"];return e.each(a,function(a){this[a+\"At\"]=function(b,c){var d=this.getValues();return E[a](d,c?b:E.getTimeAt(d,b))},this[a+\"AtTime\"]=function(b){return E[a](this.getValues(),b)}},{statics:{_evaluateMethods:a}})},new function(){function a(a){var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],i=a[7],j=9*(d-f)+3*(h-b),k=6*(b+f)-12*d,l=3*(d-b),m=9*(e-g)+3*(i-c),n=6*(c+g)-12*e,o=3*(e-c);return function(a){var b=(j*a+k)*a+l,c=(m*a+n)*a+o;return Math.sqrt(b*b+c*c)}}function c(a,b){return Math.max(2,Math.min(16,Math.ceil(32*Math.abs(b-a))))}function d(a,b,c,d){if(null==b||b<0||b>1)return null;var e=a[0],f=a[1],g=a[2],h=a[3],i=a[4],k=a[5],m=a[6],n=a[7],o=j.isZero;o(g-e)&&o(h-f)&&(g=e,h=f),o(i-m)&&o(k-n)&&(i=m,k=n);var v,w,p=3*(g-e),q=3*(i-g)-p,r=m-e-p-q,s=3*(h-f),t=3*(k-h)-s,u=n-f-s-t;if(0===c)v=0===b?e:1===b?m:((r*b+q)*b+p)*b+e,w=0===b?f:1===b?n:((u*b+t)*b+s)*b+f;else{var x=4e-7,y=1-x;if(b<x?(v=p,w=s):b>y?(v=3*(m-i),w=3*(n-k)):(v=(3*r*b+2*q)*b+p,w=(3*u*b+2*t)*b+s),d){0===v&&0===w&&(b<x||b>y)&&(v=i-g,w=k-h);var z=Math.sqrt(v*v+w*w);z&&(v/=z,w/=z)}if(3===c){var A=6*r*b+2*q,B=6*u*b+2*t,C=Math.pow(v*v+w*w,1.5);v=0!==C?(v*B-w*A)/C:0,w=0}}return 2===c?new l(w,-v):new l(v,w)}return{statics:{getLength:function(d,e,f,g){if(e===b&&(e=0),f===b&&(f=1),E.isStraight(d)){var h=d;f<1&&(h=E.subdivide(h,f)[0],e/=f),e>0&&(h=E.subdivide(h,e)[1]);var i=h[6]-h[0],k=h[7]-h[1];return Math.sqrt(i*i+k*k)}return j.integrate(g||a(d),e,f,c(e,f))},getTimeAt:function(d,e,f){function r(a){return q+=j.integrate(m,f,a,c(f,a)),f=a,q-e}if(f===b&&(f=e<0?1:0),0===e)return f;var g=Math.abs,h=1e-12,i=e>0,k=i?f:0,l=i?1:f,m=a(d),n=E.getLength(d,k,l,m),o=g(e)-n;if(g(o)<h)return i?l:k;if(o>h)return null;var p=e/n,q=0;return j.findRoot(r,m,f+p,k,l,32,1e-12)},getPoint:function(a,b){return d(a,b,0,!1)},getTangent:function(a,b){return d(a,b,1,!0)},getWeightedTangent:function(a,b){return d(a,b,1,!1)},getNormal:function(a,b){return d(a,b,2,!0)},getWeightedNormal:function(a,b){return d(a,b,2,!1)},getCurvature:function(a,b){return d(a,b,3,!1).x}}}},new function(){function a(a,b,c,d,e,f,g,h,i,j,k){var l=!k&&b.excludeStart,m=!k&&b.excludeEnd,n=4e-7,o=1-n;if(null==e&&(e=E.getTimeOf(c,f)),null!==e&&e>=(l?n:0)&&e<=(m?o:1)&&(null==i&&(i=E.getTimeOf(g,j)),null!==i&&i>=(m?n:0)&&i<=(l?o:1))){var p=b.renormalize;if(p){var q=p(e,i);\ne=q[0],i=q[1]}var r=new F(d,e,f||E.getPoint(c,e),k),s=new F(h,i,j||E.getPoint(g,i),k),t=r.getPath()===s.getPath()&&r.getIndex()>s.getIndex(),u=t?s:r,v=b.include;r._intersection=s,s._intersection=r,v&&!v(u)||F.insert(a,u,!0)}}function b(e,f,g,h,i,j,k,l,m,n,o,p,q){if(++p>=48||++q>4096)return q;var K,L,r=f[0],t=f[1],u=f[6],v=f[7],w=s.getSignedDistance,x=w(r,t,u,v,f[2],f[3]),y=w(r,t,u,v,f[4],f[5]),z=x*y>0?.75:4/9,A=z*Math.min(0,x,y),B=z*Math.max(0,x,y),C=w(r,t,u,v,e[0],e[1]),D=w(r,t,u,v,e[2],e[3]),F=w(r,t,u,v,e[4],e[5]),G=w(r,t,u,v,e[6],e[7]),H=c(C,D,F,G),I=H[0],J=H[1];if(0===x&&0===y&&0===C&&0===D&&0===F&&0===G||null==(K=d(I,J,A,B))||null==(L=d(I.reverse(),J.reverse(),A,B)))return q;var M=k+(l-k)*K,N=k+(l-k)*L;if(Math.max(n-m,N-M)<1e-10){var O=(M+N)/2,P=(m+n)/2;e=g.getValues(),f=h.getValues(),a(i,j,o?f:e,o?h:g,o?P:O,null,o?e:f,o?g:h,o?O:P,null)}else if(e=E.getPart(e,K,L),L-K>.8)if(N-M>n-m){var Q=E.subdivide(e,.5),O=(M+N)/2;q=b(f,Q[0],h,g,i,j,m,n,M,O,!o,p,q),q=b(f,Q[1],h,g,i,j,m,n,O,N,!o,p,q)}else{var Q=E.subdivide(f,.5),P=(m+n)/2;q=b(Q[0],e,h,g,i,j,m,P,M,N,!o,p,q),q=b(Q[1],e,h,g,i,j,P,n,M,N,!o,p,q)}else q=n-m>=1e-10?b(f,e,h,g,i,j,m,n,M,N,!o,p,q):b(e,f,g,h,i,j,M,N,m,n,o,p,q);return q}function c(a,b,c,d){var k,e=[0,a],f=[1/3,b],g=[2/3,c],h=[1,d],i=b-(2*a+d)/3,j=c-(a+2*d)/3;if(i*j<0)k=[[e,f,h],[e,g,h]];else{var l=i/j;k=[l>=2?[e,f,h]:l<=.5?[e,g,h]:[e,f,g,h],[e,h]]}return(i||j)<0?k.reverse():k}function d(a,b,c,d){return a[0][1]<c?e(a,!0,c):b[0][1]>d?e(b,!1,d):a[0][0]}function e(a,b,c){for(var d=a[0][0],e=a[0][1],f=1,g=a.length;f<g;f++){var h=a[f][0],i=a[f][1];if(b?i>=c:i<=c)return i===c?h:d+(c-e)*(h-d)/(i-e);d=h,e=i}return null}function f(b,c,d,e,f,g){for(var h=E.isStraight(b),i=h?c:b,k=h?b:c,l=k[0],m=k[1],n=k[6],o=k[7],p=n-l,q=o-m,r=Math.atan2(-q,p),s=Math.sin(r),t=Math.cos(r),u=[],v=0;v<8;v+=2){var w=i[v]-l,x=i[v+1]-m;u.push(w*t-x*s,w*s+x*t)}for(var y=[],z=E.solveCubic(u,1,0,y,0,1),v=0;v<z;v++){var A=y[v],B=E.getPoint(i,A),C=E.getTimeOf(k,B);if(null!==C){var D=E.getPoint(k,C),F=h?C:A,G=h?A:C;(!g.excludeEnd||G>j.CURVETIME_EPSILON)&&a(f,g,b,d,F,h?D:B,c,e,G,h?B:D)}}}function g(b,c,d,e,f,g){var h=s.intersect(b[0],b[1],b[6],b[7],c[0],c[1],c[6],c[7]);h&&a(f,g,b,d,null,h,c,e,null,h)}return{statics:{_getIntersections:function(c,d,e,h,i,j){if(!d)return E._getSelfIntersection(c,e,i,j);var k=1e-12,m=c[0],n=c[1],o=c[2],p=c[3],q=c[4],r=c[5],s=c[6],t=c[7],u=d[0],v=d[1],w=d[2],x=d[3],y=d[4],z=d[5],A=d[6],B=d[7],C=Math.min,D=Math.max;if(!(D(m,o,q,s)+k>C(u,w,y,A)&&C(m,o,q,s)-k<D(u,w,y,A)&&D(n,p,r,t)+k>C(v,x,z,B)&&C(n,p,r,t)-k<D(v,x,z,B)))return i;var F=E.getOverlaps(c,d);if(F){for(var G=0;G<2;G++){var H=F[G];a(i,j,c,e,H[0],null,d,h,H[1],null,!0)}return i}var I=E.isStraight(c),J=E.isStraight(d),K=I&&J,L=i.length;if((K?g:I||J?f:b)(c,d,e,h,i,j,0,1,0,1,0,0,0),K&&i.length>L)return i;var M=new l(m,n),N=new l(s,t),O=new l(u,v),P=new l(A,B);return M.isClose(O,k)&&a(i,j,c,e,0,M,d,h,0,O),!j.excludeStart&&M.isClose(P,k)&&a(i,j,c,e,0,M,d,h,1,P),!j.excludeEnd&&N.isClose(O,k)&&a(i,j,c,e,1,N,d,h,0,O),N.isClose(P,k)&&a(i,j,c,e,1,N,d,h,1,P),i},_getSelfIntersection:function(a,b,c,d){var e=a[0],f=a[1],g=a[2],h=a[3],i=a[4],k=a[5],m=a[6],n=a[7],o=new s(e,f,m,n,!1),p=o.getSide(new l(g,h),!0),q=o.getSide(new l(i,k),!0);if(p===q){var r=(e-i)*(h-n)+(g-m)*(k-f);if(r*p>0)return c}var t=m-3*i+3*g-e,u=i-2*g+e,v=g-e,w=n-3*k+3*h-f,x=k-2*h+f,y=h-f,z=w*v-t*y,A=w*u-t*x,B=x*v-u*y;if(z*z-4*A*B<0){var D,C=[],F=j.solveCubic(t*t+w*w,3*(t*u+w*x),2*(u*u+x*x)+t*v+w*y,u*v+x*y,C,0,1);if(F>0){for(var G=0,H=0;G<F;G++){var I=Math.abs(b.getCurvatureAtTime(C[G]));I>H&&(H=I,D=C[G])}var J=E.subdivide(a,D);d.excludeEnd=!0,d.renormalize=function(a,b){return[a*D,b*(1-D)+D]},E._getIntersections(J[0],J[1],b,b,c,d)}}return c},getOverlaps:function(a,b){function i(a){var b=a[6]-a[0],c=a[7]-a[1];return b*b+c*c}var c=Math.abs,d=4e-7,e=1e-7,f=E.isStraight(a),g=E.isStraight(b),h=f&&g,j=i(a)<i(b),k=j?b:a,m=j?a:b,n=new s(k[0],k[1],k[6],k[7]);if(n.getDistance(new l(m[0],m[1]))<e&&n.getDistance(new l(m[6],m[7]))<e)!h&&n.getDistance(new l(k[2],k[3]))<e&&n.getDistance(new l(k[4],k[5]))<e&&n.getDistance(new l(m[2],m[3]))<e&&n.getDistance(new l(m[4],m[5]))<e&&(f=g=h=!0);else if(h)return null;if(f^g)return null;for(var o=[a,b],p=[],q=0;q<4&&p.length<2;q++){var r=1&q,t=1^r,u=q>>1,v=E.getTimeOf(o[r],new l(o[t][u?6:0],o[t][u?7:1]));if(null!=v){var w=r?[u,v]:[v,u];(!p.length||c(w[0]-p[0][0])>d&&c(w[1]-p[0][1])>d)&&p.push(w)}if(q>2&&!p.length)break}if(2!==p.length)p=null;else if(!h){var x=E.getPart(a,p[0][0],p[1][0]),y=E.getPart(b,p[0][1],p[1][1]);(c(y[2]-x[2])>e||c(y[3]-x[3])>e||c(y[4]-x[4])>e||c(y[5]-x[5])>e)&&(p=null)}return p}}}}),F=e.extend({_class:\"CurveLocation\",initialize:function(b,c,d,e,f){if(c>.9999996){var g=b.getNext();g&&(c=0,b=g)}this._setCurve(b),this._time=c,this._point=d||b.getPointAtTime(c),this._overlap=e,this._distance=f,this._intersection=this._next=this._previous=null},_setCurve:function(a){var b=a._path;this._path=b,this._version=b?b._version:0,this._curve=a,this._segment=null,this._segment1=a._segment1,this._segment2=a._segment2},_setSegment:function(a){this._setCurve(a.getCurve()),this._segment=a,this._time=a===this._segment1?0:1,this._point=a._point.clone()},getSegment:function(){var a=this.getCurve(),b=this._segment;if(!b){var c=this.getTime();0===c?b=a._segment1:1===c?b=a._segment2:null!=c&&(b=a.getPartLength(0,c)<a.getPartLength(c,1)?a._segment1:a._segment2),this._segment=b}return b},getCurve:function(){function c(a){var c=a&&a.getCurve();if(c&&null!=(b._time=c.getTimeOf(b._point)))return b._setCurve(c),b._segment=a,c}var a=this._path,b=this;return a&&a._version!==this._version&&(this._time=this._curve=this._offset=null),this._curve||c(this._segment)||c(this._segment1)||c(this._segment1.getNext())||c(this._segment2.getPrevious())},getPath:function(){var a=this.getCurve();return a&&a._path},getIndex:function(){var a=this.getCurve();return a&&a.getIndex()},getTime:function(){var a=this.getCurve(),b=this._time;return a&&null==b?this._time=a.getTimeOf(this._point):b},getParameter:\"#getTime\",getPoint:function(){return this._point},getOffset:function(){var a=this._offset;if(null==a){a=0;var b=this.getPath(),c=this.getIndex();if(b&&null!=c)for(var d=b.getCurves(),e=0;e<c;e++)a+=d[e].getLength();this._offset=a+=this.getCurveOffset()}return a},getCurveOffset:function(){var a=this.getCurve(),b=this.getTime();return null!=b&&a&&a.getPartLength(0,b)},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var a=this.getCurve(),b=null;return a&&(b=a.divideAtTime(this.getTime()))&&this._setSegment(b._segment1),b},split:function(){var a=this.getCurve();return a?a.splitAtTime(this.getTime()):null},equals:function(a,b){var c=this===a,d=1e-7;if(!c&&a instanceof F&&this.getPath()===a.getPath()&&this.getPoint().isClose(a.getPoint(),d)){var e=this.getCurve(),f=a.getCurve(),g=Math.abs,h=g((e.isLast()&&f.isFirst()?-1:e.getIndex())+this.getTime()-((f.isLast()&&e.isFirst()?-1:f.getIndex())+a.getTime()));c=(h<4e-7||(h=g(this.getOffset()-a.getOffset()))<d||g(this.getPath().getLength()-h)<d)&&(b||!this._intersection&&!a._intersection||this._intersection&&this._intersection.equals(a._intersection,!0))}return c},toString:function(){var a=[],b=this.getPoint(),c=i.instance;b&&a.push(\"point: \"+b);var d=this.getIndex();null!=d&&a.push(\"index: \"+d);var e=this.getTime();return null!=e&&a.push(\"time: \"+c.number(e)),null!=this._distance&&a.push(\"distance: \"+c.number(this._distance)),\"{ \"+a.join(\", \")+\" }\"},isTouching:function(){var a=this._intersection;if(a&&this.getTangent().isCollinear(a.getTangent())){var b=this.getCurve(),c=a.getCurve();return!(b.isStraight()&&c.isStraight()&&b.getLine().intersect(c.getLine()))}return!1},isCrossing:function(){function l(a,b,c){return b<c?a>b&&a<c:a>b||a<c}var a=this._intersection;if(!a)return!1;var b=this.getTime(),c=a.getTime(),d=4e-7,e=1-d,f=b>d&&b<e,g=c>d&&c<e;if(f&&g)return!this.isTouching();var h=this.getCurve(),i=b<=d?h.getPrevious():h,j=a.getCurve(),k=c<=d?j.getPrevious():j;if(b>=e&&(h=h.getNext()),c>=e&&(j=j.getNext()),!(i&&h&&k&&j))return!1;var m=[];f||m.push(i.getLength(),h.getLength()),g||m.push(k.getLength(),j.getLength());var n=this.getPoint(),o=Math.min.apply(Math,m)/64,p=f?h.getTangentAtTime(b):h.getPointAt(o).subtract(n),q=f?p.negate():i.getPointAt(-o).subtract(n),r=g?j.getTangentAtTime(c):j.getPointAt(o).subtract(n),s=g?r.negate():k.getPointAt(-o).subtract(n),t=q.getAngle(),u=p.getAngle(),v=s.getAngle(),w=r.getAngle();return!!(f?l(t,v,w)^l(u,v,w)&&l(t,w,v)^l(u,w,v):l(v,t,u)^l(w,t,u)&&l(v,u,t)^l(w,u,t))},hasOverlap:function(){return!!this._overlap}},e.each(E._evaluateMethods,function(a){var b=a+\"At\";this[a]=function(){var a=this.getCurve(),c=this.getTime();return null!=c&&a&&a[b](c,!0)}},{preserve:!0}),new function(){function a(a,b,c){function g(c,e){for(var f=c+e;f>=-1&&f<=d;f+=e){var g=a[(f%d+d)%d];if(!b.getPoint().isClose(g.getPoint(),1e-7))break;if(b.equals(g))return g}return null}for(var d=a.length,e=0,f=d-1;e<=f;){var j,h=e+f>>>1,i=a[h];if(c&&(j=b.equals(i)?i:g(h,-1)||g(h,1)))return b._overlap&&(j._overlap=j._intersection._overlap=!0),j;var k=b.getPath(),l=i.getPath(),m=k!==l?k._id-l._id:b.getIndex()+b.getTime()-(i.getIndex()+i.getTime());m<0?f=h-1:e=h+1}return a.splice(e,0,b),b}return{statics:{insert:a,expand:function(b){for(var c=b.slice(),d=b.length-1;d>=0;d--)a(c,b[d]._intersection,!1);return c}}}}),G=u.extend({_class:\"PathItem\",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(a){var b,c,d;if(e.isPlainObject(a)?(c=a.segments,b=a.pathData):Array.isArray(a)?c=a:\"string\"==typeof a&&(b=a),c){var f=c[0];d=f&&Array.isArray(f[0])}else b&&(d=(b.match(/m/gi)||[]).length>1||/z\\s*\\S+/i.test(b));var g=d?I:H;return new g(a)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(a){this.isClockwise()!=(a=!!a)&&this.reverse()},setPathData:function(a){function i(a,b){var e=+c[a];return d&&(e+=g[b]),e}function j(a){return new l(i(a,\"x\"),i(a+1,\"y\"))}var c,e,f,b=a&&a.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/gi),d=!1,g=new l,h=new l;this.clear();for(var k=0,m=b&&b.length;k<m;k++){var o=b[k],p=o[0],q=p.toLowerCase();c=o.match(/[+-]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][+-]?\\d+)?/g);var r=c&&c.length;switch(d=p===q,\"z\"!==e||/[mz]/.test(q)||this.moveTo(g),q){case\"m\":case\"l\":for(var s=\"m\"===q,t=0;t<r;t+=2)this[s?\"moveTo\":\"lineTo\"](g=j(t)),s&&(h=g,s=!1);f=g;break;case\"h\":case\"v\":var u=\"h\"===q?\"x\":\"y\";g=g.clone();for(var t=0;t<r;t++)g[u]=i(t,u),this.lineTo(g);f=g;break;case\"c\":for(var t=0;t<r;t+=6)this.cubicCurveTo(j(t),f=j(t+2),g=j(t+4));break;case\"s\":for(var t=0;t<r;t+=4)this.cubicCurveTo(/[cs]/.test(e)?g.multiply(2).subtract(f):g,f=j(t),g=j(t+2)),e=q;break;case\"q\":for(var t=0;t<r;t+=4)this.quadraticCurveTo(f=j(t),g=j(t+2));break;case\"t\":for(var t=0;t<r;t+=2)this.quadraticCurveTo(f=/[qt]/.test(e)?g.multiply(2).subtract(f):g,g=j(t)),e=q;break;case\"a\":for(var t=0;t<r;t+=7)this.arcTo(g=j(t+5),new n(+c[t],+c[t+1]),+c[t+2],+c[t+4],+c[t+3]);break;case\"z\":this.closePath(1e-12),g=h}e=q}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(a){var b=a.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(a):{};return b.onPath||!!(\"evenodd\"===this.getFillRule()?1&b.windingL||1&b.windingR:b.winding)},getIntersections:function(a,b,c,d){var e=this===a||!a,f=this._matrix._orNullIfIdentity(),g=e?f:(c||a._matrix)._orNullIfIdentity();if(!e&&!this.getBounds(f).touches(a.getBounds(g)))return[];for(var n,o,h=this.getCurves(),i=e?h:a.getCurves(),j=h.length,k=e?j:i.length,l=[],m=[],p=0;p<k;p++)l[p]=i[p].getValues(g);for(var p=0;p<j;p++){var q=h[p],r=e?l[p]:q.getValues(f),s=q.getPath();s!==o&&(o=s,n=[],m.push(n)),e&&E._getSelfIntersection(r,q,n,{include:b,excludeStart:1===j&&q.getPoint1().equals(q.getPoint2())});for(var t=e?p+1:0;t<k;t++){if(d&&n.length)return n;var u=i[t];E._getIntersections(r,l[t],q,u,n,{include:b,excludeStart:e&&q.getPrevious()===u,excludeEnd:e&&q.getNext()===u})}}n=[];for(var p=0,v=m.length;p<v;p++)n.push.apply(n,m[p]);return n},getCrossings:function(a){return this.getIntersections(a,function(a){return a._overlap||a.isCrossing()})},getNearestLocation:function(){for(var a=l.read(arguments),b=this.getCurves(),c=1/0,d=null,e=0,f=b.length;e<f;e++){var g=b[e].getNearestLocation(a);g._distance<c&&(c=g._distance,d=g)}return d},getNearestPoint:function(){var a=this.getNearestLocation.apply(this,arguments);return a?a.getPoint():a},interpolate:function(a,b,c){var d=!this._children,e=d?\"_segments\":\"_children\",f=a[e],g=b[e],h=this[e];if(!f||!g||f.length!==g.length)throw new Error(\"Invalid operands in interpolate() call: \"+a+\", \"+b);var i=h.length,j=g.length;if(i<j)for(var k=d?C:H,l=i;l<j;l++)this.add(new k);else i>j&&this[d?\"removeSegments\":\"removeChildren\"](j,i);for(var l=0;l<j;l++)h[l].interpolate(f[l],g[l],c);d&&(this.setClosed(a._closed),this._changed(9))},compare:function(a){var b=!1;if(a){var c=this._children||[this],d=a._children?a._children.slice():[a],e=c.length,f=d.length,g=[],h=0;b=!0;for(var i=e-1;i>=0&&b;i--){var j=c[i];b=!1;for(var k=f-1;k>=0&&!b;k--)j.compare(d[k])&&(g[k]||(g[k]=!0,h++),b=!0)}b=b&&h===f}return b}}),H=G.extend({_class:\"Path\",_serializeFields:{segments:[],closed:!1},initialize:function(c){this._closed=!1,this._segments=[],this._version=0;var d=Array.isArray(c)?\"object\"==typeof c[0]?c:arguments:!c||c.size!==b||c.x===b&&c.point===b?null:arguments;d&&d.length>0?this.setSegments(d):(this._curves=b,this._segmentSelection=0,d||\"string\"!=typeof c||(this.setPathData(c),c=null)),this._initialize(!d&&c)},_equals:function(a){return this._closed===a._closed&&e.equals(this._segments,a._segments)},copyContent:function(a){this.setSegments(a._segments),this._closed=a._closed},_changed:function a(c){if(a.base.call(this,c),8&c){if(this._length=this._area=b,16&c)this._version++;else if(this._curves)for(var d=0,e=this._curves.length;d<e;d++)this._curves[d]._changed()}else 32&c&&(this._bounds=b)},getStyle:function(){var a=this._parent;return(a instanceof I?a:this)._style},getSegments:function(){return this._segments},setSegments:function(a){var c=this.isFullySelected(),d=a&&a.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=b,d){var e=a[d-1];\"boolean\"==typeof e&&(this.setClosed(e),d--),this._add(C.readList(a,0,{},d))}c&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var a=this._curves,b=this._segments;if(!a){var c=this._countCurves();a=this._curves=new Array(c);for(var d=0;d<c;d++)a[d]=new E(this,b[d],b[d+1]||b[0])}return a},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var a=this.getCurves();return a[a.length-1]},isClosed:function(){return this._closed},setClosed:function(a){if(this._closed!=(a=!!a)){if(this._closed=a,this._curves){var b=this._curves.length=this._countCurves();a&&(this._curves[b-1]=new E(this,this._segments[b-1],this._segments[0]))}this._changed(25)}}},{beans:!0,getPathData:function(a,b){function r(b,c){if(b._transformCoordinates(a,f),h=f[0],j=f[1],g)q.push(\"M\"+e.pair(h,j)),g=!1;else if(m=f[2],n=f[3],m===h&&n===j&&o===k&&p===l){if(!c){var d=h-k,i=j-l;q.push(0===d?\"v\"+e.number(i):0===i?\"h\"+e.number(d):\"l\"+e.pair(d,i))}}else q.push(\"c\"+e.pair(o-k,p-l)+\" \"+e.pair(m-k,n-l)+\" \"+e.pair(h-k,j-l));k=h,l=j,o=f[4],p=f[5]}var h,j,k,l,m,n,o,p,c=this._segments,d=c.length,e=new i(b),f=new Array(6),g=!0,q=[];if(!d)return\"\";for(var s=0;s<d;s++)r(c[s]);return this._closed&&d>0&&(r(c[0],!0),q.push(\"z\")),q.join(\"\")},isEmpty:function(){return!this._segments.length},_transformContent:function(a){for(var b=this._segments,c=new Array(6),d=0,e=b.length;d<e;d++)b[d]._transformCoordinates(a,c,!0);return!0},_add:function(a,b){for(var c=this._segments,d=this._curves,e=a.length,f=null==b,b=f?c.length:b,g=0;g<e;g++){var h=a[g];h._path&&(h=a[g]=h.clone()),h._path=this,h._index=b+g,h._selection&&this._updateSelection(h,0,h._selection)}if(f)c.push.apply(c,a);else{c.splice.apply(c,[b,0].concat(a));for(var g=b+e,i=c.length;g<i;g++)c[g]._index=g}if(d){var j=this._countCurves(),k=b>0&&b+e-1===j?b-1:b,l=k,m=Math.min(k+e,j);a._curves&&(d.splice.apply(d,[k,0].concat(a._curves)),l+=a._curves.length);for(var g=l;g<m;g++)d.splice(g,0,new E(this,null,null));this._adjustCurves(k,m)}return this._changed(25),a},_adjustCurves:function(a,b){for(var e,c=this._segments,d=this._curves,f=a;f<b;f++)e=d[f],e._path=this,e._segment1=c[f],e._segment2=c[f+1]||c[0],e._changed();(e=d[this._closed&&!a?c.length-1:a-1])&&(e._segment2=c[a]||c[0],e._changed()),(e=d[b])&&(e._segment1=c[b],e._changed())},_countCurves:function(){var a=this._segments.length;return!this._closed&&a>0?a-1:a},add:function(a){return arguments.length>1&&\"number\"!=typeof a?this._add(C.readList(arguments)):this._add([C.read(arguments)])[0]},insert:function(a,b){return arguments.length>2&&\"number\"!=typeof b?this._add(C.readList(arguments,1),a):this._add([C.read(arguments,1)],a)[0]},addSegment:function(){return this._add([C.read(arguments)])[0]},insertSegment:function(a){return this._add([C.read(arguments,1)],a)[0]},addSegments:function(a){return this._add(C.readList(a))},insertSegments:function(a,b){return this._add(C.readList(b),a)},removeSegment:function(a){return this.removeSegments(a,a+1)[0]||null},removeSegments:function(a,b,c){a=a||0,b=e.pick(b,this._segments.length);var d=this._segments,f=this._curves,g=d.length,h=d.splice(a,b-a),i=h.length;if(!i)return h;for(var j=0;j<i;j++){var k=h[j];k._selection&&this._updateSelection(k,k._selection,0),k._index=k._path=null}for(var j=a,l=d.length;j<l;j++)d[j]._index=j;if(f){for(var m=a>0&&b===g+(this._closed?1:0)?a-1:a,f=f.splice(m,i),j=f.length-1;j>=0;j--)f[j]._path=null;c&&(h._curves=f.slice(1)),this._adjustCurves(m,m)}return this._changed(25),h},clear:\"#removeSegments\",hasHandles:function(){for(var a=this._segments,b=0,c=a.length;b<c;b++)if(a[b].hasHandles())return!0;return!1},clearHandles:function(){for(var a=this._segments,b=0,c=a.length;b<c;b++)a[b].clearHandles()},getLength:function(){if(null==this._length){for(var a=this.getCurves(),b=0,c=0,d=a.length;c<d;c++)b+=a[c].getLength();this._length=b}return this._length},getArea:function(){var a=this._area;if(null==a){var b=this._segments,c=this._closed;a=0;for(var d=0,e=b.length;d<e;d++){var f=d+1===e;a+=E.getArea(E.getValues(b[d],b[f?0:d+1],null,f&&!c))}this._area=a}return a},isFullySelected:function(){var a=this._segments.length;return this.isSelected()&&a>0&&this._segmentSelection===7*a},setFullySelected:function(a){a&&this._selectSegments(!0),this.setSelected(a)},setSelection:function a(b){1&b||this._selectSegments(!1),a.base.call(this,b)},_selectSegments:function(a){var b=this._segments,c=b.length,d=a?7:0;this._segmentSelection=d*c;for(var e=0;e<c;e++)b[e]._selection=d},_updateSelection:function(a,b,c){a._selection=c;var d=this._segmentSelection+=c-b;d>0&&this.setSelected(!0)},divideAt:function(a){var c,b=this.getLocationAt(a);return b&&(c=b.getCurve().divideAt(b.getCurveOffset()))?c._segment1:null},splitAt:function(a){var b=this.getLocationAt(a),c=b&&b.index,d=b&&b.time,e=4e-7,f=1-e;d>=f&&(c++,d=0);var g=this.getCurves();if(c>=0&&c<g.length){d>=e&&g[c++].divideAtTime(d);var i,h=this.removeSegments(c,this._segments.length,!0);return this._closed?(this.setClosed(!1),i=this):(i=new H(u.NO_INSERT),i.insertAbove(this),i.copyAttributes(this)),i._add(h,0),this.addSegment(h[0]),i}return null},split:function(a,c){var d,e=c===b?a:(d=this.getCurves()[a])&&d.getLocationAtTime(c);return null!=e?this.splitAt(e):null},join:function(a,b){var c=b||0;if(a&&a!==this){var d=a._segments,e=this.getLastSegment(),f=a.getLastSegment();if(!f)return this;e&&e._point.isClose(f._point,c)&&a.reverse();var g=a.getFirstSegment();if(e&&e._point.isClose(g._point,c))e.setHandleOut(g._handleOut),this._add(d.slice(1));else{var h=this.getFirstSegment();h&&h._point.isClose(g._point,c)&&a.reverse(),f=a.getLastSegment(),h&&h._point.isClose(f._point,c)?(h.setHandleIn(f._handleIn),this._add(d.slice(0,d.length-1),0)):this._add(d.slice())}a._closed&&this._add([d[0]]),a.remove()}var i=this.getFirstSegment(),j=this.getLastSegment();return i!==j&&i._point.isClose(j._point,c)&&(i.setHandleIn(j._handleIn),j.remove(),this.setClosed(!0)),this},reduce:function(a){for(var b=this.getCurves(),c=a&&a.simplify,d=c?1e-7:0,e=b.length-1;e>=0;e--){var f=b[e];!f.hasHandles()&&(!f.hasLength(d)||c&&f.isCollinear(f.getNext()))&&f.remove()}return this},reverse:function(){this._segments.reverse();for(var a=0,b=this._segments.length;a<b;a++){var c=this._segments[a],d=c._handleIn;c._handleIn=c._handleOut,c._handleOut=d,c._index=a}this._curves=null,this._changed(9)},flatten:function(a){for(var b=new J(this,a||.25,256,!0),c=b.parts,d=c.length,e=[],f=0;f<d;f++)e.push(new C(c[f].curve.slice(0,2)));!this._closed&&d>0&&e.push(new C(c[d-1].curve.slice(6))),this.setSegments(e)},simplify:function(a){var b=new K(this).fit(a||2.5);return b&&this.setSegments(b),!!b},smooth:function(a){function i(a,b){var d=a&&a.index;if(null!=d){var e=a.path;if(e&&e!==c)throw new Error(a._class+\" \"+d+\" of \"+e+\" is not part of \"+c);b&&a instanceof E&&d++}else d=\"number\"==typeof a?a:b;return Math.min(d<0&&h?d%g:d<0?d+g:d,g-1)}var c=this,d=a||{},e=d.type||\"asymmetric\",f=this._segments,g=f.length,h=this._closed,j=h&&d.from===b&&d.to===b,k=i(d.from,0),l=i(d.to,g-1);if(k>l)if(h)k-=g;else{var m=k;k=l,l=m}if(/^(?:asymmetric|continuous)$/.test(e)){var n=\"asymmetric\"===e,o=Math.min,p=l-k+1,q=p-1,r=j?o(p,4):1,s=r,t=r,u=[];if(h||(s=o(1,k),t=o(1,g-l-1)),q+=s+t,q<=1)return;for(var v=0,w=k-s;v<=q;v++,w++)u[v]=f[(w<0?w+g:w)%g]._point;for(var x=u[0]._x+2*u[1]._x,y=u[0]._y+2*u[1]._y,z=2,A=q-1,B=[x],C=[y],D=[z],F=[],G=[],v=1;v<q;v++){var H=v<A,I=H?1:n?1:2,J=H?4:n?2:7,K=H?4:n?3:8,L=H?2:n?0:1,M=I/z;z=D[v]=J-M,x=B[v]=K*u[v]._x+L*u[v+1]._x-M*x,y=C[v]=K*u[v]._y+L*u[v+1]._y-M*y}F[A]=B[A]/D[A],G[A]=C[A]/D[A];for(var v=q-2;v>=0;v--)F[v]=(B[v]-F[v+1])/D[v],G[v]=(C[v]-G[v+1])/D[v];F[q]=(3*u[q]._x-F[A])/2,G[q]=(3*u[q]._y-G[A])/2;for(var v=s,N=q-t,w=k;v<=N;v++,w++){var O=f[w<0?w+g:w],P=O._point,Q=F[v]-P._x,R=G[v]-P._y;(j||v<N)&&O.setHandleOut(Q,R),(j||v>s)&&O.setHandleIn(-Q,-R)}}else for(var v=k;v<=l;v++)f[v<0?v+g:v].smooth(d,!j&&v===k,!j&&v===l)},toShape:function(a){function h(a,b){var d=c[a],e=d.getNext(),f=c[b],g=f.getNext();return d._handleOut.isZero()&&e._handleIn.isZero()&&f._handleOut.isZero()&&g._handleIn.isZero()&&e._point.subtract(d._point).isCollinear(g._point.subtract(f._point))}function i(a){var b=c[a],d=b.getPrevious(),e=b.getNext();return d._handleOut.isZero()&&b._handleIn.isZero()&&b._handleOut.isZero()&&e._handleIn.isZero()&&b._point.subtract(d._point).isOrthogonal(e._point.subtract(b._point))}function k(a){var b=c[a],d=b.getNext(),e=b._handleOut,f=d._handleIn,g=.5522847498307936;if(e.isOrthogonal(f)){var h=b._point,i=d._point,k=new s(h,e,!0).intersect(new s(i,f,!0),!0);return k&&j.isZero(e.getLength()/k.subtract(h).getLength()-g)&&j.isZero(f.getLength()/k.subtract(i).getLength()-g)}return!1}function l(a,b){return c[a]._point.getDistance(c[b]._point)}if(!this._closed)return null;var d,e,f,g,c=this._segments;if(!this.hasHandles()&&4===c.length&&h(0,2)&&h(1,3)&&i(1)?(d=x.Rectangle,e=new n(l(0,3),l(0,1)),g=c[1]._point.add(c[2]._point).divide(2)):8===c.length&&k(0)&&k(2)&&k(4)&&k(6)&&h(1,5)&&h(3,7)?(d=x.Rectangle,e=new n(l(1,6),l(0,3)),f=e.subtract(new n(l(0,7),l(1,2))).divide(2),g=c[3]._point.add(c[4]._point).divide(2)):4===c.length&&k(0)&&k(1)&&k(2)&&k(3)&&(j.isZero(l(0,2)-l(1,3))?(d=x.Circle,f=l(0,2)/2):(d=x.Ellipse,f=new n(l(2,0)/2,l(3,1)/2)),g=c[1]._point),d){var m=this.getPosition(!0),o=new d({center:m,size:e,radius:f,insert:!1});return o.copyAttributes(this,!0),o._matrix.prepend(this._matrix),o.rotate(g.subtract(m).getAngle()+90),(a===b||a)&&o.insertAbove(this),o}return null},toPath:\"#clone\",compare:function a(b){if(!b||b instanceof I)return a.base.call(this,b);var c=this.getCurves(),d=b.getCurves(),e=c.length,f=d.length;if(!e||!f)return e==f;for(var j,l,g=c[0].getValues(),h=[],i=0,k=0,m=0;m<f;m++){var n=d[m].getValues();h.push(n);var o=E.getOverlaps(g,n);if(o){j=!m&&o[0][0]>0?f-1:m,l=o[0][1];break}}for(var r,p=Math.abs,q=4e-7,n=h[j];g&&n;){var o=E.getOverlaps(g,n);if(o){var s=o[0][0];if(p(s-k)<q){k=o[1][0],1===k&&(g=++i<e?c[i].getValues():null,k=0);var t=o[0][1];if(p(t-l)<q){if(r||(r=[j,t]),l=o[1][1],1===l&&(++j>=f&&(j=0),n=h[j]||d[j].getValues(),l=0),!g)return r[0]===j&&r[1]===l;continue}}}break}return!1},_hitTestSelf:function(a,b,c,d){function v(b,c){return a.subtract(b).divide(c).length<=1}function w(a,c,d){if(!b.selected||c.isSelected()){var f=a._point;if(c!==f&&(c=c.add(f)),v(c,k))return new B(d,e,{segment:a,point:c})}}function x(a,c){return(c||b.segments)&&w(a,a._point,\"segment\")||!c&&b.handles&&(w(a,a._handleIn,\"handle-in\")||w(a,a._handleOut,\"handle-out\"))}function y(a){o.add(a)}function z(b){if((\"round\"!==l||\"round\"!==m)&&(o=new H({internal:!0,closed:!0}),i||b._index>0&&b._index<h-1?\"round\"!==l&&(b._handleIn.isZero()||b._handleOut.isZero())&&H._addBevelJoin(b,l,u,n,null,d,y,!0):\"round\"!==m&&H._addSquareCap(b,m,u,null,d,y,!0),!o.isEmpty())){var c;return o.contains(a)||(c=o.getNearestLocation(a))&&v(c.getPoint(),j)}return v(b._point,k)}var l,m,n,o,p,q,e=this,f=this.getStyle(),g=this._segments,h=g.length,i=this._closed,j=b._tolerancePadding,k=j,r=b.stroke&&f.hasStroke(),s=b.fill&&f.hasFill(),t=b.curves,u=r?f.getStrokeWidth()/2:s&&b.tolerance>0||t?0:null;if(null!==u&&(u>0?(l=f.getStrokeJoin(),m=f.getStrokeCap(),n=u*f.getMiterLimit(),k=k.add(H._getStrokePadding(u,d))):l=m=\"round\"),!b.ends||b.segments||i){if(b.segments||b.handles)for(var A=0;A<h;A++)if(q=x(g[A]))return q}else if(q=x(g[0],!0)||x(g[h-1],!0))return q;if(null!==u){if(p=this.getNearestLocation(a)){var C=p.getTime();0===C||1===C&&h>1?z(p.getSegment())||(p=null):v(p.getPoint(),k)||(p=null)}if(!p&&\"miter\"===l&&h>1)for(var A=0;A<h;A++){var D=g[A];if(a.getDistance(D._point)<=n&&z(D)){p=D.getLocation();break}}}return!p&&s&&this._contains(a)||p&&!r&&!t?new B(\"fill\",this):p?new B(r?\"stroke\":\"curve\",this,{location:p,point:p.getPoint()}):null}},e.each(E._evaluateMethods,function(a){this[a+\"At\"]=function(b){var c=this.getLocationAt(b);return c&&c[a]()}},{beans:!1,getLocationOf:function(){for(var a=l.read(arguments),b=this.getCurves(),c=0,d=b.length;c<d;c++){var e=b[c].getLocationOf(a);if(e)return e}return null},getOffsetOf:function(){var a=this.getLocationOf.apply(this,arguments);return a?a.getOffset():null},getLocationAt:function(a){if(\"number\"==typeof a){for(var b=this.getCurves(),c=0,d=0,e=b.length;d<e;d++){var f=c,g=b[d];if(c+=g.getLength(),c>a)return g.getLocationAt(a-f)}if(b.length>0&&a<=this.getLength())return new F(b[b.length-1],1)}else if(a&&a.getPath&&a.getPath()===this)return a;return null}}),new function(){function a(a,b,c,d){function i(b){var c=f[b],d=f[b+1];g==c&&h==d||(a.beginPath(),a.moveTo(g,h),a.lineTo(c,d),a.stroke(),a.beginPath(),a.arc(c,d,e,0,2*Math.PI,!0),a.fill())}for(var g,h,e=d/2,f=new Array(6),j=0,k=b.length;j<k;j++){var l=b[j],m=l._selection;if(l._transformCoordinates(c,f),g=f[0],h=f[1],2&m&&i(2),4&m&&i(4),a.fillRect(g-e,h-e,d,d),!(1&m)){var n=a.fillStyle;a.fillStyle=\"#ffffff\",a.fillRect(g-e+1,h-e+1,d-2,d-2),a.fillStyle=n}}}function b(a,b,c){function p(b){if(c)b._transformCoordinates(c,f),h=f[0],i=f[1];else{var d=b._point;h=d._x,i=d._y}if(g)a.moveTo(h,i),g=!1;else{if(c)l=f[2],m=f[3];else{var e=b._handleIn;l=h+e._x,m=i+e._y}l===h&&m===i&&n===j&&o===k?a.lineTo(h,i):a.bezierCurveTo(n,o,l,m,h,i)}if(j=h,k=i,c)n=f[4],o=f[5];else{var e=b._handleOut;n=j+e._x,o=k+e._y}}for(var h,i,j,k,l,m,n,o,d=b._segments,e=d.length,f=new Array(6),g=!0,q=0;q<e;q++)p(d[q]);b._closed&&e>0&&p(d[0])}return{_draw:function(a,c,d,e){function m(a){return k[(a%l+l)%l]}var f=c.dontStart,g=c.dontFinish||c.clip,h=this.getStyle(),i=h.hasFill(),j=h.hasStroke(),k=h.getDashArray(),l=!paper.support.nativeDash&&j&&k&&k.length;if(f||a.beginPath(),(i||j&&!l||g)&&(b(a,this,e),this._closed&&a.closePath()),!g&&(i||j)&&(this._setStyles(a,c,d),i&&(a.fill(h.getFillRule()),a.shadowColor=\"rgba(0,0,0,0)\"),j)){if(l){f||a.beginPath();var q,n=new J(this,.25,32,!1,e),o=n.length,p=-h.getDashOffset(),r=0;for(p%=o;p>0;)p-=m(r--)+m(r--);for(;p<o;)q=p+m(r++),(p>0||q>0)&&n.drawPart(a,Math.max(p,0),Math.max(q,0)),p=q+m(r++)}a.stroke()}},_drawSelected:function(c,d){c.beginPath(),b(c,this,d),c.stroke(),a(c,this._segments,d,paper.settings.handleSize)}}},new function(){function a(a){var b=a._segments;if(!b.length)throw new Error(\"Use a moveTo() command first\");return b[b.length-1]}return{moveTo:function(){var a=this._segments;1===a.length&&this.removeSegment(0),a.length||this._add([new C(l.read(arguments))])},moveBy:function(){throw new Error(\"moveBy() is unsupported on Path items.\")},lineTo:function(){this._add([new C(l.read(arguments))])},cubicCurveTo:function(){var b=l.read(arguments),c=l.read(arguments),d=l.read(arguments),e=a(this);e.setHandleOut(b.subtract(e._point)),this._add([new C(d,c.subtract(d))])},quadraticCurveTo:function(){var b=l.read(arguments),c=l.read(arguments),d=a(this)._point;this.cubicCurveTo(b.add(d.subtract(b).multiply(1/3)),b.add(c.subtract(b).multiply(1/3)),c)},curveTo:function(){var b=l.read(arguments),c=l.read(arguments),d=e.pick(e.read(arguments),.5),f=1-d,g=a(this)._point,h=b.subtract(g.multiply(f*f)).subtract(c.multiply(d*d)).divide(2*d*f);if(h.isNaN())throw new Error(\"Cannot put a curve through points with parameter = \"+d);this.quadraticCurveTo(h,c)},arcTo:function(){var f,i,k,m,o,b=a(this),c=b._point,d=l.read(arguments),g=e.peek(arguments),h=e.pick(g,!0);if(\"boolean\"==typeof h)var p=c.add(d).divide(2),f=p.add(p.subtract(c).rotate(h?-90:90));else if(e.remain(arguments)<=2)f=d,d=l.read(arguments);else{var q=n.read(arguments),t=j.isZero;if(t(q.width)||t(q.height))return this.lineTo(d);var u=e.read(arguments),h=!!e.read(arguments),v=!!e.read(arguments),p=c.add(d).divide(2),w=c.subtract(p).rotate(-u),x=w.x,y=w.y,z=Math.abs,A=z(q.width),B=z(q.height),D=A*A,E=B*B,F=x*x,G=y*y,H=Math.sqrt(F/D+G/E);if(H>1&&(A*=H,B*=H,D=A*A,E=B*B),H=(D*E-D*G-E*F)/(D*G+E*F),z(H)<1e-12&&(H=0),H<0)throw new Error(\"Cannot create an arc with the given arguments\");i=new l(A*y/B,-B*x/A).multiply((v===h?-1:1)*Math.sqrt(H)).rotate(u).add(p),o=(new r).translate(i).rotate(u).scale(A,B),m=o._inverseTransform(c),k=m.getDirectedAngle(o._inverseTransform(d)),!h&&k>0?k-=360:h&&k<0&&(k+=360)}if(f){var I=new s(c.add(f).divide(2),f.subtract(c).rotate(90),!0),J=new s(f.add(d).divide(2),d.subtract(f).rotate(90),!0),K=new s(c,d),L=K.getSide(f);if(i=I.intersect(J,!0),!i){if(!L)return this.lineTo(d);throw new Error(\"Cannot create an arc with the given arguments\")}m=c.subtract(i),k=m.getDirectedAngle(d.subtract(i));var M=K.getSide(i);0===M?k=L*Math.abs(k):L===M&&(k+=k<0?360:-360)}for(var N=Math.abs(k),O=N>=360?4:Math.ceil(N/90),P=k/O,Q=P*Math.PI/360,R=4/3*Math.sin(Q)/(1+Math.cos(Q)),S=[],T=0;T<=O;T++){var w=d,U=null;if(T<O&&(U=m.rotate(90).multiply(R),o?(w=o._transformPoint(m),U=o._transformPoint(m.add(U)).subtract(w)):w=i.add(m)),T){var V=m.rotate(-90).multiply(R);o&&(V=o._transformPoint(m.add(V)).subtract(w)),S.push(new C(w,V,U))}else b.setHandleOut(U);m=m.rotate(P)}this._add(S)},lineBy:function(){var b=l.read(arguments),c=a(this)._point;this.lineTo(c.add(b))},curveBy:function(){var b=l.read(arguments),c=l.read(arguments),d=e.read(arguments),f=a(this)._point;this.curveTo(f.add(b),f.add(c),d)},cubicCurveBy:function(){var b=l.read(arguments),c=l.read(arguments),d=l.read(arguments),e=a(this)._point;this.cubicCurveTo(e.add(b),e.add(c),e.add(d))},quadraticCurveBy:function(){var b=l.read(arguments),c=l.read(arguments),d=a(this)._point;this.quadraticCurveTo(d.add(b),d.add(c))},arcBy:function(){var b=a(this)._point,c=b.add(l.read(arguments)),d=e.pick(e.peek(arguments),!0);\"boolean\"==typeof d?this.arcTo(c,d):this.arcTo(c,b.add(l.read(arguments)))},closePath:function(a){this.setClosed(!0),this.join(this,a)}}},{_getBounds:function(a,b){var c=b.handle?\"getHandleBounds\":b.stroke?\"getStrokeBounds\":\"getBounds\";\nreturn H[c](this._segments,this._closed,this,a,b)},statics:{getBounds:function(a,b,c,d,e,f){function m(a){a._transformCoordinates(d,h);for(var b=0;b<2;b++)E._addBounds(i[b],i[b+4],h[b+2],h[b],b,f?f[b]:0,j,k,l);var c=i;i=h,h=c}var g=a[0];if(!g)return new p;for(var h=new Array(6),i=g._transformCoordinates(d,new Array(6)),j=i.slice(0,2),k=j.slice(),l=new Array(2),n=1,o=a.length;n<o;n++)m(a[n]);return b&&m(g),new p(j[0],j[1],k[0]-j[0],k[1]-j[1])},getStrokeBounds:function(a,b,c,d,e){function s(a){k=k.include(a)}function t(a){k=k.unite(r.setCenter(a._point.transform(d)))}function u(a,b){var c=a._handleIn,e=a._handleOut;\"round\"===b||!c.isZero()&&!e.isZero()&&c.isCollinear(e)?t(a):H._addBevelJoin(a,b,l,q,d,i,s)}function v(a,b){\"round\"===b?t(a):H._addSquareCap(a,b,l,d,i,s)}var f=c.getStyle(),g=f.hasStroke(),h=f.getStrokeWidth(),i=g&&c._getStrokeMatrix(d,e),j=g&&H._getStrokePadding(h,i),k=H.getBounds(a,b,c,d,e,j);if(!g)return k;for(var l=h/2,m=f.getStrokeJoin(),o=f.getStrokeCap(),q=l*f.getMiterLimit(),r=new p(new n(j)),w=a.length-(b?0:1),x=1;x<w;x++)u(a[x],m);return b?u(a[0],m):w>0&&(v(a[0],o),v(a[a.length-1],o)),k},_getStrokePadding:function(a,b){if(!b)return[a,a];var c=new l(a,0).transform(b),d=new l(0,a).transform(b),e=c.getAngleInRadians(),f=c.getLength(),g=d.getLength(),h=Math.sin(e),i=Math.cos(e),j=Math.tan(e),k=Math.atan2(g*j,f),m=Math.atan2(g,j*f);return[Math.abs(f*Math.cos(k)*i+g*Math.sin(k)*h),Math.abs(g*Math.sin(m)*i+f*Math.cos(m)*h)]},_addBevelJoin:function(a,b,c,d,e,f,g,h){var i=a.getCurve(),j=i.getPrevious(),k=i.getPoint1().transform(e),m=j.getNormalAtTime(1).multiply(c).transform(f),n=i.getNormalAtTime(0).multiply(c).transform(f);if(m.getDirectedAngle(n)<0&&(m=m.negate(),n=n.negate()),h&&(g(k),g(k.add(m))),\"miter\"===b){var o=new s(k.add(m),new l(-m.y,m.x),!0).intersect(new s(k.add(n),new l(-n.y,n.x),!0),!0);if(o&&k.getDistance(o)<=d&&(g(o),!h))return}h||g(k.add(m)),g(k.add(n))},_addSquareCap:function(a,b,c,d,e,f,g){var h=a._point.transform(d),i=a.getLocation(),j=i.getNormal().multiply(c).transform(e);g&&(f(h.subtract(j)),f(h.add(j))),\"square\"===b&&(h=h.add(j.rotate(0===i.getTime()?-90:90))),f(h.add(j)),f(h.subtract(j))},getHandleBounds:function(a,b,c,d,e){var h,i,f=c.getStyle(),g=e.stroke&&f.hasStroke();if(g){var j=c._getStrokeMatrix(d,e),k=f.getStrokeWidth()/2,l=k;\"miter\"===f.getStrokeJoin()&&(l=k*f.getMiterLimit()),\"square\"===f.getStrokeCap()&&(l=Math.max(l,k*Math.SQRT2)),h=H._getStrokePadding(k,j),i=H._getStrokePadding(l,j)}for(var m=new Array(6),n=1/0,o=-n,q=n,r=o,s=0,t=a.length;s<t;s++){var u=a[s];u._transformCoordinates(d,m);for(var v=0;v<6;v+=2){var w=v?h:i,x=w?w[0]:0,y=w?w[1]:0,z=m[v],A=m[v+1],B=z-x,C=z+x,D=A-y,E=A+y;B<n&&(n=B),C>o&&(o=C),D<q&&(q=D),E>r&&(r=E)}}return new p(n,q,o-n,r-q)}}});H.inject({statics:new function(){function c(a,b,c){var d=e.getNamed(c),f=new H(d&&d.insert===!1&&u.NO_INSERT);return f._add(a),f._closed=b,f.set(d)}function d(a,d,e){for(var f=new Array(4),g=0;g<4;g++){var h=b[g];f[g]=new C(h._point.multiply(d).add(a),h._handleIn.multiply(d),h._handleOut.multiply(d))}return c(f,!0,e)}var a=.5522847498307936,b=[new C([-1,0],[0,a],[0,-a]),new C([0,-1],[-a,0],[a,0]),new C([1,0],[0,-a],[0,a]),new C([0,1],[a,0],[-a,0])];return{Line:function(){return c([new C(l.readNamed(arguments,\"from\")),new C(l.readNamed(arguments,\"to\"))],!1,arguments)},Circle:function(){var a=l.readNamed(arguments,\"center\"),b=e.readNamed(arguments,\"radius\");return d(a,new n(b),arguments)},Rectangle:function(){var i,b=p.readNamed(arguments,\"rectangle\"),d=n.readNamed(arguments,\"radius\",0,{readNull:!0}),e=b.getBottomLeft(!0),f=b.getTopLeft(!0),g=b.getTopRight(!0),h=b.getBottomRight(!0);if(!d||d.isZero())i=[new C(e),new C(f),new C(g),new C(h)];else{d=n.min(d,b.getSize(!0).divide(2));var j=d.width,k=d.height,l=j*a,m=k*a;i=[new C(e.add(j,0),null,[-l,0]),new C(e.subtract(0,k),[0,m]),new C(f.add(0,k),null,[0,-m]),new C(f.add(j,0),[-l,0],null),new C(g.subtract(j,0),null,[l,0]),new C(g.add(0,k),[0,-m],null),new C(h.subtract(0,k),null,[0,m]),new C(h.subtract(j,0),[l,0])]}return c(i,!0,arguments)},RoundRectangle:\"#Rectangle\",Ellipse:function(){var a=x._readEllipse(arguments);return d(a.center,a.radius,arguments)},Oval:\"#Ellipse\",Arc:function(){var a=l.readNamed(arguments,\"from\"),b=l.readNamed(arguments,\"through\"),c=l.readNamed(arguments,\"to\"),d=e.getNamed(arguments),f=new H(d&&d.insert===!1&&u.NO_INSERT);return f.moveTo(a),f.arcTo(b,c),f.set(d)},RegularPolygon:function(){for(var a=l.readNamed(arguments,\"center\"),b=e.readNamed(arguments,\"sides\"),d=e.readNamed(arguments,\"radius\"),f=360/b,g=b%3===0,h=new l(0,g?-d:d),i=g?-1:.5,j=new Array(b),k=0;k<b;k++)j[k]=new C(a.add(h.rotate((k+i)*f)));return c(j,!0,arguments)},Star:function(){for(var a=l.readNamed(arguments,\"center\"),b=2*e.readNamed(arguments,\"points\"),d=e.readNamed(arguments,\"radius1\"),f=e.readNamed(arguments,\"radius2\"),g=360/b,h=new l(0,-1),i=new Array(b),j=0;j<b;j++)i[j]=new C(a.add(h.rotate(g*j).multiply(j%2?f:d)));return c(i,!0,arguments)}}}});var I=G.extend({_class:\"CompoundPath\",_serializeFields:{children:[]},beans:!0,initialize:function(b){this._children=[],this._namedChildren={},this._initialize(b)||(\"string\"==typeof b?this.setPathData(b):this.addChildren(Array.isArray(b)?b:arguments))},insertChildren:function a(b,c){var d=c,f=d[0];f&&\"number\"==typeof f[0]&&(d=[d]);for(var g=c.length-1;g>=0;g--){var h=d[g];d!==c||h instanceof H||(d=e.slice(d)),Array.isArray(h)?d[g]=new H({segments:h,insert:!1}):h instanceof I&&(d.splice.apply(d,[g,1].concat(h.removeChildren())),h.remove())}return a.base.call(this,b,d)},reduce:function a(b){for(var c=this._children,d=c.length-1;d>=0;d--){var e=c[d].reduce(b);e.isEmpty()&&e.remove()}if(!c.length){var e=new H(u.NO_INSERT);return e.copyAttributes(this),e.insertAbove(this),this.remove(),e}return a.base.call(this)},isClosed:function(){for(var a=this._children,b=0,c=a.length;b<c;b++)if(!a[b]._closed)return!1;return!0},setClosed:function(a){for(var b=this._children,c=0,d=b.length;c<d;c++)b[c].setClosed(a)},getFirstSegment:function(){var a=this.getFirstChild();return a&&a.getFirstSegment()},getLastSegment:function(){var a=this.getLastChild();return a&&a.getLastSegment()},getCurves:function(){for(var a=this._children,b=[],c=0,d=a.length;c<d;c++)b.push.apply(b,a[c].getCurves());return b},getFirstCurve:function(){var a=this.getFirstChild();return a&&a.getFirstCurve()},getLastCurve:function(){var a=this.getLastChild();return a&&a.getLastCurve()},getArea:function(){for(var a=this._children,b=0,c=0,d=a.length;c<d;c++)b+=a[c].getArea();return b},getLength:function(){for(var a=this._children,b=0,c=0,d=a.length;c<d;c++)b+=a[c].getLength();return b},getPathData:function(a,b){for(var c=this._children,d=[],e=0,f=c.length;e<f;e++){var g=c[e],h=g._matrix;d.push(g.getPathData(a&&!h.isIdentity()?a.appended(h):a,b))}return d.join(\"\")},_hitTestChildren:function a(b,c,d){return a.base.call(this,b,c.class===H||\"path\"===c.type?c:e.set({},c,{fill:!1}),d)},_draw:function(a,b,c,d){var e=this._children;if(e.length){b=b.extend({dontStart:!0,dontFinish:!0}),a.beginPath();for(var f=0,g=e.length;f<g;f++)e[f].draw(a,b,d);if(!b.clip){this._setStyles(a,b,c);var h=this._style;h.hasFill()&&(a.fill(h.getFillRule()),a.shadowColor=\"rgba(0,0,0,0)\"),h.hasStroke()&&a.stroke()}}},_drawSelected:function(a,b,c){for(var d=this._children,e=0,f=d.length;e<f;e++){var g=d[e],h=g._matrix;c[g._id]||g._drawSelected(a,h.isIdentity()?b:b.appended(h))}}},new function(){function a(a,b){var c=a._children;if(b&&!c.length)throw new Error(\"Use a moveTo() command first\");return c[c.length-1]}return e.each([\"lineTo\",\"cubicCurveTo\",\"quadraticCurveTo\",\"curveTo\",\"arcTo\",\"lineBy\",\"cubicCurveBy\",\"quadraticCurveBy\",\"curveBy\",\"arcBy\"],function(b){this[b]=function(){var c=a(this,!0);c[b].apply(c,arguments)}},{moveTo:function(){var b=a(this),c=b&&b.isEmpty()?b:new H(u.NO_INSERT);c!==b&&this.addChild(c),c.moveTo.apply(c,arguments)},moveBy:function(){var b=a(this,!0),c=b&&b.getLastSegment(),d=l.read(arguments);this.moveTo(c?d.add(c._point):d)},closePath:function(b){a(this,!0).closePath(b)}})},e.each([\"reverse\",\"flatten\",\"simplify\",\"smooth\"],function(a){this[a]=function(b){for(var d,c=this._children,e=0,f=c.length;e<f;e++)d=c[e][a](b)||d;return d}},{}));G.inject(new function(){function f(a,b){var c=a.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);return b?c.resolveCrossings().reorient(\"nonzero\"===c.getFillRule()):c}function g(a,b,c,d,e,f){var g=new a(u.NO_INSERT);return g.addChildren(b,!0),c&&(g=g.reduce({simplify:!0})),f&&f.insert===!1||g.insertAbove(e&&d.isSibling(e)&&d.getIndex()<e.getIndex()?e:d),g.copyAttributes(d,!0),g}function h(a,b,c,e){function C(a){for(var b=0,c=a.length;b<c;b++){var d=a[b];r.push.apply(r,d._segments),s.push.apply(s,d.getCurves()),d._overlapsOnly=!0}}if(e&&e.stroke&&/^(subtract|intersect)$/.test(c))return i(a,b,\"subtract\"===c);var h=f(a,!0),j=b&&a!==b&&f(b,!0),k=d[c];k[c]=!0,j&&(k.subtract||k.exclude)^(j.isClockwise()^h.isClockwise())&&j.reverse();var t,l=m(F.expand(h.getCrossings(j))),n=h._children||[h],q=j&&(j._children||[j]),r=[],s=[];if(!l.length){var v=!0;if(q)for(var w=0,x=n.length;w<x&&v;w++)for(var y=n[w].getBounds(),z=0,A=q.length;z<A&&v;z++){var B=q[z].getBounds();v=!y._containsRectangle(B)&&!B._containsRectangle(y)}v&&(t=k.unite||k.exclude?[h,j]:k.subtract?[h]:k.intersect?[new H(u.NO_INSERT)]:null)}if(!t){C(n),q&&C(q);for(var D=0,E=l.length;D<E;D++)o(l[D]._segment,h,j,s,k);for(var D=0,E=r.length;D<E;D++){var G=r[D],J=G._intersection;null==G._winding&&o(G,h,j,s,k),J&&J._overlap||(G._path._overlapsOnly=!1)}t=p(r,k)}return g(I,t,!0,a,b,e)}function i(a,b,c){function j(a){if(e.contains(a.getPointAt(a.getLength()/2))^c)return i.unshift(a),!0}for(var d=f(a),e=f(b),h=d.getCrossings(e),i=[],k=h.length-1;k>=0;k--){var l=h[k].split();l&&(j(l)&&l.getFirstSegment().setHandleIn(0,0),d.getLastSegment().setHandleOut(0,0))}return j(d),g(v,i,!1,a,b)}function k(a,b){for(var c=a;c;){if(c===b)return;c=c._previous}for(;a._next&&a._next!==b;)a=a._next;if(!a._next){for(;b._previous;)b=b._previous;a._next=b,b._previous=a}}function l(a){for(var b=a.length-1;b>=0;b--)a[b].clearHandles()}function m(a,b,c){function o(a){return a._path._id+\".\"+a._segment1._index}for(var j,m,n,d=b&&[],e=4e-7,f=1-e,g=!1,h=c||[],i=c&&{},p=(c&&c.length)-1;p>=0;p--){var q=c[p];q._path&&(i[o(q)]=!0)}for(var p=a.length-1;p>=0;p--){var u,r=a[p],s=r._time,t=b&&!b(r),q=r._curve;if(q&&(q!==m?(g=!q.hasHandles()||i&&i[o(q)],j=[],n=null):n>e&&(r._time/=n),m=q),t)j||(j=[]),j.push(r);else{if(b&&d.unshift(r),n=s,s=r._time,s<e)u=q._segment1;else if(s>f)u=q._segment2;else{var v=q.divideAtTime(s,!0);g&&h.push(q,v),u=v._segment1;for(var w=j.length-1;w>=0;w--){var x=j[w];x._time=(x._time-s)/(1-s)}}r._setSegment(u);var y=u._intersection,z=r._intersection;if(y){k(y,z);for(var A=y;A;)k(A._intersection,y),A=A._next}else u._intersection=z}}return c||l(h),d||a}function n(d,e,f,g,h){function y(c){var l=c[k],x=c[k+6];if(!(o<a(l,x)||o>b(l,x))){var y=c[j],z=c[j+2],A=c[j+4],B=c[j+6];if(l===x)return void((y<q&&B>p||B<q&&y>p)&&(t=!0));var C=o===l?0:o===x?1:p>b(y,z,A,B)||q<a(y,z,A,B)?.5:1===E.solveCubic(c,k,o,v,0,1)?v[0]:.5,D=0===C?y:1===C?B:E.getPoint(c,C)[f?\"y\":\"x\"],F=l>x?1:-1,G=w[k]>w[k+6]?1:-1,H=w[j+6];return o!==l?D<p?r+=F:D>q?s+=F:(r+=F,s+=F,t=!0):F!==G?(H<q&&(r+=F),H>p&&(s+=F)):(H<p&&D>p||H>q&&D<q)&&(t=!0,H<p?s+=F:H>q&&(r+=F)),o!==l?D>m-100*i&&D<m+100*i&&(u/=2):u=0,w=c,!h&&D>p&&D<q&&0===E.getTangent(c,C)[f?\"x\":\"y\"]&&n(d,e,f?0:1,g,!0)}}function z(c){var d=c[k],e=c[k+2],g=c[k+4],h=c[k+6];if(o<=b(d,e,g,h)&&o>=a(d,e,g,h))for(var s,i=c[j],l=c[j+2],m=c[j+4],n=c[j+6],r=p>b(i,l,m,n)||q<a(i,l,m,n)?[c]:E.getMonoCurves(c,f),t=0,u=r.length;t<u;t++)if(s=y(r[t]))return s}for(var w,x,i=1e-8,j=f?1:0,k=f?0:1,l=[d.x,d.y],m=l[j],o=l[k],p=m-i,q=m+i,r=0,s=0,t=!1,u=1,v=[],A=0,B=e.length;A<B;A++){var G,C=e[A],D=C._path,F=C.getValues();if(!(A&&e[A-1]._path===D||(w=null,D._closed||(x=E.getValues(D.getLastCurve().getSegment2(),C.getSegment1(),null,!g),x[k]!==x[k+6]&&(w=x)),w))){w=F;for(var H=D.getLastCurve();H&&H!==C;){var I=H.getValues();if(I[k]!==I[k+6]){w=I;break}H=H.getPrevious()}}if(G=z(F))return G;if(A+1===B||e[A+1]._path!==D){if(x&&(G=z(x)))return G;if(t&&!r&&!s){var J=D.isClockwise(g)^f?1:-1;r+=J,s+=J}x=null}}return r=r&&2-c(r)%2,s=s&&2-c(s)%2,{winding:b(r,s),windingL:r,windingR:s,quality:u,onContour:!r^!s,onPath:t}}function o(a,b,d,e,f){var k,g=[],h=a,i=0;do{var l=a.getCurve(),m=l.getLength();g.push({segment:a,curve:l,length:m}),i+=m,a=a.getNext()}while(a&&!a._intersection&&a!==h);for(var o={winding:0,quality:0},k=o,p=4e-7,q=1-p,r=0;r<3&&k.quality<.5;r++)for(var m=i*(r+1)/4,s=0,t=g.length;s<t;s++){var u=g[s],v=u.length;if(m<=v){var l=u.curve,w=l._path,x=w._parent,y=j.clamp(l.getTimeAt(m),p,q),z=l.getPointAtTime(y),A=c(l.getTangentAtTime(y).normalize().y)<Math.SQRT1_2?1:0;x instanceof I&&(w=x);var B=f.subtract&&d&&(w===b&&d._getWinding(z,A,!0).winding||w===d&&!b._getWinding(z,A,!0).winding)?o:n(z,e,A,!0);B.quality>k.quality&&(k=B);break}m-=v}for(var s=g.length-1;s>=0;s--)g[s].segment._winding=k}function p(a,b){function e(a){var c;return!(!a||a._visited||!(!b||b[(c=a._winding||{}).winding]||b.unite&&c.onContour))}function f(a){if(a)for(var b=0,c=d.length;b<c;b++)if(a===d[b])return!0;return!1}function g(a){for(var b=a._segments,c=0,d=b.length;c<d;c++)b[c]._visited=!0}function h(a,b){function i(c,g){for(;c&&c!==g;){var i=c._segment,j=i._path,k=i.getNext()||j&&j.getFirstSegment(),l=k&&k._intersection;i!==a&&(f(i)||f(k)||k&&e(i)&&(e(k)||l&&e(l._segment)))&&h.push(c),b&&d.push(i),c=c._next}}var c=a._intersection,g=c,h=[];if(b&&(d=[a]),c){for(i(c);c&&c._prev;)c=c._prev;i(c,g)}return h}var d,c=[];a.sort(function(a,b){var c=a._intersection,d=b._intersection,e=!(!c||!c._overlap),f=!(!d||!d._overlap),g=a._path,h=b._path;return e^f?e?1:-1:!c^!d?c?1:-1:g!==h?g._id-h._id:a._index-b._index});for(var i=0,j=a.length;i<j;i++){var q,r,s,k=a[i],l=e(k),m=null,n=!1,o=!0,p=[];if(l&&k._path._overlapsOnly){var t=k._path,v=k._intersection._segment._path;t.compare(v)&&(t.getArea()&&c.push(t.clone(!1)),g(t),g(v),l=!1)}for(;l;){var w=!m,x=h(k,w),y=x.shift(),z=y&&y._segment,n=!w&&(f(k)||f(z)),A=!n&&z;if(w&&(m=new H(u.NO_INSERT),q=null),n){(k.isFirst()||k.isLast())&&(o=k._path._closed),k._visited=!0;break}if(A&&q&&(p.push(q),q=null),q||(q={start:m._segments.length,segment:k,intersections:x,visited:r=[],handleIn:s}),A&&(k=z),!e(k)){m.removeSegments(q.start);for(var B=0,D=r.length;B<D;B++)r[B]._visited=!1;if(y=q.intersections.shift())k=y._segment,r.length=0;else{if(!(q=p.pop())||!e(k=q.segment))break;r=q.visited}s=q.handleIn}var E=k.getNext();m.add(new C(k._point,s,E&&k._handleOut)),k._visited=!0,r.push(k),k=E||k._path.getFirstSegment(),s=E&&E._handleIn}n&&(o&&(m.firstSegment.setHandleIn(s),m.setClosed(o)),0!==m.getArea()&&c.push(m))}return c}var a=Math.min,b=Math.max,c=Math.abs,d={unite:{1:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0}};return{_getWinding:function(a,b,c){return n(a,this.getCurves(),b,c)},unite:function(a,b){return h(this,a,\"unite\",b)},intersect:function(a,b){return h(this,a,\"intersect\",b)},subtract:function(a){return h(this,a,\"subtract\")},exclude:function(a,b){return h(this,a,\"exclude\",b)},divide:function(a,b){return g(v,[this.subtract(a,b),this.intersect(a,b)],!0,this,a,b)},resolveCrossings:function(){function c(a){var b=a&&a._intersection;return b&&b._overlap}var a=this._children,b=a||[this],d=!1,f=!1,g=this.getIntersections(null,function(a){return a._overlap&&(d=!0)||a.isCrossing()&&(f=!0)}),h=d&&f&&[];if(g=F.expand(g),d)for(var i=m(g,function(a){return a._overlap},h),j=i.length-1;j>=0;j--){var k=i[j]._segment,n=k.getPrevious(),o=k.getNext();c(n)&&c(o)&&(k.remove(),n._handleOut._set(0,0),o._handleIn._set(0,0),n===k||n.getCurve().hasLength()||(o._handleIn.set(n._handleIn),n.remove()))}f&&(m(g,d&&function(a){var b=a.getCurve(),c=a._intersection._curve,d=a._segment;return!!(b&&c&&b._path&&c._path)||void(d&&(d._intersection=null))},h),h&&l(h),b=p(e.each(b,function(a){this.push.apply(this,a._segments)},[])));var r,q=b.length;return q>1&&a?(b!==a&&this.setChildren(b),r=this):1!==q||a||(b[0]!==this&&this.setSegments(b[0].removeSegments()),r=this),r||(r=new I(u.NO_INSERT),r.addChildren(b),r=r.reduce(),r.copyAttributes(this),this.replaceWith(r)),r},reorient:function(a){var b=this._children,d=b&&b.length;if(d>1){var f=e.each(b,function(a,b){this[a._id]={winding:a.isClockwise()?1:-1,index:b}},{}),g=this.removeChildren().sort(function(a,b){return c(b.getArea())-c(a.getArea())}),h=g[0],i=[];i[f[h._id].index]=h;for(var j=1;j<d;j++){for(var k=g[j],l=f[k._id],m=k.getInteriorPoint(),n=!1,o=null,p=!1,q=j-1;q>=0&&!o;q--){var r=g[q];if(r.contains(m)){var s=f[r._id];if(a&&!n&&(l.winding+=s.winding,l.winding&&s.winding)){p=l.exclude=!0;break}n=!0,o=!s.exclude&&r}}p||(k.setClockwise(o?!o.isClockwise():h.isClockwise()),i[l.index]=k)}this.setChildren(i)}return this},getInteriorPoint:function(){var c=this.getBounds(),d=c.getCenter(!0);if(!this.contains(d)){for(var e=this.getCurves(),f=d.y,g=[],h=[],i=0,j=e.length;i<j;i++){var k=e[i].getValues(),l=k[1],m=k[3],n=k[5],o=k[7];if(f>=a(l,m,n,o)&&f<=b(l,m,n,o))for(var p=E.getMonoCurves(k),q=0,r=p.length;q<r;q++){var s=p[q],t=s[1],u=s[7];if(t!==u&&(f>=t&&f<=u||f>=u&&f<=t)){var v=f===t?s[0]:f===u?s[6]:1===E.solveCubic(s,1,f,h,0,1)?E.getPoint(s,h[0]).x:(s[0]+s[6])/2;g.push(v)}}}g.length>1&&(g.sort(function(a,b){return a-b}),d.x=(g[0]+g[1])/2)}return d}}});var J=e.extend({_class:\"PathFlattener\",initialize:function(a,b,c,d,e){function m(a,b){var c=E.getValues(a,b,e);f.push(c),n(c,a._index,0,1)}function n(a,c,e,f){if(!(f-e>i)||d&&E.isStraight(a)||E.isFlatEnough(a,b||.25)){var l=a[6]-a[0],m=a[7]-a[1],o=Math.sqrt(l*l+m*m);o>0&&(h+=o,g.push({offset:h,curve:a,index:c,time:f}))}else{var j=E.subdivide(a,.5),k=(e+f)/2;n(j[0],c,e,k),n(j[1],c,k,f)}}for(var l,f=[],g=[],h=0,i=1/(c||32),j=a._segments,k=j[0],o=1,p=j.length;o<p;o++)l=j[o],m(k,l),k=l;a._closed&&m(l,j[0]),this.curves=f,this.parts=g,this.length=h,this.index=0},_get:function(a){for(var e,b=this.parts,c=b.length,f=this.index;e=f,f&&!(b[--f].offset<a););for(;e<c;e++){var g=b[e];if(g.offset>=a){this.index=e;var h=b[e-1],i=h&&h.index===g.index?h.time:0,j=h?h.offset:0;return{index:g.index,time:i+(g.time-i)*(a-j)/(g.offset-j)}}}return{index:b[c-1].index,time:1}},drawPart:function(a,b,c){for(var d=this._get(b),e=this._get(c),f=d.index,g=e.index;f<=g;f++){var h=E.getPart(this.curves[f],f===d.index?d.time:0,f===e.index?e.time:1);f===d.index&&a.moveTo(h[0],h[1]),a.bezierCurveTo.apply(a,h.slice(2))}}},e.each(E._evaluateMethods,function(a){this[a+\"At\"]=function(b){var c=this._get(b);return E[a](this.curves[c.index],c.time)}},{})),K=e.extend({initialize:function(a){for(var f,b=this.points=[],c=a._segments,d=a._closed,e=0,g=c.length;e<g;e++){var h=c[e].point;f&&f.equals(h)||b.push(f=h.clone())}d&&(b.unshift(b[b.length-1]),b.push(b[1])),this.closed=d},fit:function(a){var b=this.points,c=b.length,d=null;return c>0&&(d=[new C(b[0])],c>1&&(this.fitCubic(d,a,0,c-1,b[1].subtract(b[0]),b[c-2].subtract(b[c-1])),this.closed&&(d.shift(),d.pop()))),d},fitCubic:function(a,b,c,d,e,f){var g=this.points;if(d-c===1){var h=g[c],i=g[d],j=h.getDistance(i)/3;return void this.addCurve(a,[h,h.add(e.normalize(j)),i.add(f.normalize(j)),i])}for(var m,k=this.chordLengthParameterize(c,d),l=Math.max(b,b*b),n=!0,o=0;o<=4;o++){var p=this.generateBezier(c,d,k,e,f),q=this.findMaxError(c,d,p,k);if(q.error<b&&n)return void this.addCurve(a,p);if(m=q.index,q.error>=l)break;n=this.reparameterize(c,d,k,p),l=q.error}var r=g[m-1].subtract(g[m+1]);this.fitCubic(a,b,c,m,e,r),this.fitCubic(a,b,m,d,r.negate(),f)},addCurve:function(a,b){var c=a[a.length-1];c.setHandleOut(b[1].subtract(b[0])),a.push(new C(b[3],b[2].subtract(b[3])))},generateBezier:function(a,b,c,d,e){for(var f=1e-12,g=Math.abs,h=this.points,i=h[a],j=h[b],k=[[0,0],[0,0]],l=[0,0],m=0,n=b-a+1;m<n;m++){var o=c[m],p=1-o,q=3*o*p,r=p*p*p,s=q*p,t=q*o,u=o*o*o,v=d.normalize(s),w=e.normalize(t),x=h[a+m].subtract(i.multiply(r+s)).subtract(j.multiply(t+u));k[0][0]+=v.dot(v),k[0][1]+=v.dot(w),k[1][0]=k[0][1],k[1][1]+=w.dot(w),l[0]+=v.dot(x),l[1]+=w.dot(x)}var z,A,y=k[0][0]*k[1][1]-k[1][0]*k[0][1];if(g(y)>f){var B=k[0][0]*l[1]-k[1][0]*l[0],C=l[0]*k[1][1]-l[1]*k[0][1];z=C/y,A=B/y}else{var D=k[0][0]+k[0][1],E=k[1][0]+k[1][1];z=A=g(D)>f?l[0]/D:g(E)>f?l[1]/E:0}var H,I,F=j.getDistance(i),G=f*F;if(z<G||A<G)z=A=F/3;else{var J=j.subtract(i);H=d.normalize(z),I=e.normalize(A),H.dot(J)-I.dot(J)>F*F&&(z=A=F/3,H=I=null)}return[i,i.add(H||d.normalize(z)),j.add(I||e.normalize(A)),j]},reparameterize:function(a,b,c,d){for(var e=a;e<=b;e++)c[e-a]=this.findRoot(d,this.points[e],c[e-a]);for(var e=1,f=c.length;e<f;e++)if(c[e]<=c[e-1])return!1;return!0},findRoot:function(a,b,c){for(var d=[],e=[],f=0;f<=2;f++)d[f]=a[f+1].subtract(a[f]).multiply(3);for(var f=0;f<=1;f++)e[f]=d[f+1].subtract(d[f]).multiply(2);var g=this.evaluate(3,a,c),h=this.evaluate(2,d,c),i=this.evaluate(1,e,c),j=g.subtract(b),k=h.dot(h)+j.dot(i);return Math.abs(k)<1e-6?c:c-j.dot(h)/k},evaluate:function(a,b,c){for(var d=b.slice(),e=1;e<=a;e++)for(var f=0;f<=a-e;f++)d[f]=d[f].multiply(1-c).add(d[f+1].multiply(c));return d[0]},chordLengthParameterize:function(a,b){for(var c=[0],d=a+1;d<=b;d++)c[d-a]=c[d-a-1]+this.points[d].getDistance(this.points[d-1]);for(var d=1,e=b-a;d<=e;d++)c[d]/=c[e];return c},findMaxError:function(a,b,c,d){for(var e=Math.floor((b-a+1)/2),f=0,g=a+1;g<b;g++){var h=this.evaluate(3,c,d[g-a]),i=h.subtract(this.points[g]),j=i.x*i.x+i.y*i.y;j>=f&&(f=j,e=g)}return{error:f,index:e}}}),L=u.extend({_class:\"TextItem\",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(c){this._content=\"\",this._lines=[];var d=c&&e.isPlainObject(c)&&c.x===b&&c.y===b;this._initialize(d&&c,!d&&l.read(arguments))},_equals:function(a){return this._content===a._content},copyContent:function(a){this.setContent(a._content)},getContent:function(){return this._content},setContent:function(a){this._content=\"\"+a,this._lines=this._content.split(/\\r\\n|\\n|\\r/gm),this._changed(265)},isEmpty:function(){return!this._content},getCharacterStyle:\"#getStyle\",setCharacterStyle:\"#setStyle\",getParagraphStyle:\"#getStyle\",setParagraphStyle:\"#setStyle\"}),M=L.extend({_class:\"PointText\",initialize:function(){L.apply(this,arguments)},getPoint:function(){var a=this._matrix.getTranslation();return new m(a.x,a.y,this,\"setPoint\")},setPoint:function(){var a=l.read(arguments);this.translate(a.subtract(this._matrix.getTranslation()))},_draw:function(a,b,c){if(this._content){this._setStyles(a,b,c);var d=this._lines,e=this._style,f=e.hasFill(),g=e.hasStroke(),h=e.getLeading(),i=a.shadowColor;a.font=e.getFontStyle(),a.textAlign=e.getJustification();for(var j=0,k=d.length;j<k;j++){a.shadowColor=i;var l=d[j];f&&(a.fillText(l,0,0),a.shadowColor=\"rgba(0,0,0,0)\"),g&&a.strokeText(l,0,0),a.translate(0,h)}}},_getBounds:function(a,b){var c=this._style,d=this._lines,e=d.length,f=c.getJustification(),g=c.getLeading(),h=this.getView().getTextWidth(c.getFontStyle(),d),i=0;\"left\"!==f&&(i-=h/(\"center\"===f?2:1));var j=new p(i,e?-.75*g:0,h,e*g);return a?a._transformBounds(j,j):j}}),N=e.extend(new function(){function g(a){var e,b=a.match(/^#(\\w{1,2})(\\w{1,2})(\\w{1,2})$/);if(b){e=[0,0,0];for(var g=0;g<3;g++){var h=b[g+1];e[g]=parseInt(1==h.length?h+h:h,16)/255}}else if(b=a.match(/^rgba?\\((.*)\\)$/)){e=b[1].split(\",\");for(var g=0,i=e.length;g<i;g++){var h=+e[g];e[g]=g<3?h/255:h}}else if(c){var j=d[a];if(!j){f||(f=aa.getContext(1,1),f.globalCompositeOperation=\"copy\"),f.fillStyle=\"rgba(0,0,0,0)\",f.fillStyle=a,f.fillRect(0,0,1,1);var k=f.getImageData(0,0,1,1).data;j=d[a]=[k[0]/255,k[1]/255,k[2]/255]}e=j.slice()}else e=[0,0,0];return e}var f,a={gray:[\"gray\"],rgb:[\"red\",\"green\",\"blue\"],hsb:[\"hue\",\"saturation\",\"brightness\"],hsl:[\"hue\",\"saturation\",\"lightness\"],gradient:[\"gradient\",\"origin\",\"destination\",\"highlight\"]},b={},d={},h=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],j={\"rgb-hsb\":function(a,b,c){var d=Math.max(a,b,c),e=Math.min(a,b,c),f=d-e,g=0===f?0:60*(d==a?(b-c)/f+(b<c?6:0):d==b?(c-a)/f+2:(a-b)/f+4);return[g,0===d?0:f/d,d]},\"hsb-rgb\":function(a,b,c){a=(a/60%6+6)%6;var d=Math.floor(a),e=a-d,d=h[d],f=[c,c*(1-b),c*(1-b*e),c*(1-b*(1-e))];return[f[d[0]],f[d[1]],f[d[2]]]},\"rgb-hsl\":function(a,b,c){var d=Math.max(a,b,c),e=Math.min(a,b,c),f=d-e,g=0===f,h=g?0:60*(d==a?(b-c)/f+(b<c?6:0):d==b?(c-a)/f+2:(a-b)/f+4),i=(d+e)/2,j=g?0:i<.5?f/(d+e):f/(2-d-e);return[h,j,i]},\"hsl-rgb\":function(a,b,c){if(a=(a/360%1+1)%1,0===b)return[c,c,c];for(var d=[a+1/3,a,a-1/3],e=c<.5?c*(1+b):c+b-c*b,f=2*c-e,g=[],h=0;h<3;h++){var i=d[h];i<0&&(i+=1),i>1&&(i-=1),g[h]=6*i<1?f+6*(e-f)*i:2*i<1?e:3*i<2?f+(e-f)*(2/3-i)*6:f}return g},\"rgb-gray\":function(a,b,c){return[.2989*a+.587*b+.114*c]},\"gray-rgb\":function(a){return[a,a,a]},\"gray-hsb\":function(a){return[0,0,a]},\"gray-hsl\":function(a){return[0,0,a]},\"gradient-rgb\":function(){return[]},\"rgb-gradient\":function(){return[]}};return e.each(a,function(c,d){b[d]=[],e.each(c,function(c,f){var g=e.capitalize(c),h=/^(hue|saturation)$/.test(c),i=b[d][f]=\"gradient\"===c?function(a){var b=this._components[0];return a=O.read(Array.isArray(a)?a:arguments,0,{readNull:!0}),b!==a&&(b&&b._removeOwner(this),a&&a._addOwner(this)),a}:\"gradient\"===d?function(){return l.read(arguments,0,{readNull:\"highlight\"===c,clone:!0})}:function(a){return null==a||isNaN(a)?0:a};this[\"get\"+g]=function(){return this._type===d||h&&/^hs[bl]$/.test(this._type)?this._components[f]:this._convert(d)[f]},this[\"set\"+g]=function(b){this._type===d||h&&/^hs[bl]$/.test(this._type)||(this._components=this._convert(d),this._properties=a[d],this._type=d),this._components[f]=i.call(this,b),this._changed()}},this)},{_class:\"Color\",_readIndex:!0,initialize:function c(d){var j,k,l,m,f=arguments,h=this.__read,i=0;Array.isArray(d)&&(f=d,d=f[0]);var n=null!=d&&typeof d;if(\"string\"===n&&d in a&&(j=d,d=f[1],Array.isArray(d)?(k=d,l=f[2]):(h&&(i=1),f=e.slice(f,1),n=typeof d)),!k){if(m=\"number\"===n?f:\"object\"===n&&null!=d.length?d:null){j||(j=m.length>=3?\"rgb\":\"gray\");var o=a[j].length;l=m[o],h&&(i+=m===arguments?o+(null!=l?1:0):1),m.length>o&&(m=e.slice(m,0,o))}else if(\"string\"===n)j=\"rgb\",k=g(d),4===k.length&&(l=k[3],k.length--);else if(\"object\"===n)if(d.constructor===c){if(j=d._type,k=d._components.slice(),l=d._alpha,\"gradient\"===j)for(var p=1,q=k.length;p<q;p++){var r=k[p];r&&(k[p]=r.clone())}}else if(d.constructor===O)j=\"gradient\",m=f;else{j=\"hue\"in d?\"lightness\"in d?\"hsl\":\"hsb\":\"gradient\"in d||\"stops\"in d||\"radial\"in d?\"gradient\":\"gray\"in d?\"gray\":\"rgb\";var s=a[j],t=b[j];this._components=k=[];for(var p=0,q=s.length;p<q;p++){var u=d[s[p]];null==u&&!p&&\"gradient\"===j&&\"stops\"in d&&(u={stops:d.stops,radial:d.radial}),u=t[p].call(this,u),null!=u&&(k[p]=u)}l=d.alpha}h&&j&&(i=1)}if(this._type=j||\"rgb\",!k){this._components=k=[];for(var t=b[this._type],p=0,q=t.length;p<q;p++){var u=t[p].call(this,m&&m[p]);null!=u&&(k[p]=u)}}return this._components=k,this._properties=a[this._type],this._alpha=l,h&&(this.__read=i),this},set:\"#initialize\",_serialize:function(a,b){var c=this.getComponents();return e.serialize(/^(gray|rgb)$/.test(this._type)?c:[this._type].concat(c),a,!0,b)},_changed:function(){this._canvasStyle=null,this._owner&&this._owner._changed(65)},_convert:function(a){var b;return this._type===a?this._components.slice():(b=j[this._type+\"-\"+a])?b.apply(this,this._components):j[\"rgb-\"+a].apply(this,j[this._type+\"-rgb\"].apply(this,this._components))},convert:function(a){return new N(a,this._convert(a),this._alpha)},getType:function(){return this._type},setType:function(b){this._components=this._convert(b),this._properties=a[b],this._type=b},getComponents:function(){var a=this._components.slice();return null!=this._alpha&&a.push(this._alpha),a},getAlpha:function(){return null!=this._alpha?this._alpha:1},setAlpha:function(a){this._alpha=null==a?null:Math.min(Math.max(a,0),1),this._changed()},hasAlpha:function(){return null!=this._alpha},equals:function(a){var b=e.isPlainValue(a,!0)?N.read(arguments):a;return b===this||b&&this._class===b._class&&this._type===b._type&&this.getAlpha()===b.getAlpha()&&e.equals(this._components,b._components)||!1},toString:function(){for(var a=this._properties,b=[],c=\"gradient\"===this._type,d=i.instance,e=0,f=a.length;e<f;e++){var g=this._components[e];null!=g&&b.push(a[e]+\": \"+(c?g:d.number(g)))}return null!=this._alpha&&b.push(\"alpha: \"+d.number(this._alpha)),\"{ \"+b.join(\", \")+\" }\"},toCSS:function(a){function d(a){return Math.round(255*(a<0?0:a>1?1:a))}var b=this._convert(\"rgb\"),c=a||null==this._alpha?1:this._alpha;return b=[d(b[0]),d(b[1]),d(b[2])],c<1&&b.push(c<0?0:c),a?\"#\"+((1<<24)+(b[0]<<16)+(b[1]<<8)+b[2]).toString(16).slice(1):(4==b.length?\"rgba(\":\"rgb(\")+b.join(\",\")+\")\"},toCanvasStyle:function(a){if(this._canvasStyle)return this._canvasStyle;if(\"gradient\"!==this._type)return this._canvasStyle=this.toCSS();var g,b=this._components,c=b[0],d=c._stops,e=b[1],f=b[2];if(c._radial){var h=f.getDistance(e),i=b[3];if(i){var j=i.subtract(e);j.getLength()>h&&(i=e.add(j.normalize(h-.1)))}var k=i||e;g=a.createRadialGradient(k.x,k.y,0,e.x,e.y,h)}else g=a.createLinearGradient(e.x,e.y,f.x,f.y);for(var l=0,m=d.length;l<m;l++){var n=d[l];g.addColorStop(n._offset||l/(m-1),n._color.toCanvasStyle())}return this._canvasStyle=g},transform:function(a){if(\"gradient\"===this._type){for(var b=this._components,c=1,d=b.length;c<d;c++){var e=b[c];a._transformPoint(e,e,!0)}this._changed()}},statics:{_types:a,random:function(){var a=Math.random;return new N(a(),a(),a())}}})},new function(){var a={add:function(a,b){return a+b},subtract:function(a,b){return a-b},multiply:function(a,b){return a*b},divide:function(a,b){return a/b}};return e.each(a,function(a,b){this[b]=function(b){b=N.read(arguments);for(var c=this._type,d=this._components,e=b._convert(c),f=0,g=d.length;f<g;f++)e[f]=a(d[f],e[f]);return new N(c,e,null!=this._alpha?a(this._alpha,b.getAlpha()):null)}},{})}),O=e.extend({_class:\"Gradient\",initialize:function(b,c){this._id=k.get(),b&&e.isPlainObject(b)&&(this.set(b),b=c=null),null==this._stops&&this.setStops(b||[\"white\",\"black\"]),null==this._radial&&this.setRadial(\"string\"==typeof c&&\"radial\"===c||c||!1)},_serialize:function(a,b){return b.add(this,function(){return e.serialize([this._stops,this._radial],a,!0,b)})},_changed:function(){for(var a=0,b=this._owners&&this._owners.length;a<b;a++)this._owners[a]._changed()},_addOwner:function(a){this._owners||(this._owners=[]),this._owners.push(a)},_removeOwner:function(a){var c=this._owners?this._owners.indexOf(a):-1;c!=-1&&(this._owners.splice(c,1),this._owners.length||(this._owners=b))},clone:function(){for(var a=[],b=0,c=this._stops.length;b<c;b++)a[b]=this._stops[b].clone();return new O(a,this._radial)},getStops:function(){return this._stops},setStops:function(a){if(a.length<2)throw new Error(\"Gradient stop list needs to contain at least two stops.\");var c=this._stops;if(c)for(var d=0,e=c.length;d<e;d++)c[d]._owner=b;c=this._stops=P.readList(a,0,{clone:!0});for(var d=0,e=c.length;d<e;d++)c[d]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(a){this._radial=a,this._changed()},equals:function(a){if(a===this)return!0;if(a&&this._class===a._class){var b=this._stops,c=a._stops,d=b.length;if(d===c.length){for(var e=0;e<d;e++)if(!b[e].equals(c[e]))return!1;return!0}}return!1}}),P=e.extend({_class:\"GradientStop\",initialize:function(c,d){var e=c,f=d;\"object\"==typeof c&&d===b&&(Array.isArray(c)&&\"number\"!=typeof c[0]?(e=c[0],f=c[1]):(\"color\"in c||\"offset\"in c||\"rampPoint\"in c)&&(e=c.color,f=c.offset||c.rampPoint||0)),this.setColor(e),this.setOffset(f)},clone:function(){return new P(this._color.clone(),this._offset)},_serialize:function(a,b){var c=this._color,d=this._offset;return e.serialize(null==d?[c]:[c,d],a,!0,b)},_changed:function(){this._owner&&this._owner._changed(65)},getOffset:function(){return this._offset},setOffset:function(a){this._offset=a,this._changed()},getRampPoint:\"#getOffset\",setRampPoint:\"#setOffset\",getColor:function(){return this._color},setColor:function(){var a=N.read(arguments,0,{\nclone:!0});a&&(a._owner=this),this._color=a,this._changed()},equals:function(a){return a===this||a&&this._class===a._class&&this._color.equals(a._color)&&this._offset==a._offset||!1}}),Q=e.extend(new function(){var a={fillColor:null,fillRule:\"nonzero\",strokeColor:null,strokeWidth:1,strokeCap:\"butt\",strokeJoin:\"miter\",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new l,selectedColor:null},c=e.set({},a,{fontFamily:\"sans-serif\",fontWeight:\"normal\",fontSize:12,leading:null,justification:\"left\"}),d=e.set({},c,{fillColor:new N}),f={strokeWidth:97,strokeCap:97,strokeJoin:97,strokeScaling:105,miterLimit:97,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},g={beans:!0},h={_class:\"Style\",beans:!0,initialize:function(e,f,g){this._values={},this._owner=f,this._project=f&&f._project||g||paper.project,this._defaults=!f||f instanceof v?c:f instanceof L?d:a,e&&this.set(e)}};return e.each(c,function(a,c){var d=/Color$/.test(c),i=\"shadowOffset\"===c,j=e.capitalize(c),k=f[c],m=\"set\"+j,n=\"get\"+j;h[m]=function(a){var e=this._owner,f=e&&e._children;if(f&&f.length>0&&!(e instanceof I))for(var g=0,h=f.length;g<h;g++)f[g]._style[m](a);else if(c in this._defaults){var i=this._values[c];i!==a&&(d&&(i&&i._owner!==b&&(i._owner=b),a&&a.constructor===N&&(a._owner&&(a=a.clone()),a._owner=e)),this._values[c]=a,e&&e._changed(k||65))}},h[n]=function(a){var h,f=this._owner,g=f&&f._children;if(c in this._defaults&&(!g||!g.length||a||f instanceof I)){var h=this._values[c];if(h===b)h=this._defaults[c],h&&h.clone&&(h=h.clone());else{var j=d?N:i?l:null;!j||h&&h.constructor===j||(this._values[c]=h=j.read([h],0,{readNull:!0,clone:!0}),h&&d&&(h._owner=f))}}else if(g)for(var k=0,m=g.length;k<m;k++){var o=g[k]._style[n]();if(k){if(!e.equals(h,o))return b}else h=o}return h},g[n]=function(a){return this._style[n](a)},g[m]=function(a){this._style[m](a)}}),e.each({Font:\"FontFamily\",WindingRule:\"FillRule\"},function(a,b){var c=\"get\"+b,d=\"set\"+b;h[c]=g[c]=\"#get\"+a,h[d]=g[d]=\"#set\"+a}),u.inject(g),h},{set:function(a){this._values={};var b=a instanceof Q,c=b?a._values:a;if(c)for(var d in c)if(d in this._defaults){var e=c[d];this[d]=e&&b&&e.clone?e.clone():e}},equals:function(a){function c(a,c,d){var f=a._values,g=c._values,h=c._defaults;for(var i in f){var j=f[i],k=g[i];if(!(d&&i in g||e.equals(j,k===b?h[i]:k)))return!1}return!0}return a===this||a&&this._class===a._class&&c(this,a)&&c(a,this,!0)||!1},hasFill:function(){var a=this.getFillColor();return!!a&&a.alpha>0},hasStroke:function(){var a=this.getStrokeColor();return!!a&&a.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var a=this.getShadowColor();return!!a&&a.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var a=this.getFontSize();return this.getFontWeight()+\" \"+a+(/[a-z]/i.test(a+\"\")?\" \":\"px \")+this.getFontFamily()},getFont:\"#getFontFamily\",setFont:\"#setFontFamily\",getLeading:function a(){var b=a.base.call(this),c=this.getFontSize();return/pt|em|%|px/.test(c)&&(c=this.getView().getPixelSize(c)),null!=b?b:1.2*c}}),R=new function(){function a(a,b,c,d){for(var e=[\"\",\"webkit\",\"moz\",\"Moz\",\"ms\",\"o\"],f=b[0].toUpperCase()+b.substring(1),g=0;g<6;g++){var h=e[g],i=h?h+f:b;if(i in a){if(!c)return a[i];a[i]=d;break}}}return{getStyles:function(a){var b=a&&9!==a.nodeType?a.ownerDocument:a,c=b&&b.defaultView;return c&&c.getComputedStyle(a,\"\")},getBounds:function(a,b){var f,c=a.ownerDocument,d=c.body,e=c.documentElement;try{f=a.getBoundingClientRect()}catch(a){f={left:0,top:0,width:0,height:0}}var g=f.left-(e.clientLeft||d.clientLeft||0),h=f.top-(e.clientTop||d.clientTop||0);if(!b){var i=c.defaultView;g+=i.pageXOffset||e.scrollLeft||d.scrollLeft,h+=i.pageYOffset||e.scrollTop||d.scrollTop}return new p(g,h,f.width,f.height)},getViewportBounds:function(a){var b=a.ownerDocument,c=b.defaultView,d=b.documentElement;return new p(0,0,c.innerWidth||d.clientWidth,c.innerHeight||d.clientHeight)},getOffset:function(a,b){return R.getBounds(a,b).getPoint()},getSize:function(a){return R.getBounds(a,!0).getSize()},isInvisible:function(a){return R.getSize(a).equals(new n(0,0))},isInView:function(a){return!R.isInvisible(a)&&R.getViewportBounds(a).intersects(R.getBounds(a,!0))},isInserted:function(a){return d.body.contains(a)},getPrefixed:function(b,c){return b&&a(b,c)},setPrefixed:function(b,c,d){if(\"object\"==typeof c)for(var e in c)a(b,e,!0,c[e]);else a(b,c,!0,d)}}},S={add:function(a,b){if(a)for(var c in b)for(var d=b[c],e=c.split(/[\\s,]+/g),f=0,g=e.length;f<g;f++)a.addEventListener(e[f],d,!1)},remove:function(a,b){if(a)for(var c in b)for(var d=b[c],e=c.split(/[\\s,]+/g),f=0,g=e.length;f<g;f++)a.removeEventListener(e[f],d,!1)},getPoint:function(a){var b=a.targetTouches?a.targetTouches.length?a.targetTouches[0]:a.changedTouches[0]:a;return new l(b.pageX||b.clientX+d.documentElement.scrollLeft,b.pageY||b.clientY+d.documentElement.scrollTop)},getTarget:function(a){return a.target||a.srcElement},getRelatedTarget:function(a){return a.relatedTarget||a.toElement},getOffset:function(a,b){return S.getPoint(a).subtract(R.getOffset(b||S.getTarget(a)))}};S.requestAnimationFrame=new function(){function f(){var c=d;d=[];for(var e=0,g=c.length;e<g;e++)c[e]();b=a&&d.length,b&&a(f)}var e,a=R.getPrefixed(c,\"requestAnimationFrame\"),b=!1,d=[];return function(c){d.push(c),a?b||(a(f),b=!0):e||(e=setInterval(f,1e3/60))}};var T=e.extend(f,{_class:\"View\",initialize:function a(b,e){function f(a){return e[a]||parseInt(e.getAttribute(a),10)}function h(){var a=R.getSize(e);return a.isNaN()||a.isZero()?new n(f(\"width\"),f(\"height\")):a}var i;if(c&&e){this._id=e.getAttribute(\"id\"),null==this._id&&e.setAttribute(\"id\",this._id=\"view-\"+a._id++),S.add(e,this._viewEvents);var j=\"none\";if(R.setPrefixed(e.style,{userDrag:j,userSelect:j,touchCallout:j,contentZooming:j,tapHighlightColor:\"rgba(0,0,0,0)\"}),g.hasAttribute(e,\"resize\")){var k=this;S.add(c,this._windowEvents={resize:function(){k.setViewSize(h())}})}if(i=h(),g.hasAttribute(e,\"stats\")&&\"undefined\"!=typeof Stats){this._stats=new Stats;var l=this._stats.domElement,m=l.style,o=R.getOffset(e);m.position=\"absolute\",m.left=o.x+\"px\",m.top=o.y+\"px\",d.body.appendChild(l)}}else i=new n(e),e=null;this._project=b,this._scope=b._scope,this._element=e,this._pixelRatio||(this._pixelRatio=c&&c.devicePixelRatio||1),this._setElementSize(i.width,i.height),this._viewSize=i,a._views.push(this),a._viewsById[this._id]=this,(this._matrix=new r)._owner=this,a._focused||(a._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!paper.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;T._focused===this&&(T._focused=null),T._views.splice(T._views.indexOf(this),1),delete T._viewsById[this._id];var a=this._project;return a._view===this&&(a._view=null),S.remove(this._element,this._viewEvents),S.remove(c,this._windowEvents),this._element=this._project=null,this.off(\"frame\"),this._animate=!1,this._frameItems={},!0},_events:e.each(u._itemHandlers.concat([\"onResize\",\"onKeyDown\",\"onKeyUp\"]),function(a){this[a]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(a){this._autoUpdate=a,a&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var a=this;S.requestAnimationFrame(function(){if(a._requested=!1,a._animate){a.requestUpdate();var b=a._element;R.getPrefixed(d,\"hidden\")&&\"true\"!==g.getAttribute(b,\"keepalive\")||!R.isInView(b)||a._handleFrame()}a._autoUpdate&&a.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){paper=this._scope;var a=Date.now()/1e3,b=this._last?a-this._last:0;this._last=a,this.emit(\"frame\",new e({delta:b,time:this._time+=b,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(a,b){var c=this._frameItems;b?(c[a._id]={item:a,time:0,count:0},1===++this._frameItemCount&&this.on(\"frame\",this._handleFrameItems)):(delete c[a._id],0===--this._frameItemCount&&this.off(\"frame\",this._handleFrameItems))},_handleFrameItems:function(a){for(var b in this._frameItems){var c=this._frameItems[b];c.item.emit(\"frame\",new e(a,{time:c.time+=a.delta,count:c.count++}))}},_changed:function(){this._project._changed(2049),this._bounds=this._decomposed=b},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return 72*this._pixelRatio},getViewSize:function(){var a=this._viewSize;return new o(a.width,a.height,this,\"setViewSize\")},setViewSize:function(){var a=n.read(arguments),b=a.subtract(this._viewSize);b.isZero()||(this._setElementSize(a.width,a.height),this._viewSize.set(a),this._changed(),this.emit(\"resize\",{size:a,delta:b}),this._autoUpdate&&this.update())},_setElementSize:function(a,b){var c=this._element;c&&(c.width!==a&&(c.width=a),c.height!==b&&(c.height=b))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new p(new l,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return R.isInView(this._element)},isInserted:function(){return R.isInserted(this._element)},getPixelSize:function(a){var c,b=this._element;if(b){var e=b.parentNode,f=d.createElement(\"div\");f.style.fontSize=a,e.appendChild(f),c=parseFloat(R.getStyles(f).fontSize),e.removeChild(f)}else c=parseFloat(c);return c},getTextWidth:function(a,b){return 0}},e.each([\"rotate\",\"scale\",\"shear\",\"skew\"],function(a){var b=\"rotate\"===a;this[a]=function(){var c=(b?e:l).read(arguments),d=l.read(arguments,0,{readNull:!0});return this.transform((new r)[a](c,d||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var a=new r;return this.transform(a.translate.apply(a,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var a=l.read(arguments);this.translate(this.getCenter().subtract(a))},getZoom:function(){var a=this._decompose(),b=a&&a.scaling;return b?(b.x+b.y)/2:0},setZoom:function(a){this.transform((new r).scale(a/this.getZoom(),this.getCenter()))},getRotation:function(){var a=this._decompose();return a&&a.rotation},setRotation:function(a){var b=this.getRotation();null!=b&&null!=a&&this.rotate(a-b)},getScaling:function(){var a=this._decompose(),c=a&&a.scaling;return c?new m(c.x,c.y,this,\"setScaling\"):b},setScaling:function(){var a=this.getScaling(),b=l.read(arguments,0,{clone:!0,readNull:!0});a&&b&&this.scale(b.x/a.x,b.y/a.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var a=this._matrix;a.initialize.apply(a,arguments)},transform:function(a){this._matrix.append(a)},scrollBy:function(){this.translate(l.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(l.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(l.read(arguments))},getEventPoint:function(a){return this.viewToProject(S.getOffset(a,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(a,b){d&&\"string\"==typeof b&&(b=d.getElementById(b));var e=c?U:T;return new e(a,b)}}},new function(){function g(a){var b=S.getTarget(a);return b.getAttribute&&T._viewsById[b.getAttribute(\"id\")]}function h(){var a=T._focused;if(!a||!a.isVisible())for(var c=0,d=T._views.length;c<d;c++)if((a=T._views[c]).isVisible()){T._focused=b=a;break}}function i(a,b,c){a._handleMouseEvent(\"mousemove\",b,c)}function C(a,b,c,d,e,f,g){function j(a,c){if(a.responds(c)){if(i||(i=new Y(c,d,e,b||a,f?e.subtract(f):null)),a.emit(c,i)&&(p=!0,i.prevented&&(q=!0),i.stopped))return h=!0}else{var g=r[c];if(g)return j(a,g)}}for(var i,h=!1;a&&a!==g&&!j(a,c);)a=a._parent;return h}function D(a,b,c,d,e,f){return a._project.removeOn(c),q=p=!1,y&&C(y,null,c,d,e,f)||b&&b!==y&&!b.isDescendant(y)&&C(b,null,r[c]||c,d,e,f,y)||C(a,y||b||a,c,d,e,f)}if(c){var a,b,k,l,m,e=!1,f=!1,j=c.navigator;j.pointerEnabled||j.msPointerEnabled?(k=\"pointerdown MSPointerDown\",l=\"pointermove MSPointerMove\",m=\"pointerup pointercancel MSPointerUp MSPointerCancel\"):(k=\"touchstart\",l=\"touchmove\",m=\"touchend touchcancel\",\"ontouchstart\"in c&&j.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(k+=\" mousedown\",l+=\" mousemove\",m+=\" mouseup\"));var n={},o={mouseout:function(a){var b=T._focused,c=S.getRelatedTarget(a);if(b&&(!c||\"HTML\"===c.nodeName)){var d=S.getOffset(a,b._element),e=d.x,f=Math.abs,g=f(e),h=1<<25,j=g-h;d.x=f(j)<g?j*(e<0?-1:1):e,i(b,a,b.viewToProject(d))}},scroll:h};n[k]=function(a){var b=T._focused=g(a);e||(e=!0,b._handleMouseEvent(\"mousedown\",a))},o[l]=function(c){var d=T._focused;if(!f){var e=g(c);e?d!==e&&(d&&i(d,c),a||(a=d),d=T._focused=b=e):b&&b===d&&(a&&!a.isInserted()&&(a=null),d=T._focused=a,a=null,h())}d&&i(d,c)},o[k]=function(){f=!0},o[m]=function(a){var b=T._focused;b&&e&&b._handleMouseEvent(\"mouseup\",a),f=e=!1},S.add(d,o),S.add(c,{load:h});var t,u,v,w,x,y,z,A,B,p=!1,q=!1,r={doubleclick:\"click\",mousedrag:\"mousemove\"},s=!1,E={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:n,_handleMouseEvent:function(a,b,c){function j(a){return d.virtual[a]||i.responds(a)||h&&h.responds(a)}var d=this._itemEvents,f=d.native[a],g=\"mousemove\"===a,h=this._scope.tool,i=this;g&&e&&j(\"mousedrag\")&&(a=\"mousedrag\"),c||(c=this.getEventPoint(b));var k=this.getBounds().contains(c),l=f&&k&&i._project.hitTest(c,{tolerance:0,fill:!0,stroke:!0}),m=l&&l.item||null,n=!1,o={};o[a.substr(5)]=!0,f&&m!==x&&(x&&C(x,null,\"mouseleave\",b,c),m&&C(m,null,\"mouseenter\",b,c),x=m),s^k&&(C(this,null,k?\"mouseenter\":\"mouseleave\",b,c),t=k?this:null,n=!0),!k&&!o.drag||c.equals(v)||(D(this,m,g?a:\"mousemove\",b,c,v),n=!0),s=k,(o.down&&k||o.up&&u)&&(D(this,m,a,b,c,u),o.down?(B=m===z&&Date.now()-A<300,w=z=m,y=!q&&m,u=c):o.up&&(q||m!==w||(A=Date.now(),D(this,m,B?\"doubleclick\":\"click\",b,c,u),B=!1),w=y=null),s=!1,n=!0),v=c,n&&h&&(p=h._handleMouseEvent(a,b,c,o)||p),(p&&!o.move||o.down&&j(\"mouseup\"))&&b.preventDefault()},_handleKeyEvent:function(a,b,c,d){function h(f){f.responds(a)&&(paper=e,f.emit(a,g=g||new W(a,b,c,d)))}var g,e=this._scope,f=e.tool;this.isVisible()&&(h(this),f&&f.responds(a)&&h(f))},_countItemEvent:function(a,b){var c=this._itemEvents,d=c.native,e=c.virtual;for(var f in E)d[f]=(d[f]||0)+(E[f][a]||0)*b;e[a]=(e[a]||0)+b},statics:{updateFocus:h}}}}),U=T.extend({_class:\"CanvasView\",initialize:function(b,d){if(!(d instanceof c.HTMLCanvasElement)){var f=n.read(arguments,1);if(f.isZero())throw new Error(\"Cannot create CanvasView with the provided argument: \"+e.slice(arguments,1));d=aa.getCanvas(f)}var h=this._context=d.getContext(\"2d\");if(h.save(),this._pixelRatio=1,!/^off|false$/.test(g.getAttribute(d,\"hidpi\"))){var i=c.devicePixelRatio||1,j=R.getPrefixed(h,\"backingStorePixelRatio\")||1;this._pixelRatio=i/j}T.call(this,b,d),this._needsUpdate=!0},remove:function a(){return this._context.restore(),a.base.call(this)},_setElementSize:function a(b,c){var d=this._pixelRatio;if(a.base.call(this,b*d,c*d),1!==d){var e=this._element,f=this._context;if(!g.hasAttribute(e,\"resize\")){var h=e.style;h.width=b+\"px\",h.height=c+\"px\"}f.restore(),f.save(),f.scale(d,d)}},getPixelSize:function a(b){var d,c=paper.agent;if(c&&c.firefox)d=a.base.call(this,b);else{var e=this._context,f=e.font;e.font=b+\" serif\",d=parseFloat(e.font),e.font=f}return d},getTextWidth:function(a,b){var c=this._context,d=c.font,e=0;c.font=a;for(var f=0,g=b.length;f<g;f++)e=Math.max(e,c.measureText(b[f]).width);return c.font=d,e},update:function(){if(!this._needsUpdate)return!1;var a=this._project,b=this._context,c=this._viewSize;return b.clearRect(0,0,c.width+1,c.height+1),a&&a.draw(b,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),V=e.extend({_class:\"Event\",initialize:function(b){this.event=b,this.type=b&&b.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return X.modifiers}}),W=V.extend({_class:\"KeyEvent\",initialize:function(b,c,d,e){this.type=b,this.event=c,this.key=d,this.character=e},toString:function(){return\"{ type: '\"+this.type+\"', key: '\"+this.key+\"', character: '\"+this.character+\"', modifiers: \"+this.getModifiers()+\" }\"}}),X=new function(){function k(b){var c=b.key||b.keyIdentifier;return c=/^U\\+/.test(c)?String.fromCharCode(parseInt(c.substr(2),16)):/^Arrow[A-Z]/.test(c)?c.substr(5):\"Unidentified\"===c?String.fromCharCode(b.keyCode):c,a[c]||(c.length>1?e.hyphenate(c):c.toLowerCase())}function l(a,b,c,d){var m,k=T._focused;if(f[b]=a,a?g[b]=c:delete g[b],b.length>1&&(m=e.camelize(b))in j){j[m]=a;var n=paper&&paper.agent;if(\"meta\"===m&&n&&n.mac)if(a)h={};else{for(var o in h)o in g&&l(!1,o,h[o],d);h=null}}else a&&h&&(h[b]=c);k&&k._handleKeyEvent(a?\"keydown\":\"keyup\",d,b,c)}var h,i,a={\"\\t\":\"tab\",\" \":\"space\",\"\\b\":\"backspace\",\"\":\"delete\",Spacebar:\"space\",Del:\"delete\",Win:\"meta\",Esc:\"escape\"},b={tab:\"\\t\",space:\" \",enter:\"\\r\"},f={},g={},j=new e({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var a=paper&&paper.agent;return a&&a.mac?this.meta:this.control}}});return S.add(d,{keydown:function(a){var c=k(a),d=paper&&paper.agent;c.length>1||d&&d.chrome&&(a.altKey||d.mac&&a.metaKey||!d.mac&&a.ctrlKey)?l(!0,c,b[c]||(c.length>1?\"\":c),a):i=c},keypress:function(a){if(i){var b=k(a),c=a.charCode,d=c>=32?String.fromCharCode(c):b.length>1?\"\":b;b!==i&&(b=d.toLowerCase()),l(!0,b,d,a),i=null}},keyup:function(a){var b=k(a);b in g&&l(!1,b,g[b],a)}}),S.add(c,{blur:function(a){for(var b in g)l(!1,b,g[b],a)}}),{modifiers:j,isDown:function(a){return!!f[a]}}},Y=V.extend({_class:\"MouseEvent\",initialize:function(b,c,d,e,f){this.type=b,this.event=c,this.point=d,this.target=e,this.delta=f},toString:function(){return\"{ type: '\"+this.type+\"', point: \"+this.point+\", target: \"+this.target+(this.delta?\", delta: \"+this.delta:\"\")+\", modifiers: \"+this.getModifiers()+\" }\"}}),Z=V.extend({_class:\"ToolEvent\",_item:null,initialize:function(b,c,d){this.tool=b,this.type=c,this.event=d},_choosePoint:function(a,b){return a?a:b?b.clone():null},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(a){this._point=a},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(a){this._lastPoint=a},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(a){this._downPoint=a},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(a){this._middlePoint=a},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(a){this._delta=a},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?\"_downCount\":\"_moveCount\"]},setCount:function(a){this.tool[/^mouse(down|up)$/.test(this.type)?\"downCount\":\"count\"]=a},getItem:function(){if(!this._item){var a=this.tool._scope.project.hitTest(this.getPoint());if(a){for(var b=a.item,c=b._parent;/^(Group|CompoundPath)$/.test(c._class);)b=c,c=c._parent;this._item=b}}return this._item},setItem:function(a){this._item=a},toString:function(){return\"{ type: \"+this.type+\", point: \"+this.getPoint()+\", count: \"+this.getCount()+\", modifiers: \"+this.getModifiers()+\" }\"}}),_=(h.extend({_class:\"Tool\",_list:\"tools\",_reference:\"tool\",_events:[\"onMouseDown\",\"onMouseUp\",\"onMouseDrag\",\"onMouseMove\",\"onActivate\",\"onDeactivate\",\"onEditOptions\",\"onKeyDown\",\"onKeyUp\"],initialize:function(b){h.call(this),this._moveCount=-1,this._downCount=-1,this.set(b)},getMinDistance:function(){return this._minDistance},setMinDistance:function(a){this._minDistance=a,null!=a&&null!=this._maxDistance&&a>this._maxDistance&&(this._maxDistance=a)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(a){this._maxDistance=a,null!=this._minDistance&&null!=a&&a<this._minDistance&&(this._minDistance=a)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(a){this._minDistance=this._maxDistance=a},_handleMouseEvent:function(a,b,c,d){function k(a,b){var f=c,g=e?j._point:j._downPoint||f;if(e){if(j._moveCount&&f.equals(g))return!1;if(g&&(null!=a||null!=b)){var h=f.subtract(g),i=h.getLength();if(i<(a||0))return!1;b&&(f=g.add(h.normalize(Math.min(i,b))))}j._moveCount++}return j._point=f,j._lastPoint=g||f,d.down&&(j._moveCount=-1,j._downPoint=f,j._downCount++),!0}function l(){f&&(i=j.emit(a,new Z(j,a,b))||i)}paper=this._scope,d.drag&&!this.responds(a)&&(a=\"mousemove\");var e=d.move||d.drag,f=this.responds(a),g=this.minDistance,h=this.maxDistance,i=!1,j=this;if(d.down)k(),l();else if(d.up)k(null,h),l();else if(f)for(;k(g,h);)l();return i}}),{request:function(b){var c=new a.XMLHttpRequest;return c.open((b.method||\"get\").toUpperCase(),b.url,e.pick(b.async,!0)),b.mimeType&&c.overrideMimeType(b.mimeType),c.onload=function(){var a=c.status;0===a||200===a?b.onLoad&&b.onLoad.call(c,c.responseText):c.onerror()},c.onerror=function(){var a=c.status,d='Could not load \"'+b.url+'\" (Status: '+a+\")\";if(!b.onError)throw new Error(d);b.onError(d,a)},c.send(null)}}),aa={canvases:[],getCanvas:function(a,b){if(!c)return null;var e,f=!0;\"object\"==typeof a&&(b=a.height,a=a.width),this.canvases.length?e=this.canvases.pop():(e=d.createElement(\"canvas\"),f=!1);var g=e.getContext(\"2d\");if(!g)throw new Error(\"Canvas \"+e+\" is unable to provide a 2D context.\");return e.width===a&&e.height===b?f&&g.clearRect(0,0,a+1,b+1):(e.width=a,e.height=b),g.save(),e},getContext:function(a,b){var c=this.getCanvas(a,b);return c?c.getContext(\"2d\"):null},release:function(a){var b=a&&a.canvas?a.canvas:a;b&&b.getContext&&(b.getContext(\"2d\").restore(),this.canvases.push(b))}},ba=new function(){function p(a,b,c){return.2989*a+.587*b+.114*c}function q(c,d,e,f){var g=f-p(c,d,e);m=c+g,n=d+g,o=e+g;var f=p(m,n,o),h=a(m,n,o),i=b(m,n,o);if(h<0){var j=f-h;m=f+(m-f)*f/j,n=f+(n-f)*f/j,o=f+(o-f)*f/j}if(i>255){var k=255-f,l=i-f;m=f+(m-f)*k/l,n=f+(n-f)*k/l,o=f+(o-f)*k/l}}function r(c,d,e){return b(c,d,e)-a(c,d,e)}function s(c,d,e,f){var j,g=[c,d,e],h=b(c,d,e),i=a(c,d,e);i=i===c?0:i===d?1:2,h=h===c?0:h===d?1:2,j=0===a(i,h)?1===b(i,h)?2:1:0,g[h]>g[i]?(g[j]=(g[j]-g[i])*f/(g[h]-g[i]),g[h]=f):g[j]=g[h]=0,g[i]=0,m=g[0],n=g[1],o=g[2]}var d,f,g,h,i,j,k,l,m,n,o,a=Math.min,b=Math.max,c=Math.abs,t={multiply:function(){m=i*d/255,n=j*f/255,o=k*g/255},screen:function(){m=i+d-i*d/255,n=j+f-j*f/255,o=k+g-k*g/255},overlay:function(){m=i<128?2*i*d/255:255-2*(255-i)*(255-d)/255,n=j<128?2*j*f/255:255-2*(255-j)*(255-f)/255,o=k<128?2*k*g/255:255-2*(255-k)*(255-g)/255},\"soft-light\":function(){var a=d*i/255;m=a+i*(255-(255-i)*(255-d)/255-a)/255,a=f*j/255,n=a+j*(255-(255-j)*(255-f)/255-a)/255,a=g*k/255,o=a+k*(255-(255-k)*(255-g)/255-a)/255},\"hard-light\":function(){m=d<128?2*d*i/255:255-2*(255-d)*(255-i)/255,n=f<128?2*f*j/255:255-2*(255-f)*(255-j)/255,o=g<128?2*g*k/255:255-2*(255-g)*(255-k)/255},\"color-dodge\":function(){m=0===i?0:255===d?255:a(255,255*i/(255-d)),n=0===j?0:255===f?255:a(255,255*j/(255-f)),o=0===k?0:255===g?255:a(255,255*k/(255-g))},\"color-burn\":function(){m=255===i?255:0===d?0:b(0,255-255*(255-i)/d),n=255===j?255:0===f?0:b(0,255-255*(255-j)/f),o=255===k?255:0===g?0:b(0,255-255*(255-k)/g)},darken:function(){m=i<d?i:d,n=j<f?j:f,o=k<g?k:g},lighten:function(){m=i>d?i:d,n=j>f?j:f,o=k>g?k:g},difference:function(){m=i-d,m<0&&(m=-m),n=j-f,n<0&&(n=-n),o=k-g,o<0&&(o=-o)},exclusion:function(){m=i+d*(255-i-i)/255,n=j+f*(255-j-j)/255,o=k+g*(255-k-k)/255},hue:function(){s(d,f,g,r(i,j,k)),q(m,n,o,p(i,j,k))},saturation:function(){s(i,j,k,r(d,f,g)),q(m,n,o,p(i,j,k))},luminosity:function(){q(i,j,k,p(d,f,g))},color:function(){q(d,f,g,p(i,j,k))},add:function(){m=a(i+d,255),n=a(j+f,255),o=a(k+g,255)},subtract:function(){m=b(i-d,0),n=b(j-f,0),o=b(k-g,0)},average:function(){m=(i+d)/2,n=(j+f)/2,o=(k+g)/2},negation:function(){m=255-c(255-d-i),n=255-c(255-f-j),o=255-c(255-g-k)}},u=this.nativeModes=e.each([\"source-over\",\"source-in\",\"source-out\",\"source-atop\",\"destination-over\",\"destination-in\",\"destination-out\",\"destination-atop\",\"lighter\",\"darker\",\"copy\",\"xor\"],function(a){this[a]=!0},{}),v=aa.getContext(1,1);v&&(e.each(t,function(a,b){var c=\"darken\"===b,d=!1;v.save();try{v.fillStyle=c?\"#300\":\"#a00\",v.fillRect(0,0,1,1),v.globalCompositeOperation=b,v.globalCompositeOperation===b&&(v.fillStyle=c?\"#a00\":\"#300\",v.fillRect(0,0,1,1),d=v.getImageData(0,0,1,1).data[0]!==c?170:51)}catch(a){}v.restore(),u[b]=d}),aa.release(v)),this.process=function(a,b,c,e,p){var q=b.canvas,r=\"normal\"===a;if(r||u[a])c.save(),c.setTransform(1,0,0,1,0,0),c.globalAlpha=e,r||(c.globalCompositeOperation=a),c.drawImage(q,p.x,p.y),c.restore();else{var s=t[a];if(!s)return;for(var v=c.getImageData(p.x,p.y,q.width,q.height),w=v.data,x=b.getImageData(0,0,q.width,q.height).data,y=0,z=w.length;y<z;y+=4){d=x[y],i=w[y],f=x[y+1],j=w[y+1],g=x[y+2],k=w[y+2],h=x[y+3],l=w[y+3],s();var A=h*e/255,B=1-A;w[y]=A*m+B*i,w[y+1]=A*n+B*j,w[y+2]=A*o+B*k,w[y+3]=h*e+B*l}c.putImageData(v,p.x,p.y)}}},ca=new function(){function f(b,c,e){return h(d.createElementNS(a,b),c,e)}function g(a,b){var c=e[b],d=c?a.getAttributeNS(c,b):a.getAttribute(b);return\"null\"===d?null:d}function h(a,b,c){for(var d in b){var f=b[d],g=e[d];\"number\"==typeof f&&c&&(f=c.number(f)),g?a.setAttributeNS(g,d,f):a.setAttribute(d,f)}return a}var a=\"http://www.w3.org/2000/svg\",b=\"http://www.w3.org/2000/xmlns\",c=\"http://www.w3.org/1999/xlink\",e={href:c,xlink:b,xmlns:b+\"/\",\"xmlns:xlink\":b+\"/\"};return{svg:a,xmlns:b,xlink:c,create:f,get:g,set:h}},da=e.each({fillColor:[\"fill\",\"color\"],fillRule:[\"fill-rule\",\"string\"],strokeColor:[\"stroke\",\"color\"],strokeWidth:[\"stroke-width\",\"number\"],strokeCap:[\"stroke-linecap\",\"string\"],strokeJoin:[\"stroke-linejoin\",\"string\"],strokeScaling:[\"vector-effect\",\"lookup\",{true:\"none\",false:\"non-scaling-stroke\"},function(a,b){return!b&&(a instanceof G||a instanceof x||a instanceof L)}],miterLimit:[\"stroke-miterlimit\",\"number\"],dashArray:[\"stroke-dasharray\",\"array\"],dashOffset:[\"stroke-dashoffset\",\"number\"],fontFamily:[\"font-family\",\"string\"],fontWeight:[\"font-weight\",\"string\"],fontSize:[\"font-size\",\"number\"],justification:[\"text-anchor\",\"lookup\",{left:\"start\",center:\"middle\",right:\"end\"}],opacity:[\"opacity\",\"number\"],blendMode:[\"mix-blend-mode\",\"style\"]},function(a,b){var c=e.capitalize(b),d=a[2];this[b]={type:a[1],property:b,attribute:a[0],toSVG:d,fromSVG:d&&e.each(d,function(a,b){this[a]=b},{}),exportFilter:a[3],get:\"get\"+c,set:\"set\"+c}},{});return new function(){function c(a,c,d){var f=new e,g=a.getTranslation();if(c){a=a._shiftless();var h=a._inverseTransform(g);f[d?\"cx\":\"x\"]=h.x,f[d?\"cy\":\"y\"]=h.y,g=null}if(!a.isIdentity()){var i=a.decompose();if(i){var k=[],l=i.rotation,m=i.scaling,n=i.skewing;g&&!g.isZero()&&k.push(\"translate(\"+b.point(g)+\")\"),l&&k.push(\"rotate(\"+b.number(l)+\")\"),j.isZero(m.x-1)&&j.isZero(m.y-1)||k.push(\"scale(\"+b.point(m)+\")\"),n&&n.x&&k.push(\"skewX(\"+b.number(n.x)+\")\"),n&&n.y&&k.push(\"skewY(\"+b.number(n.y)+\")\"),f.transform=k.join(\" \")}else f.transform=\"matrix(\"+a.getValues().join(\",\")+\")\"}return f}function d(a,d){for(var e=c(a._matrix),f=a._children,g=ca.create(\"g\",e,b),h=0,i=f.length;h<i;h++){var j=f[h],k=z(j,d);if(k)if(j.isClipMask()){var l=ca.create(\"clipPath\");l.appendChild(k),x(j,l,\"clip\"),ca.set(g,{\"clip-path\":\"url(#\"+l.id+\")\"})}else g.appendChild(k)}return g}function f(a,d){var e=c(a._matrix,!0),f=a.getSize(),g=a.getImage();return e.x-=f.width/2,e.y-=f.height/2,e.width=f.width,e.height=f.height,e.href=d.embedImages===!1&&g&&g.src||a.toDataURL(),ca.create(\"image\",e,b)}function g(a,d){var e=d.matchShapes;if(e){var f=a.toShape(!1);if(f)return h(f,d)}var j,g=a._segments,i=g.length,k=c(a._matrix);if(e&&i>=2&&!a.hasHandles())if(i>2){j=a._closed?\"polygon\":\"polyline\";for(var l=[],m=0;m<i;m++)l.push(b.point(g[m]._point));k.points=l.join(\" \")}else{j=\"line\";var n=g[0]._point,o=g[1]._point;k.set({x1:n.x,y1:n.y,x2:o.x,y2:o.y})}else j=\"path\",k.d=a.getPathData(null,d.precision);return ca.create(j,k,b)}function h(a){var d=a._type,e=a._radius,f=c(a._matrix,!0,\"rectangle\"!==d);if(\"rectangle\"===d){d=\"rect\";var g=a._size,h=g.width,i=g.height;f.x-=h/2,f.y-=i/2,f.width=h,f.height=i,e.isZero()&&(e=null)}return e&&(\"circle\"===d?f.r=e:(f.rx=e.width,f.ry=e.height)),ca.create(d,f,b)}function l(a,d){var e=c(a._matrix),f=a.getPathData(null,d.precision);return f&&(e.d=f),ca.create(\"path\",e,b)}function m(a,d){var e=c(a._matrix,!0),f=a._definition,g=w(f,\"symbol\"),h=f._item,i=h.getBounds();return g||(g=ca.create(\"symbol\",{viewBox:b.rectangle(i)}),g.appendChild(z(h,d)),x(f,g,\"symbol\")),e.href=\"#\"+g.id,e.x+=i.x,e.y+=i.y,e.width=i.width,e.height=i.height,e.overflow=\"visible\",ca.create(\"use\",e,b)}function n(a){var c=w(a,\"color\");if(!c){var h,d=a.getGradient(),e=d._radial,f=a.getOrigin(),g=a.getDestination();if(e){h={cx:f.x,cy:f.y,r:f.getDistance(g)};var i=a.getHighlight();i&&(h.fx=i.x,h.fy=i.y)}else h={x1:f.x,y1:f.y,x2:g.x,y2:g.y};h.gradientUnits=\"userSpaceOnUse\",c=ca.create((e?\"radial\":\"linear\")+\"Gradient\",h,b);for(var j=d._stops,k=0,l=j.length;k<l;k++){var m=j[k],n=m._color,o=n.getAlpha();h={offset:m._offset||k/(l-1)},n&&(h[\"stop-color\"]=n.toCSS(!0)),o<1&&(h[\"stop-opacity\"]=o),c.appendChild(ca.create(\"stop\",h,b))}x(a,c,\"color\")}return\"url(#\"+c.id+\")\"}function o(a){var d=ca.create(\"text\",c(a._matrix,!0),b);return d.textContent=a._content,d}function s(a,c,d){var f={},g=!d&&a.getParent(),h=[];return null!=a._name&&(f.id=a._name),e.each(da,function(b){var c=b.get,d=b.type,i=a[c]();if(b.exportFilter?b.exportFilter(a,i):!g||!e.equals(g[c](),i)){if(\"color\"===d&&null!=i){var j=i.getAlpha();j<1&&(f[b.attribute+\"-opacity\"]=j)}\"style\"===d?h.push(b.attribute+\": \"+i):f[b.attribute]=null==i?\"none\":\"color\"===d?i.gradient?n(i,a):i.toCSS(!0):\"array\"===d?i.join(\",\"):\"lookup\"===d?b.toSVG[i]:i}}),h.length&&(f.style=h.join(\";\")),1===f.opacity&&delete f.opacity,a._visible||(f.visibility=\"hidden\"),ca.set(c,f,b)}function w(a,b){return v||(v={ids:{},svgs:{}}),a&&v.svgs[b+\"-\"+(a._id||a.__id||(a.__id=k.get(\"svg\")))]}function x(a,b,c){v||w();var d=v.ids[c]=(v.ids[c]||0)+1;b.id=c+\"-\"+d,v.svgs[c+\"-\"+(a._id||a.__id)]=b}function y(b,c){var d=b,e=null;if(v){d=\"svg\"===b.nodeName.toLowerCase()&&b;for(var f in v.svgs)e||(d||(d=ca.create(\"svg\"),d.appendChild(b)),e=d.insertBefore(ca.create(\"defs\"),d.firstChild)),e.appendChild(v.svgs[f]);v=null}return c.asString?(new a.XMLSerializer).serializeToString(d):d}function z(a,b,c){var d=q[a._class],e=d&&d(a,b);if(e){var f=b.onExport;f&&(e=f(a,e,b)||e);var g=JSON.stringify(a._data);g&&\"{}\"!==g&&\"null\"!==g&&e.setAttribute(\"data-paper-data\",g)}return e&&s(a,e,c)}function A(a){return a||(a={}),b=new i(a.precision),a}var b,v,q={Group:d,Layer:d,Raster:f,Path:g,Shape:h,CompoundPath:l,SymbolItem:m,PointText:o};u.inject({exportSVG:function(a){return a=A(a),y(z(this,a,!0),a)}}),t.inject({exportSVG:function(a){a=A(a);var d=this._children,f=this.getView(),g=e.pick(a.bounds,\"view\"),h=a.matrix||\"view\"===g&&f._matrix,i=h&&r.read([h]),j=\"view\"===g?new p([0,0],f.getViewSize()):\"content\"===g?u._getBounds(d,i,{stroke:!0}):p.read([g],0,{readNull:!0}),k={version:\"1.1\",xmlns:ca.svg,\"xmlns:xlink\":ca.xlink};j&&(k.width=j.width,k.height=j.height,(j.x||j.y)&&(k.viewBox=b.rectangle(j)));var l=ca.create(\"svg\",k,b),m=l;i&&!i.isIdentity()&&(m=l.appendChild(ca.create(\"g\",c(i),b)));for(var n=0,o=d.length;n<o;n++)m.appendChild(z(d[n],a,!0));return y(l,a)}})},new function(){\nfunction h(a,b,c,d,e){var f=ca.get(a,b),h=null==f?d?null:c?\"\":0:c?f:parseFloat(f);return/%\\s*$/.test(f)?h/100*(e?1:g[/x|^width/.test(b)?\"width\":\"height\"]):h}function i(a,b,c,d,e){return b=h(a,b||\"x\",!1,d,e),c=h(a,c||\"y\",!1,d,e),!d||null!=b&&null!=c?new l(b,c):null}function j(a,b,c,d,e){return b=h(a,b||\"width\",!1,d,e),c=h(a,c||\"height\",!1,d,e),!d||null!=b&&null!=c?new n(b,c):null}function k(a,b,c){return\"none\"===a?null:\"number\"===b?parseFloat(a):\"array\"===b?a?a.split(/[\\s,]+/g).map(parseFloat):[]:\"color\"===b?F(a)||a:\"lookup\"===b?c[a]:a}function m(a,b,c,d){var e=a.childNodes,f=\"clippath\"===b,g=\"defs\"===b,h=new v,i=h._project,j=i._currentStyle,k=[];if(f||g||(h=E(h,a,d),i._currentStyle=h._style.clone()),d)for(var l=a.querySelectorAll(\"defs\"),m=0,n=l.length;m<n;m++)I(l[m],c,!1);for(var m=0,n=e.length;m<n;m++){var p,o=e[m];1!==o.nodeType||/^defs$/i.test(o.nodeName)||!(p=I(o,c,!1))||p instanceof A||k.push(p)}return h.addChildren(k),f&&(h=E(h.reduce(),a,d)),i._currentStyle=j,(f||g)&&(h.remove(),h=null),h}function o(a,b){for(var c=a.getAttribute(\"points\").match(/[+-]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][+-]?\\d+)?/g),d=[],e=0,f=c.length;e<f;e+=2)d.push(new l(parseFloat(c[e]),parseFloat(c[e+1])));var g=new H(d);return\"polygon\"===b&&g.closePath(),g}function q(a){return G.create(a.getAttribute(\"d\"))}function s(a,b){var e,c=(h(a,\"href\",!0)||\"\").substring(1),d=\"radialgradient\"===b;if(c)e=f[c].getGradient(),e._radial^d&&(e=e.clone(),e._radial=d);else{for(var g=a.childNodes,j=[],k=0,l=g.length;k<l;k++){var m=g[k];1===m.nodeType&&j.push(E(new P,m))}e=new O(j,d)}var n,o,p,q=\"userSpaceOnUse\"!==h(a,\"gradientUnits\",!0);d?(n=i(a,\"cx\",\"cy\",!1,q),o=n.add(h(a,\"r\",!1,!1,q),0),p=i(a,\"fx\",\"fy\",!0,q)):(n=i(a,\"x1\",\"y1\",!1,q),o=i(a,\"x2\",\"y2\",!1,q));var r=E(new N(e,n,o,p),a);return r._scaleToBounds=q,null}function z(a,b,c,d){if(a.transform){for(var e=(d.getAttribute(c)||\"\").split(/\\)\\s*/g),f=new r,g=0,h=e.length;g<h;g++){var i=e[g];if(!i)break;for(var j=i.split(/\\(\\s*/),k=j[0],l=j[1].split(/[\\s,]+/g),m=0,n=l.length;m<n;m++)l[m]=parseFloat(l[m]);switch(k){case\"matrix\":f.append(new r(l[0],l[1],l[2],l[3],l[4],l[5]));break;case\"rotate\":f.rotate(l[0],l[1],l[2]);break;case\"translate\":f.translate(l[0],l[1]);break;case\"scale\":f.scale(l);break;case\"skewX\":f.skew(l[0],0);break;case\"skewY\":f.skew(0,l[0])}}a.transform(f)}}function B(a,b,c){var d=\"fill-opacity\"===c?\"getFillColor\":\"getStrokeColor\",e=a[d]&&a[d]();e&&e.setAlpha(parseFloat(b))}function D(a,c,d){var f=a.attributes[c],g=f&&f.value;if(!g){var h=e.camelize(c);g=a.style[h],g||d.node[h]===d.parent[h]||(g=d.node[h])}return g?\"none\"===g?null:g:b}function E(a,c,d){var f=c.parentNode,g={node:R.getStyles(c)||{},parent:!d&&!/^defs$/i.test(f.tagName)&&R.getStyles(f)||{}};return e.each(C,function(d,e){var f=D(c,e,g);a=f!==b&&d(a,f,e,c,g)||a}),a}function F(a){var b=a&&a.match(/\\((?:[\"'#]*)([^\"')]+)/),d=b&&b[1],e=d&&f[c?d.replace(c.location.href.split(\"#\")[0]+\"#\",\"\"):d];return e&&e._scaleToBounds&&(e=e.clone(),e._scaleToBounds=!0),e}function I(a,b,c){var l,m,n,h=a.nodeName.toLowerCase(),i=\"#document\"!==h,k=d.body;c&&i&&(g=j(a,null,null,!0)||paper.getView().getSize(),l=ca.create(\"svg\",{style:\"stroke-width: 1px; stroke-miterlimit: 10\"}),m=a.parentNode,n=a.nextSibling,l.appendChild(a),k.appendChild(l));var o=paper.settings,p=o.applyMatrix,q=o.insertItems;o.applyMatrix=!1,o.insertItems=!1;var r=w[h],s=r&&r(a,h,b,c)||null;if(o.insertItems=q,o.applyMatrix=p,s){!i||s instanceof v||(s=E(s,a,c));var t=b.onImport,u=i&&a.getAttribute(\"data-paper-data\");t&&(s=t(a,s,b)||s),b.expandShapes&&s instanceof x&&(s.remove(),s=s.toPath()),u&&(s._data=JSON.parse(u))}return l&&(k.removeChild(l),m&&(n?m.insertBefore(a,n):m.appendChild(a))),c&&(f={},s&&e.pick(b.applyMatrix,p)&&s.matrix.apply(!0,!0)),s}function J(c,e,f){function i(d){try{var i=\"object\"==typeof d?d:(new a.DOMParser).parseFromString(d,\"image/svg+xml\");if(!i.nodeName)throw i=null,new Error(\"Unsupported SVG source: \"+c);paper=g,h=I(i,e,!0),e&&e.insert===!1||f._insertItem(b,h);var k=e.onLoad;k&&k(h,d)}catch(a){j(a)}}function j(a,b){var c=e.onError;if(!c)throw new Error(a);c(a,b)}if(!c)return null;e=\"function\"==typeof e?{onLoad:e}:e||{};var g=paper,h=null;if(\"string\"!=typeof c||/^.*</.test(c)){if(\"undefined\"!=typeof File&&c instanceof File){var l=new FileReader;return l.onload=function(){i(l.result)},l.onerror=function(){j(l.error)},l.readAsText(c)}i(c)}else{var k=d.getElementById(c);k?i(k):_.request({url:c,async:!0,onLoad:i,onError:j})}return h}var g,f={},w={\"#document\":function(a,b,c,d){for(var e=a.childNodes,f=0,g=e.length;f<g;f++){var h=e[f];if(1===h.nodeType)return I(h,c,d)}},g:m,svg:m,clippath:m,polygon:o,polyline:o,path:q,lineargradient:s,radialgradient:s,image:function(a){var b=new y(h(a,\"href\",!0));return b.on(\"load\",function(){var b=j(a);this.setSize(b);var c=this._matrix._transformPoint(i(a).add(b.divide(2)));this.translate(c)}),b},symbol:function(a,b,c,d){return new A(m(a,b,c,d),!0)},defs:m,use:function(a){var b=(h(a,\"href\",!0)||\"\").substring(1),c=f[b],d=i(a);return c?c instanceof A?c.place(d):c.clone().translate(d):null},circle:function(a){return new x.Circle(i(a,\"cx\",\"cy\"),h(a,\"r\"))},ellipse:function(a){return new x.Ellipse({center:i(a,\"cx\",\"cy\"),radius:j(a,\"rx\",\"ry\")})},rect:function(a){return new x.Rectangle(new p(i(a),j(a)),j(a,\"rx\",\"ry\"))},line:function(a){return new H.Line(i(a,\"x1\",\"y1\"),i(a,\"x2\",\"y2\"))},text:function(a){var b=new M(i(a).add(i(a,\"dx\",\"dy\")));return b.setContent(a.textContent.trim()||\"\"),b}},C=e.set(e.each(da,function(a){this[a.attribute]=function(b,c){if(b[a.set]&&(b[a.set](k(c,a.type,a.fromSVG)),\"color\"===a.type)){var d=b[a.get]();if(d){if(d._scaleToBounds){var e=b.getBounds();d.transform((new r).translate(e.getPoint()).scale(e.getSize()))}b instanceof x&&d.transform((new r).translate(b.getPosition(!0).negate()))}}}},{}),{id:function(a,b){f[b]=a,a.setName&&a.setName(b)},\"clip-path\":function(a,b){var c=F(b);if(c){if(c=c.clone(),c.setClipMask(!0),!(a instanceof v))return new v(c,a);a.insertChild(0,c)}},gradientTransform:z,transform:z,\"fill-opacity\":B,\"stroke-opacity\":B,visibility:function(a,b){a.setVisible&&a.setVisible(\"visible\"===b)},display:function(a,b){a.setVisible&&a.setVisible(null!==b)},\"stop-color\":function(a,b){a.setColor&&a.setColor(b)},\"stop-opacity\":function(a,b){a._color&&a._color.setAlpha(parseFloat(b))},offset:function(a,b){if(a.setOffset){var c=b.match(/(.*)%$/);a.setOffset(c?c[1]/100:parseFloat(b))}},viewBox:function(a,b,c,d,e){var h,i,f=new p(k(b,\"array\")),g=j(d,null,null,!0);if(a instanceof v){var l=g?g.divide(f.getSize()):1,i=(new r).scale(l).translate(f.getPoint().negate());h=a}else a instanceof A&&(g&&f.setSize(g),h=a._item);if(h){if(\"visible\"!==D(d,\"overflow\",e)){var m=new x.Rectangle(f);m.setClipMask(!0),h.addChild(m)}i&&h.transform(i)}}});u.inject({importSVG:function(a,b){return J(a,b,this)}}),t.inject({importSVG:function(a,b){return this.activate(),J(a,b,this)}})},paper=new(g.inject(e.exports,{enumerable:!0,Base:e,Numerical:j,Key:X,DomEvent:S,DomElement:R,document:d,window:c,Symbol:A,PlacedSymbol:z})),paper.agent.node&&require(\"./node/extend.js\")(paper),\"function\"==typeof define&&define.amd?define(\"paper\",paper):\"object\"==typeof module&&module&&(module.exports=paper),paper}.call(this,\"object\"==typeof self?self:null);"]}